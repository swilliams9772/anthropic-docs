<main class="jsx-4145347147"><div class="relative antialiased text-gray-500 dark:text-gray-400"><div class="max-w-8xl px-4 mx-auto lg:px-8"><div class="z-20 hidden lg:block fixed bottom-0 right-auto w-[18rem]" id="sidebar" style="top:7rem"><div class="absolute inset-0 z-10 stable-scrollbar-gutter overflow-auto pr-8 pb-10" id="sidebar-content"><div class="relative lg:text-sm lg:leading-6"><div id="navigation-items"><li class="list-none"><a class="link nav-anchor pl-4 group flex items-center lg:text-sm lg:leading-6 mb-5 sm:mb-4 font-semibold text-primary dark:text-primary-light" href="/en/home">Documentation</a></li><li class="list-none"><a class="link nav-anchor pl-4 group flex items-center lg:text-sm lg:leading-6 mb-5 sm:mb-4 font-medium text-gray-600 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="https://console.anthropic.com/" rel="noreferrer" target="_blank">Developer Console</a></li><li class="list-none"><a class="link nav-anchor pl-4 group flex items-center lg:text-sm lg:leading-6 mb-5 sm:mb-4 font-medium text-gray-600 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="https://www.anthropic.com/discord" rel="noreferrer" target="_blank">Developer Discord</a></li><li class="list-none"><a class="link nav-anchor pl-4 group flex items-center lg:text-sm lg:leading-6 mb-5 sm:mb-4 font-medium text-gray-600 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="https://support.anthropic.com/" rel="noreferrer" target="_blank">Support</a></li><div class="mt-12 lg:mt-8"><h5 class="pl-4 mb-3.5 lg:mb-2.5 font-semibold text-gray-900 dark:text-gray-200" id="sidebar-title">First steps</h5><ul id="sidebar-group"><li class="relative scroll-m-4 first:scroll-m-20" id="/en/docs/welcome"><a class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light gap-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="/en/docs/welcome" style="padding-left:1rem"><div class="flex-1 flex items-center space-x-2.5"><div>Intro to Claude</div></div></a></li><li class="relative scroll-m-4 first:scroll-m-20" id="/en/docs/get-started"><a class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light gap-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="/en/docs/get-started" style="padding-left:1rem"><div class="flex-1 flex items-center space-x-2.5"><div>Get started</div></div></a></li></ul></div><div class="mt-12 lg:mt-8"><h5 class="pl-4 mb-3.5 lg:mb-2.5 font-semibold text-gray-900 dark:text-gray-200" id="sidebar-title">Models &amp; pricing</h5><ul id="sidebar-group"><li class="relative scroll-m-4 first:scroll-m-20" id="/en/docs/about-claude/models/overview"><a class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light gap-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="/en/docs/about-claude/models/overview" style="padding-left:1rem"><div class="flex-1 flex items-center space-x-2.5"><div>Models overview</div></div></a></li><li class="relative scroll-m-4 first:scroll-m-20" id="/en/docs/about-claude/models/choosing-a-model"><a class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light gap-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="/en/docs/about-claude/models/choosing-a-model" style="padding-left:1rem"><div class="flex-1 flex items-center space-x-2.5"><div>Choosing a model</div></div></a></li><li class="relative scroll-m-4 first:scroll-m-20" id="/en/docs/about-claude/models/migrating-to-claude-4"><a class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light gap-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="/en/docs/about-claude/models/migrating-to-claude-4" style="padding-left:1rem"><div class="flex-1 flex items-center space-x-2.5"><div>Migrating to Claude 4</div></div></a></li><li class="relative scroll-m-4 first:scroll-m-20" id="/en/docs/about-claude/model-deprecations"><a class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light gap-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="/en/docs/about-claude/model-deprecations" style="padding-left:1rem"><div class="flex-1 flex items-center space-x-2.5"><div>Model deprecations</div></div></a></li><li class="relative scroll-m-4 first:scroll-m-20" id="/en/docs/about-claude/pricing"><a class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light gap-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="/en/docs/about-claude/pricing" style="padding-left:1rem"><div class="flex-1 flex items-center space-x-2.5"><div>Pricing</div></div></a></li></ul></div><div class="mt-12 lg:mt-8"><h5 class="pl-4 mb-3.5 lg:mb-2.5 font-semibold text-gray-900 dark:text-gray-200" id="sidebar-title">Learn about Claude</h5><ul id="sidebar-group"><li class="relative scroll-m-4 first:scroll-m-20" id="/en/docs/overview"><a class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light gap-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="/en/docs/overview" style="padding-left:1rem"><div class="flex-1 flex items-center space-x-2.5"><div>Building with Claude</div></div></a></li><li><div class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light gap-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" style="padding-left:1rem"><div class="">Use cases</div></div></li><li class="relative scroll-m-4 first:scroll-m-20" id="/en/docs/build-with-claude/context-windows"><a class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light gap-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="/en/docs/build-with-claude/context-windows" style="padding-left:1rem"><div class="flex-1 flex items-center space-x-2.5"><div>Context windows</div></div></a></li><li class="relative scroll-m-4 first:scroll-m-20" id="/en/docs/about-claude/glossary"><a class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light gap-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="/en/docs/about-claude/glossary" style="padding-left:1rem"><div class="flex-1 flex items-center space-x-2.5"><div>Glossary</div></div></a></li><li><div class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light gap-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" style="padding-left:1rem"><div class="">Prompt engineering</div></div></li></ul></div><div class="mt-12 lg:mt-8"><h5 class="pl-4 mb-3.5 lg:mb-2.5 font-semibold text-gray-900 dark:text-gray-200" id="sidebar-title">Explore features</h5><ul id="sidebar-group"><li class="relative scroll-m-4 first:scroll-m-20" id="/en/docs/build-with-claude/overview"><a class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light gap-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="/en/docs/build-with-claude/overview" style="padding-left:1rem"><div class="flex-1 flex items-center space-x-2.5"><div>Features overview</div></div></a></li><li class="relative scroll-m-4 first:scroll-m-20" id="/en/docs/build-with-claude/prompt-caching"><a class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light gap-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="/en/docs/build-with-claude/prompt-caching" style="padding-left:1rem"><div class="flex-1 flex items-center space-x-2.5"><div>Prompt caching</div></div></a></li><li class="relative scroll-m-4 first:scroll-m-20" id="/en/docs/build-with-claude/extended-thinking"><a class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light gap-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="/en/docs/build-with-claude/extended-thinking" style="padding-left:1rem"><div class="flex-1 flex items-center space-x-2.5"><div>Extended thinking</div></div></a></li><li class="relative scroll-m-4 first:scroll-m-20" id="/en/docs/build-with-claude/streaming"><a class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light gap-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="/en/docs/build-with-claude/streaming" style="padding-left:1rem"><div class="flex-1 flex items-center space-x-2.5"><div>Streaming Messages</div></div></a></li><li class="relative scroll-m-4 first:scroll-m-20" id="/en/docs/build-with-claude/batch-processing"><a class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light gap-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="/en/docs/build-with-claude/batch-processing" style="padding-left:1rem"><div class="flex-1 flex items-center space-x-2.5"><div>Batch processing</div></div></a></li><li class="relative scroll-m-4 first:scroll-m-20" id="/en/docs/build-with-claude/citations"><a class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light gap-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="/en/docs/build-with-claude/citations" style="padding-left:1rem"><div class="flex-1 flex items-center space-x-2.5"><div>Citations</div></div></a></li><li class="relative scroll-m-4 first:scroll-m-20" id="/en/docs/build-with-claude/multilingual-support"><a class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light gap-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="/en/docs/build-with-claude/multilingual-support" style="padding-left:1rem"><div class="flex-1 flex items-center space-x-2.5"><div>Multilingual support</div></div></a></li><li class="relative scroll-m-4 first:scroll-m-20" id="/en/docs/build-with-claude/token-counting"><a class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light gap-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="/en/docs/build-with-claude/token-counting" style="padding-left:1rem"><div class="flex-1 flex items-center space-x-2.5"><div>Token counting</div></div></a></li><li class="relative scroll-m-4 first:scroll-m-20" id="/en/docs/build-with-claude/embeddings"><a class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light gap-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="/en/docs/build-with-claude/embeddings" style="padding-left:1rem"><div class="flex-1 flex items-center space-x-2.5"><div>Embeddings</div></div></a></li><li class="relative scroll-m-4 first:scroll-m-20" id="/en/docs/build-with-claude/vision"><a class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light gap-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="/en/docs/build-with-claude/vision" style="padding-left:1rem"><div class="flex-1 flex items-center space-x-2.5"><div>Vision</div></div></a></li><li class="relative scroll-m-4 first:scroll-m-20" id="/en/docs/build-with-claude/pdf-support"><a class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light gap-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="/en/docs/build-with-claude/pdf-support" style="padding-left:1rem"><div class="flex-1 flex items-center space-x-2.5"><div>PDF support</div></div></a></li></ul></div><div class="mt-12 lg:mt-8"><h5 class="pl-4 mb-3.5 lg:mb-2.5 font-semibold text-gray-900 dark:text-gray-200" id="sidebar-title">Agent components</h5><ul id="sidebar-group"><li><div class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light gap-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" style="padding-left:1rem"><div class="">Tools</div></div><ul><li class="relative scroll-m-4 first:scroll-m-20" id="/en/docs/agents-and-tools/tool-use/overview"><a class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light gap-x-3 rounded-xl bg-primary/10 text-primary font-semibold dark:text-primary-light dark:bg-primary-light/10" href="/en/docs/agents-and-tools/tool-use/overview" style="padding-left:1.75rem"><div class="flex-1 flex items-center space-x-2.5"><div>Overview</div></div></a></li><li class="relative scroll-m-4 first:scroll-m-20" id="/en/docs/agents-and-tools/tool-use/implement-tool-use"><a class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light gap-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="/en/docs/agents-and-tools/tool-use/implement-tool-use" style="padding-left:1.75rem"><div class="flex-1 flex items-center space-x-2.5"><div>How to implement tool use</div></div></a></li><li class="relative scroll-m-4 first:scroll-m-20" id="/en/docs/agents-and-tools/tool-use/token-efficient-tool-use"><a class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light gap-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="/en/docs/agents-and-tools/tool-use/token-efficient-tool-use" style="padding-left:1.75rem"><div class="flex-1 flex items-center space-x-2.5"><div>Token-efficient tool use (beta)</div></div></a></li><li><div class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light gap-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" style="padding-left:1.75rem"><div class="">Client tools</div></div></li><li><div class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light gap-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" style="padding-left:1.75rem"><div class="">Server tools</div></div></li></ul></li><li><div class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light gap-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" style="padding-left:1rem"><div class="">Model Context Protocol (MCP)</div></div></li><li class="relative scroll-m-4 first:scroll-m-20" id="/en/docs/agents-and-tools/computer-use"><a class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light gap-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="/en/docs/agents-and-tools/computer-use" style="padding-left:1rem"><div class="flex-1 flex items-center space-x-2.5"><div>Computer use (beta)</div></div></a></li><li class="relative scroll-m-4 first:scroll-m-20" id="/en/docs/agents-and-tools/claude-for-sheets"><a class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light gap-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="/en/docs/agents-and-tools/claude-for-sheets" style="padding-left:1rem"><div class="flex-1 flex items-center space-x-2.5"><div>Google Sheets add-on</div></div></a></li></ul></div><div class="mt-12 lg:mt-8"><h5 class="pl-4 mb-3.5 lg:mb-2.5 font-semibold text-gray-900 dark:text-gray-200" id="sidebar-title">Test &amp; evaluate</h5><ul id="sidebar-group"><li class="relative scroll-m-4 first:scroll-m-20" id="/en/docs/test-and-evaluate/define-success"><a class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light gap-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="/en/docs/test-and-evaluate/define-success" style="padding-left:1rem"><div class="flex-1 flex items-center space-x-2.5"><div>Define success criteria</div></div></a></li><li class="relative scroll-m-4 first:scroll-m-20" id="/en/docs/test-and-evaluate/develop-tests"><a class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light gap-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="/en/docs/test-and-evaluate/develop-tests" style="padding-left:1rem"><div class="flex-1 flex items-center space-x-2.5"><div>Develop test cases</div></div></a></li><li><div class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light gap-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" style="padding-left:1rem"><div class="">Strengthen guardrails</div></div></li><li class="relative scroll-m-4 first:scroll-m-20" id="/en/docs/test-and-evaluate/eval-tool"><a class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light gap-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="/en/docs/test-and-evaluate/eval-tool" style="padding-left:1rem"><div class="flex-1 flex items-center space-x-2.5"><div>Using the Evaluation Tool</div></div></a></li></ul></div><div class="mt-12 lg:mt-8"><h5 class="pl-4 mb-3.5 lg:mb-2.5 font-semibold text-gray-900 dark:text-gray-200" id="sidebar-title">Legal center</h5><ul id="sidebar-group"><li class="relative scroll-m-4 first:scroll-m-20" id="https://www.anthropic.com/legal/privacy"><a class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light gap-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="https://www.anthropic.com/legal/privacy" style="padding-left:1rem" target="_blank"><div class="flex-1 flex items-center space-x-2.5"><div>Anthropic Privacy Policy</div></div></a></li><li class="relative scroll-m-4 first:scroll-m-20" id="https://trust.anthropic.com/"><a class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light gap-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="https://trust.anthropic.com/" style="padding-left:1rem" target="_blank"><div class="flex-1 flex items-center space-x-2.5"><div>Security and compliance</div></div></a></li></ul></div></div></div></div></div><div class="" id="content-container"><div class="flex flex-row gap-12 box-border w-full pt-40 lg:pt-10"><div class="relative grow box-border flex-col w-full mx-auto px-1 lg:pl-[23.7rem] lg:-ml-12 xl:w-[calc(100%-28rem)]" id="content-area"><div class="mdx-content relative mt-8 prose prose-gray dark:prose-invert"><p>Claude is capable of interacting with tools and functions, allowing you to extend Claude’s capabilities to perform a wider variety of tasks.</p>
<div class="callout my-4 px-5 py-4 overflow-hidden rounded-2xl flex gap-3 border border-emerald-500/20 bg-emerald-50/50 dark:border-emerald-500/30 dark:bg-emerald-500/10" data-callout-type="tip"><div class="text-sm prose min-w-0 w-full text-emerald-900 dark:text-emerald-200" data-component-part="callout-content"><p>Learn everything you need to master tool use with Claude via our new
comprehensive <a class="link" href="https://github.com/anthropics/courses/tree/master/tool_use" rel="noreferrer" target="_blank">tool use
course</a>! Please
continue to share your ideas and suggestions using this
<a class="link" href="https://forms.gle/BFnYc6iCkWoRzFgk7" rel="noreferrer" target="_blank">form</a>.</p></div></div>
<p>Here’s an example of how to provide tools to Claude using the Messages API:</p>
<div class="code-group mt-5 mb-8 flex flex-col not-prose relative overflow-hidden rounded-2xl dark:border-gray-800/50 bg-[#0F1117] border border-transparent dark:bg-codeblock text-gray-50 codeblock-dark" id="code-group"><div class="relative border-b border-gray-900/80 bg-[#0F1117] dark:bg-codeblock" data-component-part="code-group-tab-bar"><div aria-orientation="horizontal" class="text-xs leading-6 rounded-t-xl flex overflow-x-auto overflow-y-hidden mr-12 scrollbar-thin scrollbar-thumb-rounded scrollbar-thumb-white/20 dark:scrollbar-thumb-white/20 hover:scrollbar-thumb-white/25 dark:hover:scrollbar-thumb-white/25 active:scrollbar-thumb-white/25 dark:active:scrollbar-thumb-white/25" role="tablist"><button aria-selected="true" class="group flex items-center relative px-2 pt-2.5 pb-2 outline-none whitespace-nowrap font-medium text-primary-light" data-headlessui-state="selected" id="headlessui-tabs-tab-:Rlgempkql6:" role="tab" tabindex="0" type="button"><div class="px-2 rounded-lg z-10 group-hover:bg-gray-700/70 group-hover:text-primary-light">Shell</div></button><button aria-selected="false" class="group flex items-center relative px-2 pt-2.5 pb-2 outline-none whitespace-nowrap font-medium text-gray-400" data-headlessui-state="" id="headlessui-tabs-tab-:R15gempkql6:" role="tab" tabindex="-1" type="button"><div class="px-2 rounded-lg z-10 group-hover:bg-gray-700/70 group-hover:text-primary-light">Python</div></button><button aria-selected="false" class="group flex items-center relative px-2 pt-2.5 pb-2 outline-none whitespace-nowrap font-medium text-gray-400" data-headlessui-state="" id="headlessui-tabs-tab-:R1lgempkql6:" role="tab" tabindex="-1" type="button"><div class="px-2 rounded-lg z-10 group-hover:bg-gray-700/70 group-hover:text-primary-light">TypeScript</div></button><button aria-selected="false" class="group flex items-center relative px-2 pt-2.5 pb-2 outline-none whitespace-nowrap font-medium text-gray-400" data-headlessui-state="" id="headlessui-tabs-tab-:R25gempkql6:" role="tab" tabindex="-1" type="button"><div class="px-2 rounded-lg z-10 group-hover:bg-gray-700/70 group-hover:text-primary-light">Java</div></button></div></div><div class="flex flex-1 overflow-hidden"><div class="relative min-w-full w-full transition-[height] duration-300 ease-in-out" data-headlessui-state="selected" id="headlessui-tabs-panel-:R6gempkql6:" role="tabpanel" style="font-variant-ligatures:none;height:auto" tabindex="0"><div class="flex-none p-5 overflow-x-auto text-sm h-full scrollbar-thin scrollbar-thumb-rounded scrollbar-thumb-white/20 dark:scrollbar-thumb-white/20 hover:scrollbar-thumb-white/25 dark:hover:scrollbar-thumb-white/25 active:scrollbar-thumb-white/25 dark:active:scrollbar-thumb-white/25 leading-6" data-component-part="code-group-tab-content"><pre class="language-bash language-bash"><code class="language-bash"><span class=""><span class="token function">curl</span> https://api.anthropic.com/v1/messages <span class="token punctuation">\</span></span>
<span class="">  <span class="token parameter variable">-H</span> <span class="token string">"content-type: application/json"</span> <span class="token punctuation">\</span></span>
<span class="">  <span class="token parameter variable">-H</span> <span class="token string">"x-api-key: <span class="token variable">$ANTHROPIC_API_KEY</span>"</span> <span class="token punctuation">\</span></span>
<span class="">  <span class="token parameter variable">-H</span> <span class="token string">"anthropic-version: 2023-06-01"</span> <span class="token punctuation">\</span></span>
<span class="">  <span class="token parameter variable">-d</span> '<span class="token punctuation">{</span></span>
<span class="">    <span class="token string">"model"</span><span class="token builtin class-name">:</span> <span class="token string">"claude-opus-4-20250514"</span>,</span>
<span class="">    <span class="token string">"max_tokens"</span><span class="token builtin class-name">:</span> <span class="token number">1024</span>,</span>
<span class="">    <span class="token string">"tools"</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span></span>
<span class="">      <span class="token punctuation">{</span></span>
<span class="">        <span class="token string">"name"</span><span class="token builtin class-name">:</span> <span class="token string">"get_weather"</span>,</span>
<span class="">        <span class="token string">"description"</span><span class="token builtin class-name">:</span> <span class="token string">"Get the current weather in a given location"</span>,</span>
<span class="">        <span class="token string">"input_schema"</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span></span>
<span class="">          <span class="token string">"type"</span><span class="token builtin class-name">:</span> <span class="token string">"object"</span>,</span>
<span class="">          <span class="token string">"properties"</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span></span>
<span class="">            <span class="token string">"location"</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span></span>
<span class="">              <span class="token string">"type"</span><span class="token builtin class-name">:</span> <span class="token string">"string"</span>,</span>
<span class="">              <span class="token string">"description"</span><span class="token builtin class-name">:</span> <span class="token string">"The city and state, e.g. San Francisco, CA"</span></span>
<span class="">            <span class="token punctuation">}</span></span>
<span class="">          <span class="token punctuation">}</span>,</span>
<span class="">          <span class="token string">"required"</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span><span class="token string">"location"</span><span class="token punctuation">]</span></span>
<span class="">        <span class="token punctuation">}</span></span>
<span class="">      <span class="token punctuation">}</span></span>
<span class="">    <span class="token punctuation">]</span>,</span>
<span class="">    <span class="token string">"messages"</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span></span>
<span class="">      <span class="token punctuation">{</span></span>
<span class="">        <span class="token string">"role"</span><span class="token builtin class-name">:</span> <span class="token string">"user"</span>,</span>
<span class="">        <span class="token string">"content"</span><span class="token builtin class-name">:</span> <span class="token string">"What is the weather like in San Francisco?"</span></span>
<span class="">      <span class="token punctuation">}</span></span>
<span class="">    <span class="token punctuation">]</span></span>
<span class="">  <span class="token punctuation">}</span>'</span>
</code></pre></div></div></div></div>

<h2 class="flex whitespace-pre-wrap group font-semibold" id="how-tool-use-works"><div class="absolute"><a aria-label="Navigate to header" class="-ml-10 flex items-center opacity-0 border-0 group-hover:opacity-100" href="#how-tool-use-works">​</a></div><span class="cursor-pointer">How tool use works</span></h2>
<p>Claude supports two types of tools:</p>
<ol>
<li>
<p><strong>Client tools</strong>: Tools that execute on your systems, which include:</p>
<ul>
<li>User-defined custom tools that you create and implement</li>
<li>Anthropic-defined tools like <a class="link" href="/en/docs/build-with-claude/computer-use">computer use (beta)</a> and <a class="link" href="/en/docs/build-with-claude/tool-use/text-editor-tool">text editor</a> that require client implementation</li>
</ul>
</li>
<li>
<p><strong>Server tools</strong>: Tools that execute on Anthropic’s servers, like the <a class="link" href="/en/docs/build-with-claude/tool-use/web-search-tool">web search</a> tool. These tools must be specified in the API request but don’t require implementation on your part.</p>
</li>
</ol>
<div class="callout my-4 px-5 py-4 overflow-hidden rounded-2xl flex gap-3 border border-sky-500/20 bg-sky-50/50 dark:border-sky-500/30 dark:bg-sky-500/10" data-callout-type="note"><div class="text-sm prose min-w-0 w-full text-sky-900 dark:text-sky-200" data-component-part="callout-content"><p>Anthropic-defined tools use versioned types (e.g., <code>web_search_20250305</code>, <code>text_editor_20250124</code>) to ensure compatibility across model versions.</p></div></div>
<h3 class="flex whitespace-pre-wrap group font-semibold" id="client-tools"><div class="absolute"><a aria-label="Navigate to header" class="-ml-10 flex items-center opacity-0 border-0 group-hover:opacity-100" href="#client-tools">​</a></div><span class="cursor-pointer">Client tools</span></h3>
<p>Integrate client tools with Claude in these steps:</p>
<div class="steps ml-3.5 mt-10 mb-6" role="list"><div class="step relative flex items-start pb-2" role="listitem"><div class="absolute ml-[-14px] py-2" contenteditable="false" data-component-part="step-number"><div class="w-7 h-7 shrink-0 rounded-lg bg-gray-100 dark:text-white dark:bg-[#26292E] text-sm text-gray-800 font-semibold flex items-center justify-center">1</div></div><div class="w-full overflow-hidden pl-12 pr-px"><p class="mt-2 font-semibold prose dark:prose-invert text-gray-900 dark:text-gray-200" contenteditable="false" data-component-part="step-title">Provide Claude with tools and a user prompt</p><div data-component-part="step-content"><ul>
<li>Define client tools with names, descriptions, and input schemas in your API request.</li>
<li>Include a user prompt that might require these tools, e.g., “What’s the weather in San Francisco?”</li>
</ul></div></div></div><div class="step relative flex items-start pb-2" role="listitem"><div class="absolute ml-[-14px] py-2" contenteditable="false" data-component-part="step-number"><div class="w-7 h-7 shrink-0 rounded-lg bg-gray-100 dark:text-white dark:bg-[#26292E] text-sm text-gray-800 font-semibold flex items-center justify-center">2</div></div><div class="w-full overflow-hidden pl-12 pr-px"><p class="mt-2 font-semibold prose dark:prose-invert text-gray-900 dark:text-gray-200" contenteditable="false" data-component-part="step-title">Claude decides to use a tool</p><div data-component-part="step-content"><ul>
<li>Claude assesses if any tools can help with the user’s query.</li>
<li>If yes, Claude constructs a properly formatted tool use request.</li>
<li>For client tools, the API response has a <code>stop_reason</code> of <code>tool_use</code>, signaling Claude’s intent.</li>
</ul></div></div></div><div class="step relative flex items-start pb-2" role="listitem"><div class="absolute ml-[-14px] py-2" contenteditable="false" data-component-part="step-number"><div class="w-7 h-7 shrink-0 rounded-lg bg-gray-100 dark:text-white dark:bg-[#26292E] text-sm text-gray-800 font-semibold flex items-center justify-center">3</div></div><div class="w-full overflow-hidden pl-12 pr-px"><p class="mt-2 font-semibold prose dark:prose-invert text-gray-900 dark:text-gray-200" contenteditable="false" data-component-part="step-title">Execute the tool and return results</p><div data-component-part="step-content"><ul>
<li>Extract the tool name and input from Claude’s request</li>
<li>Execute the tool code on your system</li>
<li>Return the results in a new <code>user</code> message containing a <code>tool_result</code> content block</li>
</ul></div></div></div><div class="step relative flex items-start pb-2" role="listitem"><div class="absolute ml-[-14px] py-2" contenteditable="false" data-component-part="step-number"><div class="w-7 h-7 shrink-0 rounded-lg bg-gray-100 dark:text-white dark:bg-[#26292E] text-sm text-gray-800 font-semibold flex items-center justify-center">4</div></div><div class="w-full overflow-hidden pl-12 pr-px"><p class="mt-2 font-semibold prose dark:prose-invert text-gray-900 dark:text-gray-200" contenteditable="false" data-component-part="step-title">Claude uses tool result to formulate a response</p><div data-component-part="step-content"><ul>
<li>Claude analyzes the tool results to craft its final response to the original user prompt.</li>
</ul></div></div></div></div>
<p>Note: Steps 3 and 4 are optional. For some workflows, Claude’s tool use request (step 2) might be all you need, without sending results back to Claude.</p>
<h3 class="flex whitespace-pre-wrap group font-semibold" id="server-tools"><div class="absolute"><a aria-label="Navigate to header" class="-ml-10 flex items-center opacity-0 border-0 group-hover:opacity-100" href="#server-tools">​</a></div><span class="cursor-pointer">Server tools</span></h3>
<p>Server tools follow a different workflow:</p>
<div class="steps ml-3.5 mt-10 mb-6" role="list"><div class="step relative flex items-start pb-2" role="listitem"><div class="absolute ml-[-14px] py-2" contenteditable="false" data-component-part="step-number"><div class="w-7 h-7 shrink-0 rounded-lg bg-gray-100 dark:text-white dark:bg-[#26292E] text-sm text-gray-800 font-semibold flex items-center justify-center">1</div></div><div class="w-full overflow-hidden pl-12 pr-px"><p class="mt-2 font-semibold prose dark:prose-invert text-gray-900 dark:text-gray-200" contenteditable="false" data-component-part="step-title">Provide Claude with tools and a user prompt</p><div data-component-part="step-content"><ul>
<li>Server tools, like <a class="link" href="/en/docs/build-with-claude/tool-use/web-search-tool">web search</a>, have their own parameters.</li>
<li>Include a user prompt that might require these tools, e.g., “Search for the latest news about AI.”</li>
</ul></div></div></div><div class="step relative flex items-start pb-2" role="listitem"><div class="absolute ml-[-14px] py-2" contenteditable="false" data-component-part="step-number"><div class="w-7 h-7 shrink-0 rounded-lg bg-gray-100 dark:text-white dark:bg-[#26292E] text-sm text-gray-800 font-semibold flex items-center justify-center">2</div></div><div class="w-full overflow-hidden pl-12 pr-px"><p class="mt-2 font-semibold prose dark:prose-invert text-gray-900 dark:text-gray-200" contenteditable="false" data-component-part="step-title">Claude executes the server tool</p><div data-component-part="step-content"><ul>
<li>Claude assesses if a server tool can help with the user’s query.</li>
<li>If yes, Claude executes the tool, and the results are automatically incorporated into Claude’s response.</li>
</ul></div></div></div><div class="step relative flex items-start pb-2" role="listitem"><div class="absolute ml-[-14px] py-2" contenteditable="false" data-component-part="step-number"><div class="w-7 h-7 shrink-0 rounded-lg bg-gray-100 dark:text-white dark:bg-[#26292E] text-sm text-gray-800 font-semibold flex items-center justify-center">3</div></div><div class="w-full overflow-hidden pl-12 pr-px"><p class="mt-2 font-semibold prose dark:prose-invert text-gray-900 dark:text-gray-200" contenteditable="false" data-component-part="step-title">Claude uses the server tool result to formulate a response</p><div data-component-part="step-content"><ul>
<li>Claude analyzes the server tool results to craft its final response to the original user prompt.</li>
<li>No additional user interaction is needed for server tool execution.</li>
</ul></div></div></div></div>

<h2 class="flex whitespace-pre-wrap group font-semibold" id="tool-use-examples"><div class="absolute"><a aria-label="Navigate to header" class="-ml-10 flex items-center opacity-0 border-0 group-hover:opacity-100" href="#tool-use-examples">​</a></div><span class="cursor-pointer">Tool use examples</span></h2>
<p>Here are a few code examples demonstrating various tool use patterns and techniques. For brevity’s sake, the tools are simple tools, and the tool descriptions are shorter than would be ideal to ensure best performance.</p>
<div class="accordion-group [&amp;&gt;div]:border-0 [&amp;&gt;div]:rounded-none [&amp;&gt;div&gt;button]:rounded-none [&amp;&gt;div]:mb-0 overflow-hidden mt-0 mb-3 rounded-xl prose prose-gray dark:prose-invert divide-y divide-inherit border dark:border-gray-800/50"><div class="accordion border-standard rounded-2xl mb-3 overflow-hidden bg-background-light dark:bg-codeblock cursor-default" role="button"><button aria-controls="single-tool-example accordion children" aria-expanded="false" class="relative not-prose flex flex-row items-center content-center w-full py-4 px-5 space-x-2 hover:bg-gray-100 hover:dark:bg-gray-800 rounded-t-xl" data-component-part="accordion-button"><div class="leading-tight text-left" contenteditable="false" data-component-part="accordion-title-container"><p class="m-0 font-medium text-gray-900 dark:text-gray-200" data-component-part="accordion-title">Single tool example</p></div></button><div class="mt-2 mb-4 mx-6 hidden overflow-x-auto cursor-default" data-component-part="accordion-content" id="single-tool-example accordion children" role="contentinfo"><div class="code-group mt-5 mb-8 flex flex-col not-prose relative overflow-hidden rounded-2xl dark:border-gray-800/50 bg-[#0F1117] border border-transparent dark:bg-codeblock text-gray-50 codeblock-dark" id="code-group"><div class="relative border-b border-gray-900/80 bg-[#0F1117] dark:bg-codeblock" data-component-part="code-group-tab-bar"><div aria-orientation="horizontal" class="text-xs leading-6 rounded-t-xl flex overflow-x-auto overflow-y-hidden mr-12 scrollbar-thin scrollbar-thumb-rounded scrollbar-thumb-white/20 dark:scrollbar-thumb-white/20 hover:scrollbar-thumb-white/25 dark:hover:scrollbar-thumb-white/25 active:scrollbar-thumb-white/25 dark:active:scrollbar-thumb-white/25" role="tablist"><button aria-selected="true" class="group flex items-center relative px-2 pt-2.5 pb-2 outline-none whitespace-nowrap font-medium text-primary-light" data-headlessui-state="selected" id="headlessui-tabs-tab-:R5ccaempkql6:" role="tab" tabindex="0" type="button"><div class="px-2 rounded-lg z-10 group-hover:bg-gray-700/70 group-hover:text-primary-light">Shell</div></button><button aria-selected="false" class="group flex items-center relative px-2 pt-2.5 pb-2 outline-none whitespace-nowrap font-medium text-gray-400" data-headlessui-state="" id="headlessui-tabs-tab-:R9ccaempkql6:" role="tab" tabindex="-1" type="button"><div class="px-2 rounded-lg z-10 group-hover:bg-gray-700/70 group-hover:text-primary-light">Python</div></button><button aria-selected="false" class="group flex items-center relative px-2 pt-2.5 pb-2 outline-none whitespace-nowrap font-medium text-gray-400" data-headlessui-state="" id="headlessui-tabs-tab-:Rdccaempkql6:" role="tab" tabindex="-1" type="button"><div class="px-2 rounded-lg z-10 group-hover:bg-gray-700/70 group-hover:text-primary-light">Java</div></button></div></div><div class="flex flex-1 overflow-hidden"><div class="relative min-w-full w-full transition-[height] duration-300 ease-in-out" data-headlessui-state="selected" id="headlessui-tabs-panel-:R1kcaempkql6:" role="tabpanel" style="font-variant-ligatures:none;height:auto" tabindex="0"><div class="flex-none p-5 overflow-x-auto text-sm h-full scrollbar-thin scrollbar-thumb-rounded scrollbar-thumb-white/20 dark:scrollbar-thumb-white/20 hover:scrollbar-thumb-white/25 dark:hover:scrollbar-thumb-white/25 active:scrollbar-thumb-white/25 dark:active:scrollbar-thumb-white/25 leading-6" data-component-part="code-group-tab-content"><pre class="language-bash language-bash"><code class="language-bash"><span class=""><span class="token function">curl</span> https://api.anthropic.com/v1/messages <span class="token punctuation">\</span></span>
<span class="">     <span class="token parameter variable">--header</span> <span class="token string">"x-api-key: <span class="token variable">$ANTHROPIC_API_KEY</span>"</span> <span class="token punctuation">\</span></span>
<span class="">     <span class="token parameter variable">--header</span> <span class="token string">"anthropic-version: 2023-06-01"</span> <span class="token punctuation">\</span></span>
<span class="">     <span class="token parameter variable">--header</span> <span class="token string">"content-type: application/json"</span> <span class="token punctuation">\</span></span>
<span class="">     <span class="token parameter variable">--data</span> <span class="token punctuation">\</span></span>
<span class="">'<span class="token punctuation">{</span></span>
<span class="">    <span class="token string">"model"</span><span class="token builtin class-name">:</span> <span class="token string">"claude-opus-4-20250514"</span>,</span>
<span class="">    <span class="token string">"max_tokens"</span><span class="token builtin class-name">:</span> <span class="token number">1024</span>,</span>
<span class="">    <span class="token string">"tools"</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span></span>
<span class="">        <span class="token string">"name"</span><span class="token builtin class-name">:</span> <span class="token string">"get_weather"</span>,</span>
<span class="">        <span class="token string">"description"</span><span class="token builtin class-name">:</span> <span class="token string">"Get the current weather in a given location"</span>,</span>
<span class="">        <span class="token string">"input_schema"</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span></span>
<span class="">            <span class="token string">"type"</span><span class="token builtin class-name">:</span> <span class="token string">"object"</span>,</span>
<span class="">            <span class="token string">"properties"</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span></span>
<span class="">                <span class="token string">"location"</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span></span>
<span class="">                    <span class="token string">"type"</span><span class="token builtin class-name">:</span> <span class="token string">"string"</span>,</span>
<span class="">                    <span class="token string">"description"</span><span class="token builtin class-name">:</span> <span class="token string">"The city and state, e.g. San Francisco, CA"</span></span>
<span class="">                <span class="token punctuation">}</span>,</span>
<span class="">                <span class="token string">"unit"</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span></span>
<span class="">                    <span class="token string">"type"</span><span class="token builtin class-name">:</span> <span class="token string">"string"</span>,</span>
<span class="">                    <span class="token string">"enum"</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span><span class="token string">"celsius"</span>, <span class="token string">"fahrenheit"</span><span class="token punctuation">]</span>,</span>
<span class="">                    <span class="token string">"description"</span><span class="token builtin class-name">:</span> <span class="token string">"The unit of temperature, either <span class="token entity" title='\"'>\"</span>celsius<span class="token entity" title='\"'>\"</span> or <span class="token entity" title='\"'>\"</span>fahrenheit<span class="token entity" title='\"'>\"</span>"</span></span>
<span class="">                <span class="token punctuation">}</span></span>
<span class="">            <span class="token punctuation">}</span>,</span>
<span class="">            <span class="token string">"required"</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span><span class="token string">"location"</span><span class="token punctuation">]</span></span>
<span class="">        <span class="token punctuation">}</span></span>
<span class="">    <span class="token punctuation">}</span><span class="token punctuation">]</span>,</span>
<span class="">    <span class="token string">"messages"</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token string">"role"</span><span class="token builtin class-name">:</span> <span class="token string">"user"</span>, <span class="token string">"content"</span><span class="token builtin class-name">:</span> <span class="token string">"What is the weather like in San Francisco?"</span><span class="token punctuation">}</span><span class="token punctuation">]</span></span>
<span class=""><span class="token punctuation">}</span>'</span>
</code></pre></div></div></div></div><p>Claude will return a response similar to:</p><div class="code-block mt-5 mb-8 not-prose rounded-2xl relative group text-gray-50 bg-[#0F1117] dark:bg-codeblock ring-1 ring-transparent dark:ring-gray-800/50 codeblock-dark"><div class="flex rounded-t-2xl text-gray-400 text-xs leading-6 border-b font-medium bg-black/40 border-gray-900/80" data-component-part="code-block-tab-bar"><div class="flex-none border-b px-4 pt-2.5 pb-2 flex items-center text-primary-light border-primary-light" data-component-part="code-block-tab-bar-filename">JSON</div></div><div class="min-w-full relative text-sm leading-6 children:!my-0 children:!shadow-none children:!bg-transparent transition-[height] duration-300 ease-in-out" data-component-part="code-block-root" style="font-variant-ligatures:none;height:auto"><div class="overflow-x-auto h-full p-5 [&amp;&gt;pre&gt;code]:pr-[3rem] [&amp;&gt;pre&gt;code&gt;span.line-highlight]:min-w-[calc(100%+3rem)] overflow-y-hidden scrollbar-thin scrollbar-thumb-rounded scrollbar-thumb-white/20 dark:scrollbar-thumb-white/20 hover:scrollbar-thumb-white/25 dark:hover:scrollbar-thumb-white/25 active:scrollbar-thumb-white/25 dark:active:scrollbar-thumb-white/25"><pre class="language-json language-json"><code class="language-JSON"><span class=""><span class="token punctuation">{</span></span>
<span class="">  <span class="token property">"id"</span><span class="token operator">:</span> <span class="token string">"msg_01Aq9w938a90dw8q"</span><span class="token punctuation">,</span></span>
<span class="">  <span class="token property">"model"</span><span class="token operator">:</span> <span class="token string">"claude-opus-4-20250514"</span><span class="token punctuation">,</span></span>
<span class="">  <span class="token property">"stop_reason"</span><span class="token operator">:</span> <span class="token string">"tool_use"</span><span class="token punctuation">,</span></span>
<span class="">  <span class="token property">"role"</span><span class="token operator">:</span> <span class="token string">"assistant"</span><span class="token punctuation">,</span></span>
<span class="">  <span class="token property">"content"</span><span class="token operator">:</span> <span class="token punctuation">[</span></span>
<span class="">    <span class="token punctuation">{</span></span>
<span class="">      <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"text"</span><span class="token punctuation">,</span></span>
<span class="">      <span class="token property">"text"</span><span class="token operator">:</span> <span class="token string">"&lt;thinking&gt;I need to call the get_weather function, and the user wants SF, which is likely San Francisco, CA.&lt;/thinking&gt;"</span></span>
<span class="">    <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="">    <span class="token punctuation">{</span></span>
<span class="">      <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"tool_use"</span><span class="token punctuation">,</span></span>
<span class="">      <span class="token property">"id"</span><span class="token operator">:</span> <span class="token string">"toolu_01A09q90qw90lq917835lq9"</span><span class="token punctuation">,</span></span>
<span class="">      <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"get_weather"</span><span class="token punctuation">,</span></span>
<span class="">      <span class="token property">"input"</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token property">"location"</span><span class="token operator">:</span> <span class="token string">"San Francisco, CA"</span><span class="token punctuation">,</span> <span class="token property">"unit"</span><span class="token operator">:</span> <span class="token string">"celsius"</span><span class="token punctuation">}</span></span>
<span class="">    <span class="token punctuation">}</span></span>
<span class="">  <span class="token punctuation">]</span></span>
<span class=""><span class="token punctuation">}</span></span>
</code></pre></div></div></div><p>You would then need to execute the <code>get_weather</code> function with the provided input, and return the result in a new <code>user</code> message:</p><div class="code-group mt-5 mb-8 flex flex-col not-prose relative overflow-hidden rounded-2xl dark:border-gray-800/50 bg-[#0F1117] border border-transparent dark:bg-codeblock text-gray-50 codeblock-dark" id="code-group"><div class="relative border-b border-gray-900/80 bg-[#0F1117] dark:bg-codeblock" data-component-part="code-group-tab-bar"><div aria-orientation="horizontal" class="text-xs leading-6 rounded-t-xl flex overflow-x-auto overflow-y-hidden mr-12 scrollbar-thin scrollbar-thumb-rounded scrollbar-thumb-white/20 dark:scrollbar-thumb-white/20 hover:scrollbar-thumb-white/25 dark:hover:scrollbar-thumb-white/25 active:scrollbar-thumb-white/25 dark:active:scrollbar-thumb-white/25" role="tablist"><button aria-selected="true" class="group flex items-center relative px-2 pt-2.5 pb-2 outline-none whitespace-nowrap font-medium text-primary-light" data-headlessui-state="selected" id="headlessui-tabs-tab-:R5dcaempkql6:" role="tab" tabindex="0" type="button"><div class="px-2 rounded-lg z-10 group-hover:bg-gray-700/70 group-hover:text-primary-light">Shell</div></button><button aria-selected="false" class="group flex items-center relative px-2 pt-2.5 pb-2 outline-none whitespace-nowrap font-medium text-gray-400" data-headlessui-state="" id="headlessui-tabs-tab-:R9dcaempkql6:" role="tab" tabindex="-1" type="button"><div class="px-2 rounded-lg z-10 group-hover:bg-gray-700/70 group-hover:text-primary-light">Python</div></button><button aria-selected="false" class="group flex items-center relative px-2 pt-2.5 pb-2 outline-none whitespace-nowrap font-medium text-gray-400" data-headlessui-state="" id="headlessui-tabs-tab-:Rddcaempkql6:" role="tab" tabindex="-1" type="button"><div class="px-2 rounded-lg z-10 group-hover:bg-gray-700/70 group-hover:text-primary-light">Java</div></button></div></div><div class="flex flex-1 overflow-hidden"><div class="relative min-w-full w-full transition-[height] duration-300 ease-in-out" data-headlessui-state="selected" id="headlessui-tabs-panel-:R1lcaempkql6:" role="tabpanel" style="font-variant-ligatures:none;height:auto" tabindex="0"><div class="flex-none p-5 overflow-x-auto text-sm h-full scrollbar-thin scrollbar-thumb-rounded scrollbar-thumb-white/20 dark:scrollbar-thumb-white/20 hover:scrollbar-thumb-white/25 dark:hover:scrollbar-thumb-white/25 active:scrollbar-thumb-white/25 dark:active:scrollbar-thumb-white/25 leading-6" data-component-part="code-group-tab-content"><pre class="language-bash language-bash"><code class="language-bash"><span class=""><span class="token function">curl</span> https://api.anthropic.com/v1/messages <span class="token punctuation">\</span></span>
<span class="">     <span class="token parameter variable">--header</span> <span class="token string">"x-api-key: <span class="token variable">$ANTHROPIC_API_KEY</span>"</span> <span class="token punctuation">\</span></span>
<span class="">     <span class="token parameter variable">--header</span> <span class="token string">"anthropic-version: 2023-06-01"</span> <span class="token punctuation">\</span></span>
<span class="">     <span class="token parameter variable">--header</span> <span class="token string">"content-type: application/json"</span> <span class="token punctuation">\</span></span>
<span class="">     <span class="token parameter variable">--data</span> <span class="token punctuation">\</span></span>
<span class="">'<span class="token punctuation">{</span></span>
<span class="">    <span class="token string">"model"</span><span class="token builtin class-name">:</span> <span class="token string">"claude-opus-4-20250514"</span>,</span>
<span class="">    <span class="token string">"max_tokens"</span><span class="token builtin class-name">:</span> <span class="token number">1024</span>,</span>
<span class="">    <span class="token string">"tools"</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span></span>
<span class="">        <span class="token punctuation">{</span></span>
<span class="">            <span class="token string">"name"</span><span class="token builtin class-name">:</span> <span class="token string">"get_weather"</span>,</span>
<span class="">            <span class="token string">"description"</span><span class="token builtin class-name">:</span> <span class="token string">"Get the current weather in a given location"</span>,</span>
<span class="">            <span class="token string">"input_schema"</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span></span>
<span class="">                <span class="token string">"type"</span><span class="token builtin class-name">:</span> <span class="token string">"object"</span>,</span>
<span class="">                <span class="token string">"properties"</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span></span>
<span class="">                    <span class="token string">"location"</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span></span>
<span class="">                        <span class="token string">"type"</span><span class="token builtin class-name">:</span> <span class="token string">"string"</span>,</span>
<span class="">                        <span class="token string">"description"</span><span class="token builtin class-name">:</span> <span class="token string">"The city and state, e.g. San Francisco, CA"</span></span>
<span class="">                    <span class="token punctuation">}</span>,</span>
<span class="">                    <span class="token string">"unit"</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span></span>
<span class="">                        <span class="token string">"type"</span><span class="token builtin class-name">:</span> <span class="token string">"string"</span>,</span>
<span class="">                        <span class="token string">"enum"</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span><span class="token string">"celsius"</span>, <span class="token string">"fahrenheit"</span><span class="token punctuation">]</span>,</span>
<span class="">                        <span class="token string">"description"</span><span class="token builtin class-name">:</span> <span class="token string">"The unit of temperature, either <span class="token entity" title='\"'>\"</span>celsius<span class="token entity" title='\"'>\"</span> or <span class="token entity" title='\"'>\"</span>fahrenheit<span class="token entity" title='\"'>\"</span>"</span></span>
<span class="">                    <span class="token punctuation">}</span></span>
<span class="">                <span class="token punctuation">}</span>,</span>
<span class="">                <span class="token string">"required"</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span><span class="token string">"location"</span><span class="token punctuation">]</span></span>
<span class="">            <span class="token punctuation">}</span></span>
<span class="">        <span class="token punctuation">}</span></span>
<span class="">    <span class="token punctuation">]</span>,</span>
<span class="">    <span class="token string">"messages"</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span></span>
<span class="">        <span class="token punctuation">{</span></span>
<span class="">            <span class="token string">"role"</span><span class="token builtin class-name">:</span> <span class="token string">"user"</span>,</span>
<span class="">            <span class="token string">"content"</span><span class="token builtin class-name">:</span> <span class="token string">"What is the weather like in San Francisco?"</span></span>
<span class="">        <span class="token punctuation">}</span>,</span>
<span class="">        <span class="token punctuation">{</span></span>
<span class="">            <span class="token string">"role"</span><span class="token builtin class-name">:</span> <span class="token string">"assistant"</span>,</span>
<span class="">            <span class="token string">"content"</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span></span>
<span class="">                <span class="token punctuation">{</span></span>
<span class="">                    <span class="token string">"type"</span><span class="token builtin class-name">:</span> <span class="token string">"text"</span>,</span>
<span class="">                    <span class="token string">"text"</span><span class="token builtin class-name">:</span> <span class="token string">"&lt;thinking&gt;I need to use get_weather, and the user wants SF, which is likely San Francisco, CA.&lt;/thinking&gt;"</span></span>
<span class="">                <span class="token punctuation">}</span>,</span>
<span class="">                <span class="token punctuation">{</span></span>
<span class="">                    <span class="token string">"type"</span><span class="token builtin class-name">:</span> <span class="token string">"tool_use"</span>,</span>
<span class="">                    <span class="token string">"id"</span><span class="token builtin class-name">:</span> <span class="token string">"toolu_01A09q90qw90lq917835lq9"</span>,</span>
<span class="">                    <span class="token string">"name"</span><span class="token builtin class-name">:</span> <span class="token string">"get_weather"</span>,</span>
<span class="">                    <span class="token string">"input"</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span></span>
<span class="">                        <span class="token string">"location"</span><span class="token builtin class-name">:</span> <span class="token string">"San Francisco, CA"</span>,</span>
<span class="">                        <span class="token string">"unit"</span><span class="token builtin class-name">:</span> <span class="token string">"celsius"</span></span>
<span class="">                    <span class="token punctuation">}</span></span>
<span class="">                <span class="token punctuation">}</span></span>
<span class="">            <span class="token punctuation">]</span></span>
<span class="">        <span class="token punctuation">}</span>,</span>
<span class="">        <span class="token punctuation">{</span></span>
<span class="">            <span class="token string">"role"</span><span class="token builtin class-name">:</span> <span class="token string">"user"</span>,</span>
<span class="">            <span class="token string">"content"</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span></span>
<span class="">                <span class="token punctuation">{</span></span>
<span class="">                    <span class="token string">"type"</span><span class="token builtin class-name">:</span> <span class="token string">"tool_result"</span>,</span>
<span class="">                    <span class="token string">"tool_use_id"</span><span class="token builtin class-name">:</span> <span class="token string">"toolu_01A09q90qw90lq917835lq9"</span>,</span>
<span class="">                    <span class="token string">"content"</span><span class="token builtin class-name">:</span> <span class="token string">"15 degrees"</span></span>
<span class="">                <span class="token punctuation">}</span></span>
<span class="">            <span class="token punctuation">]</span></span>
<span class="">        <span class="token punctuation">}</span></span>
<span class="">    <span class="token punctuation">]</span></span>
<span class=""><span class="token punctuation">}</span>'</span>
</code></pre></div></div></div></div><p>This will print Claude’s final response, incorporating the weather data:</p><div class="code-block mt-5 mb-8 not-prose rounded-2xl relative group text-gray-50 bg-[#0F1117] dark:bg-codeblock ring-1 ring-transparent dark:ring-gray-800/50 codeblock-dark"><div class="flex rounded-t-2xl text-gray-400 text-xs leading-6 border-b font-medium bg-black/40 border-gray-900/80" data-component-part="code-block-tab-bar"><div class="flex-none border-b px-4 pt-2.5 pb-2 flex items-center text-primary-light border-primary-light" data-component-part="code-block-tab-bar-filename">JSON</div></div><div class="min-w-full relative text-sm leading-6 children:!my-0 children:!shadow-none children:!bg-transparent transition-[height] duration-300 ease-in-out" data-component-part="code-block-root" style="font-variant-ligatures:none;height:auto"><div class="overflow-x-auto h-full p-5 [&amp;&gt;pre&gt;code]:pr-[3rem] [&amp;&gt;pre&gt;code&gt;span.line-highlight]:min-w-[calc(100%+3rem)] overflow-y-hidden scrollbar-thin scrollbar-thumb-rounded scrollbar-thumb-white/20 dark:scrollbar-thumb-white/20 hover:scrollbar-thumb-white/25 dark:hover:scrollbar-thumb-white/25 active:scrollbar-thumb-white/25 dark:active:scrollbar-thumb-white/25"><pre class="language-json language-json"><code class="language-JSON"><span class=""><span class="token punctuation">{</span></span>
<span class="">  <span class="token property">"id"</span><span class="token operator">:</span> <span class="token string">"msg_01Aq9w938a90dw8q"</span><span class="token punctuation">,</span></span>
<span class="">  <span class="token property">"model"</span><span class="token operator">:</span> <span class="token string">"claude-opus-4-20250514"</span><span class="token punctuation">,</span></span>
<span class="">  <span class="token property">"stop_reason"</span><span class="token operator">:</span> <span class="token string">"stop_sequence"</span><span class="token punctuation">,</span></span>
<span class="">  <span class="token property">"role"</span><span class="token operator">:</span> <span class="token string">"assistant"</span><span class="token punctuation">,</span></span>
<span class="">  <span class="token property">"content"</span><span class="token operator">:</span> <span class="token punctuation">[</span></span>
<span class="">    <span class="token punctuation">{</span></span>
<span class="">      <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"text"</span><span class="token punctuation">,</span></span>
<span class="">      <span class="token property">"text"</span><span class="token operator">:</span> <span class="token string">"The current weather in San Francisco is 15 degrees Celsius (59 degrees Fahrenheit). It's a cool day in the city by the bay!"</span></span>
<span class="">    <span class="token punctuation">}</span></span>
<span class="">  <span class="token punctuation">]</span></span>
<span class=""><span class="token punctuation">}</span></span>
</code></pre></div></div></div></div></div><div class="accordion border-standard rounded-2xl mb-3 overflow-hidden bg-background-light dark:bg-codeblock cursor-default" role="button"><button aria-controls="multiple-tool-example accordion children" aria-expanded="false" class="relative not-prose flex flex-row items-center content-center w-full py-4 px-5 space-x-2 hover:bg-gray-100 hover:dark:bg-gray-800 rounded-t-xl" data-component-part="accordion-button"><div class="leading-tight text-left" contenteditable="false" data-component-part="accordion-title-container"><p class="m-0 font-medium text-gray-900 dark:text-gray-200" data-component-part="accordion-title">Multiple tool example</p></div></button><div class="mt-2 mb-4 mx-6 hidden overflow-x-auto cursor-default" data-component-part="accordion-content" id="multiple-tool-example accordion children" role="contentinfo"><p>You can provide Claude with multiple tools to choose from in a single request. Here’s an example with both a <code>get_weather</code> and a <code>get_time</code> tool, along with a user query that asks for both.</p><div class="code-group mt-5 mb-8 flex flex-col not-prose relative overflow-hidden rounded-2xl dark:border-gray-800/50 bg-[#0F1117] border border-transparent dark:bg-codeblock text-gray-50 codeblock-dark" id="code-group"><div class="relative border-b border-gray-900/80 bg-[#0F1117] dark:bg-codeblock" data-component-part="code-group-tab-bar"><div aria-orientation="horizontal" class="text-xs leading-6 rounded-t-xl flex overflow-x-auto overflow-y-hidden mr-12 scrollbar-thin scrollbar-thumb-rounded scrollbar-thumb-white/20 dark:scrollbar-thumb-white/20 hover:scrollbar-thumb-white/25 dark:hover:scrollbar-thumb-white/25 active:scrollbar-thumb-white/25 dark:active:scrollbar-thumb-white/25" role="tablist"><button aria-selected="true" class="group flex items-center relative px-2 pt-2.5 pb-2 outline-none whitespace-nowrap font-medium text-primary-light" data-headlessui-state="selected" id="headlessui-tabs-tab-:R2mkiempkql6:" role="tab" tabindex="0" type="button"><div class="px-2 rounded-lg z-10 group-hover:bg-gray-700/70 group-hover:text-primary-light">Shell</div></button><button aria-selected="false" class="group flex items-center relative px-2 pt-2.5 pb-2 outline-none whitespace-nowrap font-medium text-gray-400" data-headlessui-state="" id="headlessui-tabs-tab-:R4mkiempkql6:" role="tab" tabindex="-1" type="button"><div class="px-2 rounded-lg z-10 group-hover:bg-gray-700/70 group-hover:text-primary-light">Python</div></button><button aria-selected="false" class="group flex items-center relative px-2 pt-2.5 pb-2 outline-none whitespace-nowrap font-medium text-gray-400" data-headlessui-state="" id="headlessui-tabs-tab-:R6mkiempkql6:" role="tab" tabindex="-1" type="button"><div class="px-2 rounded-lg z-10 group-hover:bg-gray-700/70 group-hover:text-primary-light">Java</div></button></div></div><div class="flex flex-1 overflow-hidden"><div class="relative min-w-full w-full transition-[height] duration-300 ease-in-out" data-headlessui-state="selected" id="headlessui-tabs-panel-:Rqkiempkql6:" role="tabpanel" style="font-variant-ligatures:none;height:auto" tabindex="0"><div class="flex-none p-5 overflow-x-auto text-sm h-full scrollbar-thin scrollbar-thumb-rounded scrollbar-thumb-white/20 dark:scrollbar-thumb-white/20 hover:scrollbar-thumb-white/25 dark:hover:scrollbar-thumb-white/25 active:scrollbar-thumb-white/25 dark:active:scrollbar-thumb-white/25 leading-6" data-component-part="code-group-tab-content"><pre class="language-bash language-bash"><code class="language-bash"><span class=""><span class="token function">curl</span> https://api.anthropic.com/v1/messages <span class="token punctuation">\</span></span>
<span class="">     <span class="token parameter variable">--header</span> <span class="token string">"x-api-key: <span class="token variable">$ANTHROPIC_API_KEY</span>"</span> <span class="token punctuation">\</span></span>
<span class="">     <span class="token parameter variable">--header</span> <span class="token string">"anthropic-version: 2023-06-01"</span> <span class="token punctuation">\</span></span>
<span class="">     <span class="token parameter variable">--header</span> <span class="token string">"content-type: application/json"</span> <span class="token punctuation">\</span></span>
<span class="">     <span class="token parameter variable">--data</span> <span class="token punctuation">\</span></span>
<span class="">'<span class="token punctuation">{</span></span>
<span class="">    <span class="token string">"model"</span><span class="token builtin class-name">:</span> <span class="token string">"claude-opus-4-20250514"</span>,</span>
<span class="">    <span class="token string">"max_tokens"</span><span class="token builtin class-name">:</span> <span class="token number">1024</span>,</span>
<span class="">    <span class="token string">"tools"</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span></span>
<span class="">        <span class="token string">"name"</span><span class="token builtin class-name">:</span> <span class="token string">"get_weather"</span>,</span>
<span class="">        <span class="token string">"description"</span><span class="token builtin class-name">:</span> <span class="token string">"Get the current weather in a given location"</span>,</span>
<span class="">        <span class="token string">"input_schema"</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span></span>
<span class="">            <span class="token string">"type"</span><span class="token builtin class-name">:</span> <span class="token string">"object"</span>,</span>
<span class="">            <span class="token string">"properties"</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span></span>
<span class="">                <span class="token string">"location"</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span></span>
<span class="">                    <span class="token string">"type"</span><span class="token builtin class-name">:</span> <span class="token string">"string"</span>,</span>
<span class="">                    <span class="token string">"description"</span><span class="token builtin class-name">:</span> <span class="token string">"The city and state, e.g. San Francisco, CA"</span></span>
<span class="">                <span class="token punctuation">}</span>,</span>
<span class="">                <span class="token string">"unit"</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span></span>
<span class="">                    <span class="token string">"type"</span><span class="token builtin class-name">:</span> <span class="token string">"string"</span>,</span>
<span class="">                    <span class="token string">"enum"</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span><span class="token string">"celsius"</span>, <span class="token string">"fahrenheit"</span><span class="token punctuation">]</span>,</span>
<span class="">                    <span class="token string">"description"</span><span class="token builtin class-name">:</span> <span class="token string">"The unit of temperature, either 'celsius' or 'fahrenheit'"</span></span>
<span class="">                <span class="token punctuation">}</span></span>
<span class="">            <span class="token punctuation">}</span>,</span>
<span class="">            <span class="token string">"required"</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span><span class="token string">"location"</span><span class="token punctuation">]</span></span>
<span class="">        <span class="token punctuation">}</span></span>
<span class="">    <span class="token punctuation">}</span>,</span>
<span class="">    <span class="token punctuation">{</span></span>
<span class="">        <span class="token string">"name"</span><span class="token builtin class-name">:</span> <span class="token string">"get_time"</span>,</span>
<span class="">        <span class="token string">"description"</span><span class="token builtin class-name">:</span> <span class="token string">"Get the current time in a given time zone"</span>,</span>
<span class="">        <span class="token string">"input_schema"</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span></span>
<span class="">            <span class="token string">"type"</span><span class="token builtin class-name">:</span> <span class="token string">"object"</span>,</span>
<span class="">            <span class="token string">"properties"</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span></span>
<span class="">                <span class="token string">"timezone"</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span></span>
<span class="">                    <span class="token string">"type"</span><span class="token builtin class-name">:</span> <span class="token string">"string"</span>,</span>
<span class="">                    <span class="token string">"description"</span><span class="token builtin class-name">:</span> <span class="token string">"The IANA time zone name, e.g. America/Los_Angeles"</span></span>
<span class="">                <span class="token punctuation">}</span></span>
<span class="">            <span class="token punctuation">}</span>,</span>
<span class="">            <span class="token string">"required"</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span><span class="token string">"timezone"</span><span class="token punctuation">]</span></span>
<span class="">        <span class="token punctuation">}</span></span>
<span class="">    <span class="token punctuation">}</span><span class="token punctuation">]</span>,</span>
<span class="">    <span class="token string">"messages"</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span></span>
<span class="">        <span class="token string">"role"</span><span class="token builtin class-name">:</span> <span class="token string">"user"</span>,</span>
<span class="">        <span class="token string">"content"</span><span class="token builtin class-name">:</span> <span class="token string">"What is the weather like right now in New York? Also what time is it there?"</span></span>
<span class="">    <span class="token punctuation">}</span><span class="token punctuation">]</span></span>
<span class=""><span class="token punctuation">}</span>'</span>
</code></pre></div></div></div></div><p>In this case, Claude will most likely try to use two separate tools, one at a time — <code>get_weather</code> and then <code>get_time</code> — in order to fully answer the user’s question. However, it will also occasionally output two <code>tool_use</code> blocks at once, particularly if they are not dependent on each other. You would need to execute each tool and return their results in separate <code>tool_result</code> blocks within a single <code>user</code> message.</p></div></div><div class="accordion border-standard rounded-2xl mb-3 overflow-hidden bg-background-light dark:bg-codeblock cursor-default" role="button"><button aria-controls="missing-information accordion children" aria-expanded="false" class="relative not-prose flex flex-row items-center content-center w-full py-4 px-5 space-x-2 hover:bg-gray-100 hover:dark:bg-gray-800 rounded-t-xl" data-component-part="accordion-button"><div class="leading-tight text-left" contenteditable="false" data-component-part="accordion-title-container"><p class="m-0 font-medium text-gray-900 dark:text-gray-200" data-component-part="accordion-title">Missing information</p></div></button><div class="mt-2 mb-4 mx-6 hidden overflow-x-auto cursor-default" data-component-part="accordion-content" id="missing-information accordion children" role="contentinfo"><p>If the user’s prompt doesn’t include enough information to fill all the required parameters for a tool, Claude Opus is much more likely to recognize that a parameter is missing and ask for it. Claude Sonnet may ask, especially when prompted to think before outputting a tool request. But it may also do its best to infer a reasonable value.</p><p>For example, using the <code>get_weather</code> tool above, if you ask Claude “What’s the weather?” without specifying a location, Claude, particularly Claude Sonnet, may make a guess about tools inputs:</p><div class="code-block mt-5 mb-8 not-prose rounded-2xl relative group text-gray-50 bg-[#0F1117] dark:bg-codeblock ring-1 ring-transparent dark:ring-gray-800/50 codeblock-dark"><div class="flex rounded-t-2xl text-gray-400 text-xs leading-6 border-b font-medium bg-black/40 border-gray-900/80" data-component-part="code-block-tab-bar"><div class="flex-none border-b px-4 pt-2.5 pb-2 flex items-center text-primary-light border-primary-light" data-component-part="code-block-tab-bar-filename">JSON</div></div><div class="min-w-full relative text-sm leading-6 children:!my-0 children:!shadow-none children:!bg-transparent transition-[height] duration-300 ease-in-out" data-component-part="code-block-root" style="font-variant-ligatures:none;height:auto"><div class="overflow-x-auto h-full p-5 [&amp;&gt;pre&gt;code]:pr-[3rem] [&amp;&gt;pre&gt;code&gt;span.line-highlight]:min-w-[calc(100%+3rem)] overflow-y-hidden scrollbar-thin scrollbar-thumb-rounded scrollbar-thumb-white/20 dark:scrollbar-thumb-white/20 hover:scrollbar-thumb-white/25 dark:hover:scrollbar-thumb-white/25 active:scrollbar-thumb-white/25 dark:active:scrollbar-thumb-white/25"><pre class="language-json language-json"><code class="language-JSON"><span class=""><span class="token punctuation">{</span></span>
<span class="">  <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"tool_use"</span><span class="token punctuation">,</span></span>
<span class="">  <span class="token property">"id"</span><span class="token operator">:</span> <span class="token string">"toolu_01A09q90qw90lq917835lq9"</span><span class="token punctuation">,</span></span>
<span class="">  <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"get_weather"</span><span class="token punctuation">,</span></span>
<span class="">  <span class="token property">"input"</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token property">"location"</span><span class="token operator">:</span> <span class="token string">"New York, NY"</span><span class="token punctuation">,</span> <span class="token property">"unit"</span><span class="token operator">:</span> <span class="token string">"fahrenheit"</span><span class="token punctuation">}</span></span>
<span class=""><span class="token punctuation">}</span></span>
</code></pre></div></div></div><p>This behavior is not guaranteed, especially for more ambiguous prompts and for less intelligent models. If Claude Opus doesn’t have enough context to fill in the required parameters, it is far more likely respond with a clarifying question instead of making a tool call.</p></div></div><div class="accordion border-standard rounded-2xl mb-3 overflow-hidden bg-background-light dark:bg-codeblock cursor-default" role="button"><button aria-controls="sequential-tools accordion children" aria-expanded="false" class="relative not-prose flex flex-row items-center content-center w-full py-4 px-5 space-x-2 hover:bg-gray-100 hover:dark:bg-gray-800 rounded-t-xl" data-component-part="accordion-button"><div class="leading-tight text-left" contenteditable="false" data-component-part="accordion-title-container"><p class="m-0 font-medium text-gray-900 dark:text-gray-200" data-component-part="accordion-title">Sequential tools</p></div></button><div class="mt-2 mb-4 mx-6 hidden overflow-x-auto cursor-default" data-component-part="accordion-content" id="sequential-tools accordion children" role="contentinfo"><p>Some tasks may require calling multiple tools in sequence, using the output of one tool as the input to another. In such a case, Claude will call one tool at a time. If prompted to call the tools all at once, Claude is likely to guess parameters for tools further downstream if they are dependent on tool results for tools further upstream.</p><p>Here’s an example of using a <code>get_location</code> tool to get the user’s location, then passing that location to the <code>get_weather</code> tool:</p><div class="code-group mt-5 mb-8 flex flex-col not-prose relative overflow-hidden rounded-2xl dark:border-gray-800/50 bg-[#0F1117] border border-transparent dark:bg-codeblock text-gray-50 codeblock-dark" id="code-group"><div class="relative border-b border-gray-900/80 bg-[#0F1117] dark:bg-codeblock" data-component-part="code-group-tab-bar"><div aria-orientation="horizontal" class="text-xs leading-6 rounded-t-xl flex overflow-x-auto overflow-y-hidden mr-12 scrollbar-thin scrollbar-thumb-rounded scrollbar-thumb-white/20 dark:scrollbar-thumb-white/20 hover:scrollbar-thumb-white/25 dark:hover:scrollbar-thumb-white/25 active:scrollbar-thumb-white/25 dark:active:scrollbar-thumb-white/25" role="tablist"><button aria-selected="true" class="group flex items-center relative px-2 pt-2.5 pb-2 outline-none whitespace-nowrap font-medium text-primary-light" data-headlessui-state="selected" id="headlessui-tabs-tab-:Raot2empkql6:" role="tab" tabindex="0" type="button"><div class="px-2 rounded-lg z-10 group-hover:bg-gray-700/70 group-hover:text-primary-light">Shell</div></button><button aria-selected="false" class="group flex items-center relative px-2 pt-2.5 pb-2 outline-none whitespace-nowrap font-medium text-gray-400" data-headlessui-state="" id="headlessui-tabs-tab-:Riot2empkql6:" role="tab" tabindex="-1" type="button"><div class="px-2 rounded-lg z-10 group-hover:bg-gray-700/70 group-hover:text-primary-light">Python</div></button><button aria-selected="false" class="group flex items-center relative px-2 pt-2.5 pb-2 outline-none whitespace-nowrap font-medium text-gray-400" data-headlessui-state="" id="headlessui-tabs-tab-:Rqot2empkql6:" role="tab" tabindex="-1" type="button"><div class="px-2 rounded-lg z-10 group-hover:bg-gray-700/70 group-hover:text-primary-light">Java</div></button></div></div><div class="flex flex-1 overflow-hidden"><div class="relative min-w-full w-full transition-[height] duration-300 ease-in-out" data-headlessui-state="selected" id="headlessui-tabs-panel-:R38t2empkql6:" role="tabpanel" style="font-variant-ligatures:none;height:auto" tabindex="0"><div class="flex-none p-5 overflow-x-auto text-sm h-full scrollbar-thin scrollbar-thumb-rounded scrollbar-thumb-white/20 dark:scrollbar-thumb-white/20 hover:scrollbar-thumb-white/25 dark:hover:scrollbar-thumb-white/25 active:scrollbar-thumb-white/25 dark:active:scrollbar-thumb-white/25 leading-6" data-component-part="code-group-tab-content"><pre class="language-bash language-bash"><code class="language-bash"><span class=""><span class="token function">curl</span> https://api.anthropic.com/v1/messages <span class="token punctuation">\</span></span>
<span class="">     <span class="token parameter variable">--header</span> <span class="token string">"x-api-key: <span class="token variable">$ANTHROPIC_API_KEY</span>"</span> <span class="token punctuation">\</span></span>
<span class="">     <span class="token parameter variable">--header</span> <span class="token string">"anthropic-version: 2023-06-01"</span> <span class="token punctuation">\</span></span>
<span class="">     <span class="token parameter variable">--header</span> <span class="token string">"content-type: application/json"</span> <span class="token punctuation">\</span></span>
<span class="">     <span class="token parameter variable">--data</span> <span class="token punctuation">\</span></span>
<span class="">'<span class="token punctuation">{</span></span>
<span class="">    <span class="token string">"model"</span><span class="token builtin class-name">:</span> <span class="token string">"claude-opus-4-20250514"</span>,</span>
<span class="">    <span class="token string">"max_tokens"</span><span class="token builtin class-name">:</span> <span class="token number">1024</span>,</span>
<span class="">    <span class="token string">"tools"</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span></span>
<span class="">        <span class="token punctuation">{</span></span>
<span class="">            <span class="token string">"name"</span><span class="token builtin class-name">:</span> <span class="token string">"get_location"</span>,</span>
<span class="">            <span class="token string">"description"</span><span class="token builtin class-name">:</span> <span class="token string">"Get the current user location based on their IP address. This tool has no parameters or arguments."</span>,</span>
<span class="">            <span class="token string">"input_schema"</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span></span>
<span class="">                <span class="token string">"type"</span><span class="token builtin class-name">:</span> <span class="token string">"object"</span>,</span>
<span class="">                <span class="token string">"properties"</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></span>
<span class="">            <span class="token punctuation">}</span></span>
<span class="">        <span class="token punctuation">}</span>,</span>
<span class="">        <span class="token punctuation">{</span></span>
<span class="">            <span class="token string">"name"</span><span class="token builtin class-name">:</span> <span class="token string">"get_weather"</span>,</span>
<span class="">            <span class="token string">"description"</span><span class="token builtin class-name">:</span> <span class="token string">"Get the current weather in a given location"</span>,</span>
<span class="">            <span class="token string">"input_schema"</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span></span>
<span class="">                <span class="token string">"type"</span><span class="token builtin class-name">:</span> <span class="token string">"object"</span>,</span>
<span class="">                <span class="token string">"properties"</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span></span>
<span class="">                    <span class="token string">"location"</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span></span>
<span class="">                        <span class="token string">"type"</span><span class="token builtin class-name">:</span> <span class="token string">"string"</span>,</span>
<span class="">                        <span class="token string">"description"</span><span class="token builtin class-name">:</span> <span class="token string">"The city and state, e.g. San Francisco, CA"</span></span>
<span class="">                    <span class="token punctuation">}</span>,</span>
<span class="">                    <span class="token string">"unit"</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span></span>
<span class="">                        <span class="token string">"type"</span><span class="token builtin class-name">:</span> <span class="token string">"string"</span>,</span>
<span class="">                        <span class="token string">"enum"</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span><span class="token string">"celsius"</span>, <span class="token string">"fahrenheit"</span><span class="token punctuation">]</span>,</span>
<span class="">                        <span class="token string">"description"</span><span class="token builtin class-name">:</span> <span class="token string">"The unit of temperature, either 'celsius' or 'fahrenheit'"</span></span>
<span class="">                    <span class="token punctuation">}</span></span>
<span class="">                <span class="token punctuation">}</span>,</span>
<span class="">                <span class="token string">"required"</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span><span class="token string">"location"</span><span class="token punctuation">]</span></span>
<span class="">            <span class="token punctuation">}</span></span>
<span class="">        <span class="token punctuation">}</span></span>
<span class="">    <span class="token punctuation">]</span>,</span>
<span class="">    <span class="token string">"messages"</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span></span>
<span class="">        <span class="token string">"role"</span><span class="token builtin class-name">:</span> <span class="token string">"user"</span>,</span>
<span class="">        <span class="token string">"content"</span><span class="token builtin class-name">:</span> <span class="token string">"What is the weather like where I am?"</span></span>
<span class="">    <span class="token punctuation">}</span><span class="token punctuation">]</span></span>
<span class=""><span class="token punctuation">}</span>'</span>
</code></pre></div></div></div></div><p>In this case, Claude would first call the <code>get_location</code> tool to get the user’s location. After you return the location in a <code>tool_result</code>, Claude would then call <code>get_weather</code> with that location to get the final answer.</p><p>The full conversation might look like:</p><table><thead><tr><th>Role</th><th>Content</th></tr></thead><tbody><tr><td>User</td><td>What’s the weather like where I am?</td></tr><tr><td>Assistant</td><td>&lt;thinking&gt;To answer this, I first need to determine the user’s location using the get_location tool. Then I can pass that location to the get_weather tool to find the current weather there.&lt;/thinking&gt;[Tool use for get_location]</td></tr><tr><td>User</td><td>[Tool result for get_location with matching id and result of San Francisco, CA]</td></tr><tr><td>Assistant</td><td>[Tool use for get_weather with the following input]{ “location”: “San Francisco, CA”, “unit”: “fahrenheit” }</td></tr><tr><td>User</td><td>[Tool result for get_weather with matching id and result of “59°F (15°C), mostly cloudy”]</td></tr><tr><td>Assistant</td><td>Based on your current location in San Francisco, CA, the weather right now is 59°F (15°C) and mostly cloudy. It’s a fairly cool and overcast day in the city. You may want to bring a light jacket if you’re heading outside.</td></tr></tbody></table><p>This example demonstrates how Claude can chain together multiple tool calls to answer a question that requires gathering data from different sources. The key steps are:</p><ol>
<li>Claude first realizes it needs the user’s location to answer the weather question, so it calls the <code>get_location</code> tool.</li>
<li>The user (i.e. the client code) executes the actual <code>get_location</code> function and returns the result “San Francisco, CA” in a <code>tool_result</code> block.</li>
<li>With the location now known, Claude proceeds to call the <code>get_weather</code> tool, passing in “San Francisco, CA” as the <code>location</code> parameter (as well as a guessed <code>unit</code> parameter, as <code>unit</code> is not a required parameter).</li>
<li>The user again executes the actual <code>get_weather</code> function with the provided arguments and returns the weather data in another <code>tool_result</code> block.</li>
<li>Finally, Claude incorporates the weather data into a natural language response to the original question.</li>
</ol></div></div><div class="accordion border-standard rounded-2xl mb-3 overflow-hidden bg-background-light dark:bg-codeblock cursor-default" role="button"><button aria-controls="chain-of-thought-tool-use accordion children" aria-expanded="false" class="relative not-prose flex flex-row items-center content-center w-full py-4 px-5 space-x-2 hover:bg-gray-100 hover:dark:bg-gray-800 rounded-t-xl" data-component-part="accordion-button"><div class="leading-tight text-left" contenteditable="false" data-component-part="accordion-title-container"><p class="m-0 font-medium text-gray-900 dark:text-gray-200" data-component-part="accordion-title">Chain of thought tool use</p></div></button><div class="mt-2 mb-4 mx-6 hidden overflow-x-auto cursor-default" data-component-part="accordion-content" id="chain-of-thought-tool-use accordion children" role="contentinfo"><p>By default, Claude Opus is prompted to think before it answers a tool use query to best determine whether a tool is necessary, which tool to use, and the appropriate parameters. Claude Sonnet and Claude Haiku are prompted to try to use tools as much as possible and are more likely to call an unnecessary tool or infer missing parameters. To prompt Sonnet or Haiku to better assess the user query before making tool calls, the following prompt can be used:</p><p>Chain of thought prompt</p><p><code>Answer the user's request using relevant tools (if they are available). Before calling a tool, do some analysis within \&lt;thinking&gt;\&lt;/thinking&gt; tags. First, think about which of the provided tools is the relevant tool to answer the user's request. Second, go through each of the required parameters of the relevant tool and determine if the user has directly provided or given enough information to infer a value. When deciding if the parameter can be inferred, carefully consider all the context to see if it supports a specific value. If all of the required parameters are present or can be reasonably inferred, close the thinking tag and proceed with the tool call. BUT, if one of the values for a required parameter is missing, DO NOT invoke the function (not even with fillers for the missing params) and instead, ask the user to provide the missing parameters. DO NOT ask for more information on optional parameters if it is not provided.     </code></p></div></div><div class="accordion border-standard rounded-2xl mb-3 overflow-hidden bg-background-light dark:bg-codeblock cursor-default" role="button"><button aria-controls="json-mode accordion children" aria-expanded="false" class="relative not-prose flex flex-row items-center content-center w-full py-4 px-5 space-x-2 hover:bg-gray-100 hover:dark:bg-gray-800 rounded-t-xl" data-component-part="accordion-button"><div class="leading-tight text-left" contenteditable="false" data-component-part="accordion-title-container"><p class="m-0 font-medium text-gray-900 dark:text-gray-200" data-component-part="accordion-title">JSON mode</p></div></button><div class="mt-2 mb-4 mx-6 hidden overflow-x-auto cursor-default" data-component-part="accordion-content" id="json-mode accordion children" role="contentinfo"><p>You can use tools to get Claude produce JSON output that follows a schema, even if you don’t have any intention of running that output through a tool or function.</p><p>When using tools in this way:</p><ul>
<li>You usually want to provide a <strong>single</strong> tool</li>
<li>You should set <code>tool_choice</code> (see <a class="link" href="/en/docs/agents-and-tools/tool-use/implement-tool-use#forcing-tool-use">Forcing tool use</a>) to instruct the model to explicitly use that tool</li>
<li>Remember that the model will pass the <code>input</code> to the tool, so the name of the tool and description should be from the model’s perspective.</li>
</ul><p>The following uses a <code>record_summary</code> tool to describe an image following a particular format.</p><div class="code-group mt-5 mb-8 flex flex-col not-prose relative overflow-hidden rounded-2xl dark:border-gray-800/50 bg-[#0F1117] border border-transparent dark:bg-codeblock text-gray-50 codeblock-dark" id="code-group"><div class="relative border-b border-gray-900/80 bg-[#0F1117] dark:bg-codeblock" data-component-part="code-group-tab-bar"><div aria-orientation="horizontal" class="text-xs leading-6 rounded-t-xl flex overflow-x-auto overflow-y-hidden mr-12 scrollbar-thin scrollbar-thumb-rounded scrollbar-thumb-white/20 dark:scrollbar-thumb-white/20 hover:scrollbar-thumb-white/25 dark:hover:scrollbar-thumb-white/25 active:scrollbar-thumb-white/25 dark:active:scrollbar-thumb-white/25" role="tablist"><button aria-selected="true" class="group flex items-center relative px-2 pt-2.5 pb-2 outline-none whitespace-nowrap font-medium text-primary-light" data-headlessui-state="selected" id="headlessui-tabs-tab-:R5ddiempkql6:" role="tab" tabindex="0" type="button"><div class="px-2 rounded-lg z-10 group-hover:bg-gray-700/70 group-hover:text-primary-light">Shell</div></button><button aria-selected="false" class="group flex items-center relative px-2 pt-2.5 pb-2 outline-none whitespace-nowrap font-medium text-gray-400" data-headlessui-state="" id="headlessui-tabs-tab-:R9ddiempkql6:" role="tab" tabindex="-1" type="button"><div class="px-2 rounded-lg z-10 group-hover:bg-gray-700/70 group-hover:text-primary-light">Python</div></button><button aria-selected="false" class="group flex items-center relative px-2 pt-2.5 pb-2 outline-none whitespace-nowrap font-medium text-gray-400" data-headlessui-state="" id="headlessui-tabs-tab-:Rdddiempkql6:" role="tab" tabindex="-1" type="button"><div class="px-2 rounded-lg z-10 group-hover:bg-gray-700/70 group-hover:text-primary-light">Java</div></button></div></div><div class="flex flex-1 overflow-hidden"><div class="relative min-w-full w-full transition-[height] duration-300 ease-in-out" data-headlessui-state="selected" id="headlessui-tabs-panel-:R1ldiempkql6:" role="tabpanel" style="font-variant-ligatures:none;height:auto" tabindex="0"><div class="flex-none p-5 overflow-x-auto text-sm h-full scrollbar-thin scrollbar-thumb-rounded scrollbar-thumb-white/20 dark:scrollbar-thumb-white/20 hover:scrollbar-thumb-white/25 dark:hover:scrollbar-thumb-white/25 active:scrollbar-thumb-white/25 dark:active:scrollbar-thumb-white/25 leading-6" data-component-part="code-group-tab-content"><pre class="language-bash language-bash"><code class="language-bash"><span class=""><span class="token shebang important">#!/bin/bash</span></span>
<span class=""><span class="token assign-left variable">IMAGE_URL</span><span class="token operator">=</span><span class="token string">"https://upload.wikimedia.org/wikipedia/commons/a/a7/Camponotus_flavomarginatus_ant.jpg"</span></span>
<span class=""><span class="token assign-left variable">IMAGE_MEDIA_TYPE</span><span class="token operator">=</span><span class="token string">"image/jpeg"</span></span>
<span class=""><span class="token assign-left variable">IMAGE_BASE64</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">curl</span> <span class="token string">"<span class="token variable">$IMAGE_URL</span>"</span> <span class="token operator">|</span> base64<span class="token variable">)</span></span></span>
<!-- -->
<span class=""><span class="token function">curl</span> https://api.anthropic.com/v1/messages <span class="token punctuation">\</span></span>
<span class="">     <span class="token parameter variable">--header</span> <span class="token string">"content-type: application/json"</span> <span class="token punctuation">\</span></span>
<span class="">     <span class="token parameter variable">--header</span> <span class="token string">"x-api-key: <span class="token variable">$ANTHROPIC_API_KEY</span>"</span> <span class="token punctuation">\</span></span>
<span class="">     <span class="token parameter variable">--header</span> <span class="token string">"anthropic-version: 2023-06-01"</span> <span class="token punctuation">\</span></span>
<span class="">     <span class="token parameter variable">--data</span> <span class="token punctuation">\</span></span>
<span class="">'<span class="token punctuation">{</span></span>
<span class="">    <span class="token string">"model"</span><span class="token builtin class-name">:</span> <span class="token string">"claude-opus-4-20250514"</span>,</span>
<span class="">    <span class="token string">"max_tokens"</span><span class="token builtin class-name">:</span> <span class="token number">1024</span>,</span>
<span class="">    <span class="token string">"tools"</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span></span>
<span class="">        <span class="token string">"name"</span><span class="token builtin class-name">:</span> <span class="token string">"record_summary"</span>,</span>
<span class="">        <span class="token string">"description"</span><span class="token builtin class-name">:</span> <span class="token string">"Record summary of an image using well-structured JSON."</span>,</span>
<span class="">        <span class="token string">"input_schema"</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span></span>
<span class="">            <span class="token string">"type"</span><span class="token builtin class-name">:</span> <span class="token string">"object"</span>,</span>
<span class="">            <span class="token string">"properties"</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span></span>
<span class="">                <span class="token string">"key_colors"</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span></span>
<span class="">                    <span class="token string">"type"</span><span class="token builtin class-name">:</span> <span class="token string">"array"</span>,</span>
<span class="">                    <span class="token string">"items"</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span></span>
<span class="">                        <span class="token string">"type"</span><span class="token builtin class-name">:</span> <span class="token string">"object"</span>,</span>
<span class="">                        <span class="token string">"properties"</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span></span>
<span class="">                            <span class="token string">"r"</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span> <span class="token string">"type"</span><span class="token builtin class-name">:</span> <span class="token string">"number"</span>, <span class="token string">"description"</span><span class="token builtin class-name">:</span> <span class="token string">"red value [0.0, 1.0]"</span> <span class="token punctuation">}</span>,</span>
<span class="">                            <span class="token string">"g"</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span> <span class="token string">"type"</span><span class="token builtin class-name">:</span> <span class="token string">"number"</span>, <span class="token string">"description"</span><span class="token builtin class-name">:</span> <span class="token string">"green value [0.0, 1.0]"</span> <span class="token punctuation">}</span>,</span>
<span class="">                            <span class="token string">"b"</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span> <span class="token string">"type"</span><span class="token builtin class-name">:</span> <span class="token string">"number"</span>, <span class="token string">"description"</span><span class="token builtin class-name">:</span> <span class="token string">"blue value [0.0, 1.0]"</span> <span class="token punctuation">}</span>,</span>
<span class="">                            <span class="token string">"name"</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span> <span class="token string">"type"</span><span class="token builtin class-name">:</span> <span class="token string">"string"</span>, <span class="token string">"description"</span><span class="token builtin class-name">:</span> <span class="token string">"Human-readable color name in snake_case, e.g. <span class="token entity" title='\"'>\"</span>olive_green<span class="token entity" title='\"'>\"</span> or <span class="token entity" title='\"'>\"</span>turquoise<span class="token entity" title='\"'>\"</span>"</span> <span class="token punctuation">}</span></span>
<span class="">                        <span class="token punctuation">}</span>,</span>
<span class="">                        <span class="token string">"required"</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span> <span class="token string">"r"</span>, <span class="token string">"g"</span>, <span class="token string">"b"</span>, <span class="token string">"name"</span> <span class="token punctuation">]</span></span>
<span class="">                    <span class="token punctuation">}</span>,</span>
<span class="">                    <span class="token string">"description"</span><span class="token builtin class-name">:</span> <span class="token string">"Key colors in the image. Limit to less than four."</span></span>
<span class="">                <span class="token punctuation">}</span>,</span>
<span class="">                <span class="token string">"description"</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span></span>
<span class="">                    <span class="token string">"type"</span><span class="token builtin class-name">:</span> <span class="token string">"string"</span>,</span>
<span class="">                    <span class="token string">"description"</span><span class="token builtin class-name">:</span> <span class="token string">"Image description. One to two sentences max."</span></span>
<span class="">                <span class="token punctuation">}</span>,</span>
<span class="">                <span class="token string">"estimated_year"</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span></span>
<span class="">                    <span class="token string">"type"</span><span class="token builtin class-name">:</span> <span class="token string">"integer"</span>,</span>
<span class="">                    <span class="token string">"description"</span><span class="token builtin class-name">:</span> <span class="token string">"Estimated year that the image was taken, if it is a photo. Only set this if the image appears to be non-fictional. Rough estimates are okay!"</span></span>
<span class="">                <span class="token punctuation">}</span></span>
<span class="">            <span class="token punctuation">}</span>,</span>
<span class="">            <span class="token string">"required"</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span> <span class="token string">"key_colors"</span>, <span class="token string">"description"</span> <span class="token punctuation">]</span></span>
<span class="">        <span class="token punctuation">}</span></span>
<span class="">    <span class="token punctuation">}</span><span class="token punctuation">]</span>,</span>
<span class="">    <span class="token string">"tool_choice"</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span><span class="token string">"type"</span><span class="token builtin class-name">:</span> <span class="token string">"tool"</span>, <span class="token string">"name"</span><span class="token builtin class-name">:</span> <span class="token string">"record_summary"</span><span class="token punctuation">}</span>,</span>
<span class="">    <span class="token string">"messages"</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span></span>
<span class="">        <span class="token punctuation">{</span><span class="token string">"role"</span><span class="token builtin class-name">:</span> <span class="token string">"user"</span>, <span class="token string">"content"</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span></span>
<span class="">            <span class="token punctuation">{</span><span class="token string">"type"</span><span class="token builtin class-name">:</span> <span class="token string">"image"</span>, <span class="token string">"source"</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span></span>
<span class="">                <span class="token string">"type"</span><span class="token builtin class-name">:</span> <span class="token string">"base64"</span>,</span>
<span class="">                <span class="token string">"media_type"</span><span class="token builtin class-name">:</span> <span class="token string">"'<span class="token variable">$IMAGE_MEDIA_TYPE</span>'"</span>,</span>
<span class="">                <span class="token string">"data"</span><span class="token builtin class-name">:</span> <span class="token string">"'<span class="token variable">$IMAGE_BASE64</span>'"</span></span>
<span class="">            <span class="token punctuation">}</span><span class="token punctuation">}</span>,</span>
<span class="">            <span class="token punctuation">{</span><span class="token string">"type"</span><span class="token builtin class-name">:</span> <span class="token string">"text"</span>, <span class="token string">"text"</span><span class="token builtin class-name">:</span> <span class="token string">"Describe this image."</span><span class="token punctuation">}</span></span>
<span class="">        <span class="token punctuation">]</span><span class="token punctuation">}</span></span>
<span class="">    <span class="token punctuation">]</span></span>
<span class=""><span class="token punctuation">}</span>'</span>
</code></pre></div></div></div></div></div></div></div>

<h2 class="flex whitespace-pre-wrap group font-semibold" id="pricing"><div class="absolute"><a aria-label="Navigate to header" class="-ml-10 flex items-center opacity-0 border-0 group-hover:opacity-100" href="#pricing">​</a></div><span class="cursor-pointer">Pricing</span></h2>
<p>Tool use requests are priced based on:</p>
<ol>
<li>The total number of input tokens sent to the model (including in the <code>tools</code> parameter)</li>
<li>The number of output tokens generated</li>
<li>For server-side tools, additional usage-based pricing (e.g., web search charges per search performed)</li>
</ol>
<p>Client-side tools are priced the same as any other Claude API request, while server-side tools may incur additional charges based on their specific usage.</p>
<p>The additional tokens from tool use come from:</p>
<ul>
<li>The <code>tools</code> parameter in API requests (tool names, descriptions, and schemas)</li>
<li><code>tool_use</code> content blocks in API requests and responses</li>
<li><code>tool_result</code> content blocks in API requests</li>
</ul>
<p>When you use <code>tools</code>, we also automatically include a special system prompt for the model which enables tool use. The number of tool use tokens required for each model are listed below (excluding the additional tokens listed above). Note that the table assumes at least 1 tool is provided. If no <code>tools</code> are provided, then a tool choice of <code>none</code> uses 0 additional system prompt tokens.</p>
<table><thead><tr><th>Model</th><th>Tool choice</th><th>Tool use system prompt token count</th></tr></thead><tbody><tr><td>Claude Opus 4</td><td><code>auto</code>, <code>none</code><code>any</code>, <code>tool</code></td><td>346 tokens313 tokens</td></tr><tr><td>Claude Sonnet 4</td><td><code>auto</code>, <code>none</code><code>any</code>, <code>tool</code></td><td>346 tokens313 tokens</td></tr><tr><td>Claude Sonnet 3.7</td><td><code>auto</code>, <code>none</code><code>any</code>, <code>tool</code></td><td>346 tokens313 tokens</td></tr><tr><td>Claude Sonnet 3.5 (Oct)</td><td><code>auto</code>, <code>none</code><code>any</code>, <code>tool</code></td><td>346 tokens313 tokens</td></tr><tr><td>Claude Sonnet 3.5 (June)</td><td><code>auto</code>, <code>none</code><code>any</code>, <code>tool</code></td><td>294 tokens261 tokens</td></tr><tr><td>Claude Haiku 3.5</td><td><code>auto</code>, <code>none</code><code>any</code>, <code>tool</code></td><td>264 tokens340 tokens</td></tr><tr><td>Claude Opus 3</td><td><code>auto</code>, <code>none</code><code>any</code>, <code>tool</code></td><td>530 tokens281 tokens</td></tr><tr><td>Claude Sonnet 3</td><td><code>auto</code>, <code>none</code><code>any</code>, <code>tool</code></td><td>159 tokens235 tokens</td></tr><tr><td>Claude Haiku 3</td><td><code>auto</code>, <code>none</code><code>any</code>, <code>tool</code></td><td>264 tokens340 tokens</td></tr></tbody></table>
<p>These token counts are added to your normal input and output tokens to calculate the total cost of a request.</p>
<p>Refer to our <a class="link" href="/en/docs/models-overview#model-comparison">models overview table</a> for current per-model prices.</p>
<p>When you send a tool use prompt, just like any other API request, the response will output both input and output token counts as part of the reported <code>usage</code> metrics.</p>

<h2 class="flex whitespace-pre-wrap group font-semibold" id="next-steps"><div class="absolute"><a aria-label="Navigate to header" class="-ml-10 flex items-center opacity-0 border-0 group-hover:opacity-100" href="#next-steps">​</a></div><span class="cursor-pointer">Next Steps</span></h2>
<p>Explore our repository of ready-to-implement tool use code examples in our cookbooks:</p>
<div class="card-group not-prose grid gap-x-4 sm:grid-cols-3"><a class="card block font-normal group relative my-2 ring-2 ring-transparent rounded-2xl bg-white dark:bg-background-dark border border-gray-950/10 dark:border-white/10 overflow-hidden w-full cursor-pointer hover:!border-primary dark:hover:!border-primary-light" href="https://github.com/anthropics/anthropic-cookbook/blob/main/tool_use/calculator_tool.ipynb" rel="noreferrer" target="_blank"><div class="px-6 py-5 relative" data-component-part="card-content-container"><div><h2 class="not-prose font-semibold text-base text-gray-800 dark:text-white mt-4" contenteditable="false" data-component-part="card-title">Calculator Tool</h2><div class="prose mt-1 font-normal text-sm leading-6 text-gray-600 dark:text-gray-400" data-component-part="card-content"><p>Learn how to integrate a simple calculator tool with Claude for precise numerical computations.</p></div></div></div></a><a class="card block font-normal group relative my-2 ring-2 ring-transparent rounded-2xl bg-white dark:bg-background-dark border border-gray-950/10 dark:border-white/10 overflow-hidden w-full cursor-pointer hover:!border-primary dark:hover:!border-primary-light" href="https://github.com/anthropics/anthropic-cookbook/blob/main/tool_use/customer_service_agent.ipynb" rel="noreferrer" target="_blank"><div class="px-6 py-5 relative" data-component-part="card-content-container"><div><h2 class="not-prose font-semibold text-base text-gray-800 dark:text-white mt-4" contenteditable="false" data-component-part="card-title">Customer Service Agent</h2><div class="prose mt-1 font-normal text-sm leading-6 text-gray-600 dark:text-gray-400" data-component-part="card-content"><p>Build a responsive customer service bot that leverages client tools to
enhance support.</p></div></div></div></a><a class="card block font-normal group relative my-2 ring-2 ring-transparent rounded-2xl bg-white dark:bg-background-dark border border-gray-950/10 dark:border-white/10 overflow-hidden w-full cursor-pointer hover:!border-primary dark:hover:!border-primary-light" href="https://github.com/anthropics/anthropic-cookbook/blob/main/tool_use/extracting_structured_json.ipynb" rel="noreferrer" target="_blank"><div class="px-6 py-5 relative" data-component-part="card-content-container"><div><h2 class="not-prose font-semibold text-base text-gray-800 dark:text-white mt-4" contenteditable="false" data-component-part="card-title">JSON Extractor</h2><div class="prose mt-1 font-normal text-sm leading-6 text-gray-600 dark:text-gray-400" data-component-part="card-content"><p>See how Claude and tool use can extract structured data from unstructured text.</p></div></div></div></a></div></div></div><div class="hidden xl:flex self-start sticky xl:flex-col h-[calc(100vh-9.5rem)] top-[9.5rem]" id="content-side-layout"><div class="z-10 hidden xl:flex pl-10 box-border w-[19rem] max-h-full" id="table-of-contents-layout"><div class="text-gray-600 text-sm leading-6 w-[16.5rem] overflow-y-auto space-y-2 pb-4 -mt-10 pt-10" id="table-of-contents"><div class="text-gray-700 dark:text-gray-300 font-medium flex items-center space-x-2"><span>On this page</span></div></div></div></div></div></div></div></div></main>