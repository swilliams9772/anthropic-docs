<main class="jsx-4145347147"><div class="relative antialiased text-gray-500 dark:text-gray-400"><div class="max-w-8xl px-4 mx-auto lg:px-8"><div class="z-20 hidden lg:block fixed bottom-0 right-auto w-[18rem]" id="sidebar" style="top:7rem"><div class="absolute inset-0 z-10 stable-scrollbar-gutter overflow-auto pr-8 pb-10" id="sidebar-content"><div class="relative lg:text-sm lg:leading-6"><div id="navigation-items"><li class="list-none"><a class="link nav-anchor pl-4 group flex items-center lg:text-sm lg:leading-6 mb-5 sm:mb-4 font-semibold text-primary dark:text-primary-light" href="/en/home">Documentation</a></li><li class="list-none"><a class="link nav-anchor pl-4 group flex items-center lg:text-sm lg:leading-6 mb-5 sm:mb-4 font-medium text-gray-600 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="https://console.anthropic.com/" rel="noreferrer" target="_blank">Developer Console</a></li><li class="list-none"><a class="link nav-anchor pl-4 group flex items-center lg:text-sm lg:leading-6 mb-5 sm:mb-4 font-medium text-gray-600 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="https://www.anthropic.com/discord" rel="noreferrer" target="_blank">Developer Discord</a></li><li class="list-none"><a class="link nav-anchor pl-4 group flex items-center lg:text-sm lg:leading-6 mb-5 sm:mb-4 font-medium text-gray-600 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="https://support.anthropic.com/" rel="noreferrer" target="_blank">Support</a></li><div class="mt-12 lg:mt-8"><h5 class="pl-4 mb-3.5 lg:mb-2.5 font-semibold text-gray-900 dark:text-gray-200" id="sidebar-title">First steps</h5><ul id="sidebar-group"><li class="relative scroll-m-4 first:scroll-m-20" id="/en/docs/welcome"><a class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light gap-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="/en/docs/welcome" style="padding-left:1rem"><div class="flex-1 flex items-center space-x-2.5"><div>Intro to Claude</div></div></a></li><li class="relative scroll-m-4 first:scroll-m-20" id="/en/docs/get-started"><a class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light gap-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="/en/docs/get-started" style="padding-left:1rem"><div class="flex-1 flex items-center space-x-2.5"><div>Get started</div></div></a></li></ul></div><div class="mt-12 lg:mt-8"><h5 class="pl-4 mb-3.5 lg:mb-2.5 font-semibold text-gray-900 dark:text-gray-200" id="sidebar-title">Models &amp; pricing</h5><ul id="sidebar-group"><li class="relative scroll-m-4 first:scroll-m-20" id="/en/docs/about-claude/models/overview"><a class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light gap-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="/en/docs/about-claude/models/overview" style="padding-left:1rem"><div class="flex-1 flex items-center space-x-2.5"><div>Models overview</div></div></a></li><li class="relative scroll-m-4 first:scroll-m-20" id="/en/docs/about-claude/models/choosing-a-model"><a class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light gap-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="/en/docs/about-claude/models/choosing-a-model" style="padding-left:1rem"><div class="flex-1 flex items-center space-x-2.5"><div>Choosing a model</div></div></a></li><li class="relative scroll-m-4 first:scroll-m-20" id="/en/docs/about-claude/models/migrating-to-claude-4"><a class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light gap-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="/en/docs/about-claude/models/migrating-to-claude-4" style="padding-left:1rem"><div class="flex-1 flex items-center space-x-2.5"><div>Migrating to Claude 4</div></div></a></li><li class="relative scroll-m-4 first:scroll-m-20" id="/en/docs/about-claude/model-deprecations"><a class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light gap-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="/en/docs/about-claude/model-deprecations" style="padding-left:1rem"><div class="flex-1 flex items-center space-x-2.5"><div>Model deprecations</div></div></a></li><li class="relative scroll-m-4 first:scroll-m-20" id="/en/docs/about-claude/pricing"><a class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light gap-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="/en/docs/about-claude/pricing" style="padding-left:1rem"><div class="flex-1 flex items-center space-x-2.5"><div>Pricing</div></div></a></li></ul></div><div class="mt-12 lg:mt-8"><h5 class="pl-4 mb-3.5 lg:mb-2.5 font-semibold text-gray-900 dark:text-gray-200" id="sidebar-title">Learn about Claude</h5><ul id="sidebar-group"><li class="relative scroll-m-4 first:scroll-m-20" id="/en/docs/overview"><a class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light gap-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="/en/docs/overview" style="padding-left:1rem"><div class="flex-1 flex items-center space-x-2.5"><div>Building with Claude</div></div></a></li><li><div class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light gap-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" style="padding-left:1rem"><div class="">Use cases</div></div><ul><li class="relative scroll-m-4 first:scroll-m-20" id="/en/docs/about-claude/use-case-guides/overview"><a class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light gap-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="/en/docs/about-claude/use-case-guides/overview" style="padding-left:1.75rem"><div class="flex-1 flex items-center space-x-2.5"><div>Overview</div></div></a></li><li class="relative scroll-m-4 first:scroll-m-20" id="/en/docs/about-claude/use-case-guides/ticket-routing"><a class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light gap-x-3 rounded-xl bg-primary/10 text-primary font-semibold dark:text-primary-light dark:bg-primary-light/10" href="/en/docs/about-claude/use-case-guides/ticket-routing" style="padding-left:1.75rem"><div class="flex-1 flex items-center space-x-2.5"><div>Ticket routing</div></div></a></li><li class="relative scroll-m-4 first:scroll-m-20" id="/en/docs/about-claude/use-case-guides/customer-support-chat"><a class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light gap-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="/en/docs/about-claude/use-case-guides/customer-support-chat" style="padding-left:1.75rem"><div class="flex-1 flex items-center space-x-2.5"><div>Customer support agent</div></div></a></li><li class="relative scroll-m-4 first:scroll-m-20" id="/en/docs/about-claude/use-case-guides/content-moderation"><a class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light gap-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="/en/docs/about-claude/use-case-guides/content-moderation" style="padding-left:1.75rem"><div class="flex-1 flex items-center space-x-2.5"><div>Content moderation</div></div></a></li><li class="relative scroll-m-4 first:scroll-m-20" id="/en/docs/about-claude/use-case-guides/legal-summarization"><a class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light gap-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="/en/docs/about-claude/use-case-guides/legal-summarization" style="padding-left:1.75rem"><div class="flex-1 flex items-center space-x-2.5"><div>Legal summarization</div></div></a></li></ul></li><li class="relative scroll-m-4 first:scroll-m-20" id="/en/docs/build-with-claude/context-windows"><a class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light gap-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="/en/docs/build-with-claude/context-windows" style="padding-left:1rem"><div class="flex-1 flex items-center space-x-2.5"><div>Context windows</div></div></a></li><li class="relative scroll-m-4 first:scroll-m-20" id="/en/docs/about-claude/glossary"><a class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light gap-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="/en/docs/about-claude/glossary" style="padding-left:1rem"><div class="flex-1 flex items-center space-x-2.5"><div>Glossary</div></div></a></li><li><div class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light gap-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" style="padding-left:1rem"><div class="">Prompt engineering</div></div></li></ul></div><div class="mt-12 lg:mt-8"><h5 class="pl-4 mb-3.5 lg:mb-2.5 font-semibold text-gray-900 dark:text-gray-200" id="sidebar-title">Explore features</h5><ul id="sidebar-group"><li class="relative scroll-m-4 first:scroll-m-20" id="/en/docs/build-with-claude/overview"><a class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light gap-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="/en/docs/build-with-claude/overview" style="padding-left:1rem"><div class="flex-1 flex items-center space-x-2.5"><div>Features overview</div></div></a></li><li class="relative scroll-m-4 first:scroll-m-20" id="/en/docs/build-with-claude/prompt-caching"><a class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light gap-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="/en/docs/build-with-claude/prompt-caching" style="padding-left:1rem"><div class="flex-1 flex items-center space-x-2.5"><div>Prompt caching</div></div></a></li><li class="relative scroll-m-4 first:scroll-m-20" id="/en/docs/build-with-claude/extended-thinking"><a class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light gap-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="/en/docs/build-with-claude/extended-thinking" style="padding-left:1rem"><div class="flex-1 flex items-center space-x-2.5"><div>Extended thinking</div></div></a></li><li class="relative scroll-m-4 first:scroll-m-20" id="/en/docs/build-with-claude/streaming"><a class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light gap-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="/en/docs/build-with-claude/streaming" style="padding-left:1rem"><div class="flex-1 flex items-center space-x-2.5"><div>Streaming Messages</div></div></a></li><li class="relative scroll-m-4 first:scroll-m-20" id="/en/docs/build-with-claude/batch-processing"><a class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light gap-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="/en/docs/build-with-claude/batch-processing" style="padding-left:1rem"><div class="flex-1 flex items-center space-x-2.5"><div>Batch processing</div></div></a></li><li class="relative scroll-m-4 first:scroll-m-20" id="/en/docs/build-with-claude/citations"><a class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light gap-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="/en/docs/build-with-claude/citations" style="padding-left:1rem"><div class="flex-1 flex items-center space-x-2.5"><div>Citations</div></div></a></li><li class="relative scroll-m-4 first:scroll-m-20" id="/en/docs/build-with-claude/multilingual-support"><a class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light gap-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="/en/docs/build-with-claude/multilingual-support" style="padding-left:1rem"><div class="flex-1 flex items-center space-x-2.5"><div>Multilingual support</div></div></a></li><li class="relative scroll-m-4 first:scroll-m-20" id="/en/docs/build-with-claude/token-counting"><a class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light gap-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="/en/docs/build-with-claude/token-counting" style="padding-left:1rem"><div class="flex-1 flex items-center space-x-2.5"><div>Token counting</div></div></a></li><li class="relative scroll-m-4 first:scroll-m-20" id="/en/docs/build-with-claude/embeddings"><a class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light gap-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="/en/docs/build-with-claude/embeddings" style="padding-left:1rem"><div class="flex-1 flex items-center space-x-2.5"><div>Embeddings</div></div></a></li><li class="relative scroll-m-4 first:scroll-m-20" id="/en/docs/build-with-claude/vision"><a class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light gap-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="/en/docs/build-with-claude/vision" style="padding-left:1rem"><div class="flex-1 flex items-center space-x-2.5"><div>Vision</div></div></a></li><li class="relative scroll-m-4 first:scroll-m-20" id="/en/docs/build-with-claude/pdf-support"><a class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light gap-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="/en/docs/build-with-claude/pdf-support" style="padding-left:1rem"><div class="flex-1 flex items-center space-x-2.5"><div>PDF support</div></div></a></li></ul></div><div class="mt-12 lg:mt-8"><h5 class="pl-4 mb-3.5 lg:mb-2.5 font-semibold text-gray-900 dark:text-gray-200" id="sidebar-title">Agent components</h5><ul id="sidebar-group"><li><div class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light gap-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" style="padding-left:1rem"><div class="">Tools</div></div></li><li><div class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light gap-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" style="padding-left:1rem"><div class="">Model Context Protocol (MCP)</div></div></li><li class="relative scroll-m-4 first:scroll-m-20" id="/en/docs/agents-and-tools/computer-use"><a class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light gap-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="/en/docs/agents-and-tools/computer-use" style="padding-left:1rem"><div class="flex-1 flex items-center space-x-2.5"><div>Computer use (beta)</div></div></a></li><li class="relative scroll-m-4 first:scroll-m-20" id="/en/docs/agents-and-tools/claude-for-sheets"><a class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light gap-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="/en/docs/agents-and-tools/claude-for-sheets" style="padding-left:1rem"><div class="flex-1 flex items-center space-x-2.5"><div>Google Sheets add-on</div></div></a></li></ul></div><div class="mt-12 lg:mt-8"><h5 class="pl-4 mb-3.5 lg:mb-2.5 font-semibold text-gray-900 dark:text-gray-200" id="sidebar-title">Test &amp; evaluate</h5><ul id="sidebar-group"><li class="relative scroll-m-4 first:scroll-m-20" id="/en/docs/test-and-evaluate/define-success"><a class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light gap-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="/en/docs/test-and-evaluate/define-success" style="padding-left:1rem"><div class="flex-1 flex items-center space-x-2.5"><div>Define success criteria</div></div></a></li><li class="relative scroll-m-4 first:scroll-m-20" id="/en/docs/test-and-evaluate/develop-tests"><a class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light gap-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="/en/docs/test-and-evaluate/develop-tests" style="padding-left:1rem"><div class="flex-1 flex items-center space-x-2.5"><div>Develop test cases</div></div></a></li><li><div class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light gap-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" style="padding-left:1rem"><div class="">Strengthen guardrails</div></div></li><li class="relative scroll-m-4 first:scroll-m-20" id="/en/docs/test-and-evaluate/eval-tool"><a class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light gap-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="/en/docs/test-and-evaluate/eval-tool" style="padding-left:1rem"><div class="flex-1 flex items-center space-x-2.5"><div>Using the Evaluation Tool</div></div></a></li></ul></div><div class="mt-12 lg:mt-8"><h5 class="pl-4 mb-3.5 lg:mb-2.5 font-semibold text-gray-900 dark:text-gray-200" id="sidebar-title">Legal center</h5><ul id="sidebar-group"><li class="relative scroll-m-4 first:scroll-m-20" id="https://www.anthropic.com/legal/privacy"><a class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light gap-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="https://www.anthropic.com/legal/privacy" style="padding-left:1rem" target="_blank"><div class="flex-1 flex items-center space-x-2.5"><div>Anthropic Privacy Policy</div></div></a></li><li class="relative scroll-m-4 first:scroll-m-20" id="https://trust.anthropic.com/"><a class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light gap-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="https://trust.anthropic.com/" style="padding-left:1rem" target="_blank"><div class="flex-1 flex items-center space-x-2.5"><div>Security and compliance</div></div></a></li></ul></div></div></div></div></div><div class="" id="content-container"><div class="flex flex-row gap-12 box-border w-full pt-40 lg:pt-10"><div class="relative grow box-border flex-col w-full mx-auto px-1 lg:pl-[23.7rem] lg:-ml-12 xl:w-[calc(100%-28rem)]" id="content-area"><div class="mdx-content relative mt-8 prose prose-gray dark:prose-invert"><h2 class="flex whitespace-pre-wrap group font-semibold" id="define-whether-to-use-claude-for-ticket-routing"><div class="absolute"><a aria-label="Navigate to header" class="-ml-10 flex items-center opacity-0 border-0 group-hover:opacity-100" href="#define-whether-to-use-claude-for-ticket-routing">​</a></div><span class="cursor-pointer">Define whether to use Claude for ticket routing</span></h2>
<p>Here are some key indicators that you should use an LLM like Claude  instead of traditional ML approaches for your classification task:</p>
<div class="accordion-group [&amp;&gt;div]:border-0 [&amp;&gt;div]:rounded-none [&amp;&gt;div&gt;button]:rounded-none [&amp;&gt;div]:mb-0 overflow-hidden mt-0 mb-3 rounded-xl prose prose-gray dark:prose-invert divide-y divide-inherit border dark:border-gray-800/50"><div class="accordion border-standard rounded-2xl mb-3 overflow-hidden bg-background-light dark:bg-codeblock cursor-default" role="button"><button aria-controls="you-have-limited-labeled-training-data-available accordion children" aria-expanded="false" class="relative not-prose flex flex-row items-center content-center w-full py-4 px-5 space-x-2 hover:bg-gray-100 hover:dark:bg-gray-800 rounded-t-xl" data-component-part="accordion-button"><div class="leading-tight text-left" contenteditable="false" data-component-part="accordion-title-container"><p class="m-0 font-medium text-gray-900 dark:text-gray-200" data-component-part="accordion-title">You have limited labeled training data available</p></div></button><div class="mt-2 mb-4 mx-6 hidden overflow-x-auto cursor-default" data-component-part="accordion-content" id="you-have-limited-labeled-training-data-available accordion children" role="contentinfo"><p>Traditional ML processes require massive labeled datasets. Claude’s pre-trained model can effectively classify tickets with just a few dozen labeled examples, significantly reducing data preparation time and costs.</p></div></div><div class="accordion border-standard rounded-2xl mb-3 overflow-hidden bg-background-light dark:bg-codeblock cursor-default" role="button"><button aria-controls="your-classification-categories-are-likely-to-change-or-evolve-over-time accordion children" aria-expanded="false" class="relative not-prose flex flex-row items-center content-center w-full py-4 px-5 space-x-2 hover:bg-gray-100 hover:dark:bg-gray-800 rounded-t-xl" data-component-part="accordion-button"><div class="leading-tight text-left" contenteditable="false" data-component-part="accordion-title-container"><p class="m-0 font-medium text-gray-900 dark:text-gray-200" data-component-part="accordion-title">Your classification categories are likely to change or evolve over time</p></div></button><div class="mt-2 mb-4 mx-6 hidden overflow-x-auto cursor-default" data-component-part="accordion-content" id="your-classification-categories-are-likely-to-change-or-evolve-over-time accordion children" role="contentinfo"><p>Once a traditional ML approach has been established, changing it is a laborious and data-intensive undertaking. On the other hand, as your product or customer needs evolve, Claude can easily adapt to changes in class definitions or new classes without extensive relabeling of training data.</p></div></div><div class="accordion border-standard rounded-2xl mb-3 overflow-hidden bg-background-light dark:bg-codeblock cursor-default" role="button"><button aria-controls="you-need-to-handle-complex-unstructured-text-inputs accordion children" aria-expanded="false" class="relative not-prose flex flex-row items-center content-center w-full py-4 px-5 space-x-2 hover:bg-gray-100 hover:dark:bg-gray-800 rounded-t-xl" data-component-part="accordion-button"><div class="leading-tight text-left" contenteditable="false" data-component-part="accordion-title-container"><p class="m-0 font-medium text-gray-900 dark:text-gray-200" data-component-part="accordion-title">You need to handle complex, unstructured text inputs</p></div></button><div class="mt-2 mb-4 mx-6 hidden overflow-x-auto cursor-default" data-component-part="accordion-content" id="you-need-to-handle-complex-unstructured-text-inputs accordion children" role="contentinfo"><p>Traditional ML models often struggle with unstructured data and require extensive feature engineering. Claude’s advanced language understanding allows for accurate classification based on content and context, rather than relying on strict ontological structures.</p></div></div><div class="accordion border-standard rounded-2xl mb-3 overflow-hidden bg-background-light dark:bg-codeblock cursor-default" role="button"><button aria-controls="your-classification-rules-are-based-on-semantic-understanding accordion children" aria-expanded="false" class="relative not-prose flex flex-row items-center content-center w-full py-4 px-5 space-x-2 hover:bg-gray-100 hover:dark:bg-gray-800 rounded-t-xl" data-component-part="accordion-button"><div class="leading-tight text-left" contenteditable="false" data-component-part="accordion-title-container"><p class="m-0 font-medium text-gray-900 dark:text-gray-200" data-component-part="accordion-title">Your classification rules are based on semantic understanding</p></div></button><div class="mt-2 mb-4 mx-6 hidden overflow-x-auto cursor-default" data-component-part="accordion-content" id="your-classification-rules-are-based-on-semantic-understanding accordion children" role="contentinfo"><p>Traditional ML approaches often rely on bag-of-words models or simple pattern matching. Claude excels at understanding and applying underlying rules when classes are defined by conditions rather than examples.</p></div></div><div class="accordion border-standard rounded-2xl mb-3 overflow-hidden bg-background-light dark:bg-codeblock cursor-default" role="button"><button aria-controls="you-require-interpretable-reasoning-for-classification-decisions accordion children" aria-expanded="false" class="relative not-prose flex flex-row items-center content-center w-full py-4 px-5 space-x-2 hover:bg-gray-100 hover:dark:bg-gray-800 rounded-t-xl" data-component-part="accordion-button"><div class="leading-tight text-left" contenteditable="false" data-component-part="accordion-title-container"><p class="m-0 font-medium text-gray-900 dark:text-gray-200" data-component-part="accordion-title">You require interpretable reasoning for classification decisions</p></div></button><div class="mt-2 mb-4 mx-6 hidden overflow-x-auto cursor-default" data-component-part="accordion-content" id="you-require-interpretable-reasoning-for-classification-decisions accordion children" role="contentinfo"><p>Many traditional ML models provide little insight into their decision-making process. Claude can provide human-readable explanations for its classification decisions, building trust in the automation system and facilitating easy adaptation if needed.</p></div></div><div class="accordion border-standard rounded-2xl mb-3 overflow-hidden bg-background-light dark:bg-codeblock cursor-default" role="button"><button aria-controls="you-want-to-handle-edge-cases-and-ambiguous-tickets-more-effectively accordion children" aria-expanded="false" class="relative not-prose flex flex-row items-center content-center w-full py-4 px-5 space-x-2 hover:bg-gray-100 hover:dark:bg-gray-800 rounded-t-xl" data-component-part="accordion-button"><div class="leading-tight text-left" contenteditable="false" data-component-part="accordion-title-container"><p class="m-0 font-medium text-gray-900 dark:text-gray-200" data-component-part="accordion-title">You want to handle edge cases and ambiguous tickets more effectively</p></div></button><div class="mt-2 mb-4 mx-6 hidden overflow-x-auto cursor-default" data-component-part="accordion-content" id="you-want-to-handle-edge-cases-and-ambiguous-tickets-more-effectively accordion children" role="contentinfo"><p>Traditional ML systems often struggle with outliers and ambiguous inputs, frequently misclassifying them or defaulting to a catch-all category. Claude’s natural language processing capabilities allow it to better interpret context and nuance in support tickets, potentially reducing the number of misrouted or unclassified tickets that require manual intervention.</p></div></div><div class="accordion border-standard rounded-2xl mb-3 overflow-hidden bg-background-light dark:bg-codeblock cursor-default" role="button"><button aria-controls="you-need-multilingual-support-without-maintaining-separate-models accordion children" aria-expanded="false" class="relative not-prose flex flex-row items-center content-center w-full py-4 px-5 space-x-2 hover:bg-gray-100 hover:dark:bg-gray-800 rounded-t-xl" data-component-part="accordion-button"><div class="leading-tight text-left" contenteditable="false" data-component-part="accordion-title-container"><p class="m-0 font-medium text-gray-900 dark:text-gray-200" data-component-part="accordion-title">You need multilingual support without maintaining separate models</p></div></button><div class="mt-2 mb-4 mx-6 hidden overflow-x-auto cursor-default" data-component-part="accordion-content" id="you-need-multilingual-support-without-maintaining-separate-models accordion children" role="contentinfo"><p>Traditional ML approaches typically require separate models or extensive translation processes for each supported language. Claude’s multilingual capabilities allow it to classify tickets in various languages without the need for separate models or extensive translation processes, streamlining support for global customer bases.</p></div></div></div>

<h2 class="flex whitespace-pre-wrap group font-semibold" id="build-and-deploy-your-llm-support-workflow"><div class="absolute"><a aria-label="Navigate to header" class="-ml-10 flex items-center opacity-0 border-0 group-hover:opacity-100" href="#build-and-deploy-your-llm-support-workflow">​</a></div><span class="cursor-pointer">Build and deploy your LLM support workflow</span></h2>
<h3 class="flex whitespace-pre-wrap group font-semibold" id="understand-your-current-support-approach"><div class="absolute"><a aria-label="Navigate to header" class="-ml-10 flex items-center opacity-0 border-0 group-hover:opacity-100" href="#understand-your-current-support-approach">​</a></div><span class="cursor-pointer">Understand your current support approach</span></h3>
<p>Before diving into automation, it’s crucial to understand your existing ticketing system. Start by investigating how your support team currently handles ticket routing.</p>
<p>Consider questions like:</p>
<ul>
<li>What criteria are used to determine what SLA/service offering is applied?</li>
<li>Is ticket routing used to determine which tier of support or product specialist a ticket goes to?</li>
<li>Are there any automated rules or workflows already in place? In what cases do they fail?</li>
<li>How are edge cases or ambiguous tickets handled?</li>
<li>How does the team prioritize tickets?</li>
</ul>
<p>The more you know about how humans handle certain cases, the better you will be able to work with Claude to do the task.</p>
<h3 class="flex whitespace-pre-wrap group font-semibold" id="define-user-intent-categories"><div class="absolute"><a aria-label="Navigate to header" class="-ml-10 flex items-center opacity-0 border-0 group-hover:opacity-100" href="#define-user-intent-categories">​</a></div><span class="cursor-pointer">Define user intent categories</span></h3>
<p>A well-defined list of user intent categories is crucial for accurate support ticket classification with Claude. Claude’s ability to route tickets effectively within your system is directly proportional to how well-defined your system’s categories are.</p>
<p>Here are some example user intent categories and subcategories.</p>
<div class="accordion-group [&amp;&gt;div]:border-0 [&amp;&gt;div]:rounded-none [&amp;&gt;div&gt;button]:rounded-none [&amp;&gt;div]:mb-0 overflow-hidden mt-0 mb-3 rounded-xl prose prose-gray dark:prose-invert divide-y divide-inherit border dark:border-gray-800/50"><div class="accordion border-standard rounded-2xl mb-3 overflow-hidden bg-background-light dark:bg-codeblock cursor-default" role="button"><button aria-controls="technical-issue accordion children" aria-expanded="false" class="relative not-prose flex flex-row items-center content-center w-full py-4 px-5 space-x-2 hover:bg-gray-100 hover:dark:bg-gray-800 rounded-t-xl" data-component-part="accordion-button"><div class="leading-tight text-left" contenteditable="false" data-component-part="accordion-title-container"><p class="m-0 font-medium text-gray-900 dark:text-gray-200" data-component-part="accordion-title">Technical issue</p></div></button><div class="mt-2 mb-4 mx-6 hidden overflow-x-auto cursor-default" data-component-part="accordion-content" id="technical-issue accordion children" role="contentinfo"><ul>
<li>Hardware problem</li>
<li>Software bug</li>
<li>Compatibility issue</li>
<li>Performance problem</li>
</ul></div></div><div class="accordion border-standard rounded-2xl mb-3 overflow-hidden bg-background-light dark:bg-codeblock cursor-default" role="button"><button aria-controls="account-management accordion children" aria-expanded="false" class="relative not-prose flex flex-row items-center content-center w-full py-4 px-5 space-x-2 hover:bg-gray-100 hover:dark:bg-gray-800 rounded-t-xl" data-component-part="accordion-button"><div class="leading-tight text-left" contenteditable="false" data-component-part="accordion-title-container"><p class="m-0 font-medium text-gray-900 dark:text-gray-200" data-component-part="accordion-title">Account management</p></div></button><div class="mt-2 mb-4 mx-6 hidden overflow-x-auto cursor-default" data-component-part="accordion-content" id="account-management accordion children" role="contentinfo"><ul>
<li>Password reset</li>
<li>Account access issues</li>
<li>Billing inquiries</li>
<li>Subscription changes</li>
</ul></div></div><div class="accordion border-standard rounded-2xl mb-3 overflow-hidden bg-background-light dark:bg-codeblock cursor-default" role="button"><button aria-controls="product-information accordion children" aria-expanded="false" class="relative not-prose flex flex-row items-center content-center w-full py-4 px-5 space-x-2 hover:bg-gray-100 hover:dark:bg-gray-800 rounded-t-xl" data-component-part="accordion-button"><div class="leading-tight text-left" contenteditable="false" data-component-part="accordion-title-container"><p class="m-0 font-medium text-gray-900 dark:text-gray-200" data-component-part="accordion-title">Product information</p></div></button><div class="mt-2 mb-4 mx-6 hidden overflow-x-auto cursor-default" data-component-part="accordion-content" id="product-information accordion children" role="contentinfo"><ul>
<li>Feature inquiries</li>
<li>Product compatibility questions</li>
<li>Pricing information</li>
<li>Availability inquiries</li>
</ul></div></div><div class="accordion border-standard rounded-2xl mb-3 overflow-hidden bg-background-light dark:bg-codeblock cursor-default" role="button"><button aria-controls="user-guidance accordion children" aria-expanded="false" class="relative not-prose flex flex-row items-center content-center w-full py-4 px-5 space-x-2 hover:bg-gray-100 hover:dark:bg-gray-800 rounded-t-xl" data-component-part="accordion-button"><div class="leading-tight text-left" contenteditable="false" data-component-part="accordion-title-container"><p class="m-0 font-medium text-gray-900 dark:text-gray-200" data-component-part="accordion-title">User guidance</p></div></button><div class="mt-2 mb-4 mx-6 hidden overflow-x-auto cursor-default" data-component-part="accordion-content" id="user-guidance accordion children" role="contentinfo"><ul>
<li>How-to questions</li>
<li>Feature usage assistance</li>
<li>Best practices advice</li>
<li>Troubleshooting guidance</li>
</ul></div></div><div class="accordion border-standard rounded-2xl mb-3 overflow-hidden bg-background-light dark:bg-codeblock cursor-default" role="button"><button aria-controls="feedback accordion children" aria-expanded="false" class="relative not-prose flex flex-row items-center content-center w-full py-4 px-5 space-x-2 hover:bg-gray-100 hover:dark:bg-gray-800 rounded-t-xl" data-component-part="accordion-button"><div class="leading-tight text-left" contenteditable="false" data-component-part="accordion-title-container"><p class="m-0 font-medium text-gray-900 dark:text-gray-200" data-component-part="accordion-title">Feedback</p></div></button><div class="mt-2 mb-4 mx-6 hidden overflow-x-auto cursor-default" data-component-part="accordion-content" id="feedback accordion children" role="contentinfo"><ul>
<li>Bug reports</li>
<li>Feature requests</li>
<li>General feedback or suggestions</li>
<li>Complaints</li>
</ul></div></div><div class="accordion border-standard rounded-2xl mb-3 overflow-hidden bg-background-light dark:bg-codeblock cursor-default" role="button"><button aria-controls="order-related accordion children" aria-expanded="false" class="relative not-prose flex flex-row items-center content-center w-full py-4 px-5 space-x-2 hover:bg-gray-100 hover:dark:bg-gray-800 rounded-t-xl" data-component-part="accordion-button"><div class="leading-tight text-left" contenteditable="false" data-component-part="accordion-title-container"><p class="m-0 font-medium text-gray-900 dark:text-gray-200" data-component-part="accordion-title">Order-related</p></div></button><div class="mt-2 mb-4 mx-6 hidden overflow-x-auto cursor-default" data-component-part="accordion-content" id="order-related accordion children" role="contentinfo"><ul>
<li>Order status inquiries</li>
<li>Shipping information</li>
<li>Returns and exchanges</li>
<li>Order modifications</li>
</ul></div></div><div class="accordion border-standard rounded-2xl mb-3 overflow-hidden bg-background-light dark:bg-codeblock cursor-default" role="button"><button aria-controls="service-request accordion children" aria-expanded="false" class="relative not-prose flex flex-row items-center content-center w-full py-4 px-5 space-x-2 hover:bg-gray-100 hover:dark:bg-gray-800 rounded-t-xl" data-component-part="accordion-button"><div class="leading-tight text-left" contenteditable="false" data-component-part="accordion-title-container"><p class="m-0 font-medium text-gray-900 dark:text-gray-200" data-component-part="accordion-title">Service request</p></div></button><div class="mt-2 mb-4 mx-6 hidden overflow-x-auto cursor-default" data-component-part="accordion-content" id="service-request accordion children" role="contentinfo"><ul>
<li>Installation assistance</li>
<li>Upgrade requests</li>
<li>Maintenance scheduling</li>
<li>Service cancellation</li>
</ul></div></div><div class="accordion border-standard rounded-2xl mb-3 overflow-hidden bg-background-light dark:bg-codeblock cursor-default" role="button"><button aria-controls="security-concerns accordion children" aria-expanded="false" class="relative not-prose flex flex-row items-center content-center w-full py-4 px-5 space-x-2 hover:bg-gray-100 hover:dark:bg-gray-800 rounded-t-xl" data-component-part="accordion-button"><div class="leading-tight text-left" contenteditable="false" data-component-part="accordion-title-container"><p class="m-0 font-medium text-gray-900 dark:text-gray-200" data-component-part="accordion-title">Security concerns</p></div></button><div class="mt-2 mb-4 mx-6 hidden overflow-x-auto cursor-default" data-component-part="accordion-content" id="security-concerns accordion children" role="contentinfo"><ul>
<li>Data privacy inquiries</li>
<li>Suspicious activity reports</li>
<li>Security feature assistance</li>
</ul></div></div><div class="accordion border-standard rounded-2xl mb-3 overflow-hidden bg-background-light dark:bg-codeblock cursor-default" role="button"><button aria-controls="compliance-and-legal accordion children" aria-expanded="false" class="relative not-prose flex flex-row items-center content-center w-full py-4 px-5 space-x-2 hover:bg-gray-100 hover:dark:bg-gray-800 rounded-t-xl" data-component-part="accordion-button"><div class="leading-tight text-left" contenteditable="false" data-component-part="accordion-title-container"><p class="m-0 font-medium text-gray-900 dark:text-gray-200" data-component-part="accordion-title">Compliance and legal</p></div></button><div class="mt-2 mb-4 mx-6 hidden overflow-x-auto cursor-default" data-component-part="accordion-content" id="compliance-and-legal accordion children" role="contentinfo"><ul>
<li>Regulatory compliance questions</li>
<li>Terms of service inquiries</li>
<li>Legal documentation requests</li>
</ul></div></div><div class="accordion border-standard rounded-2xl mb-3 overflow-hidden bg-background-light dark:bg-codeblock cursor-default" role="button"><button aria-controls="emergency-support accordion children" aria-expanded="false" class="relative not-prose flex flex-row items-center content-center w-full py-4 px-5 space-x-2 hover:bg-gray-100 hover:dark:bg-gray-800 rounded-t-xl" data-component-part="accordion-button"><div class="leading-tight text-left" contenteditable="false" data-component-part="accordion-title-container"><p class="m-0 font-medium text-gray-900 dark:text-gray-200" data-component-part="accordion-title">Emergency support</p></div></button><div class="mt-2 mb-4 mx-6 hidden overflow-x-auto cursor-default" data-component-part="accordion-content" id="emergency-support accordion children" role="contentinfo"><ul>
<li>Critical system failures</li>
<li>Urgent security issues</li>
<li>Time-sensitive problems</li>
</ul></div></div><div class="accordion border-standard rounded-2xl mb-3 overflow-hidden bg-background-light dark:bg-codeblock cursor-default" role="button"><button aria-controls="training-and-education accordion children" aria-expanded="false" class="relative not-prose flex flex-row items-center content-center w-full py-4 px-5 space-x-2 hover:bg-gray-100 hover:dark:bg-gray-800 rounded-t-xl" data-component-part="accordion-button"><div class="leading-tight text-left" contenteditable="false" data-component-part="accordion-title-container"><p class="m-0 font-medium text-gray-900 dark:text-gray-200" data-component-part="accordion-title">Training and education</p></div></button><div class="mt-2 mb-4 mx-6 hidden overflow-x-auto cursor-default" data-component-part="accordion-content" id="training-and-education accordion children" role="contentinfo"><ul>
<li>Product training requests</li>
<li>Documentation inquiries</li>
<li>Webinar or workshop information</li>
</ul></div></div></div>
<p>In addition to intent, ticket routing and prioritization may also be influenced by other factors such as urgency, customer type, SLAs, or language. Be sure to consider other routing criteria when building your automated routing system.</p>
<h3 class="flex whitespace-pre-wrap group font-semibold" id="establish-success-criteria"><div class="absolute"><a aria-label="Navigate to header" class="-ml-10 flex items-center opacity-0 border-0 group-hover:opacity-100" href="#establish-success-criteria">​</a></div><span class="cursor-pointer">Establish success criteria</span></h3>
<p>Work with your support team to <a class="link" href="https://docs.anthropic.com/en/docs/build-with-claude/define-success" rel="noreferrer" target="_blank">define clear success criteria</a> with measurable benchmarks, thresholds, and goals.</p>
<p>Here are some standard criteria and benchmarks when using LLMs for support ticket routing:</p>
<div class="accordion-group [&amp;&gt;div]:border-0 [&amp;&gt;div]:rounded-none [&amp;&gt;div&gt;button]:rounded-none [&amp;&gt;div]:mb-0 overflow-hidden mt-0 mb-3 rounded-xl prose prose-gray dark:prose-invert divide-y divide-inherit border dark:border-gray-800/50"><div class="accordion border-standard rounded-2xl mb-3 overflow-hidden bg-background-light dark:bg-codeblock cursor-default" role="button"><button aria-controls="classification-consistency accordion children" aria-expanded="false" class="relative not-prose flex flex-row items-center content-center w-full py-4 px-5 space-x-2 hover:bg-gray-100 hover:dark:bg-gray-800 rounded-t-xl" data-component-part="accordion-button"><div class="leading-tight text-left" contenteditable="false" data-component-part="accordion-title-container"><p class="m-0 font-medium text-gray-900 dark:text-gray-200" data-component-part="accordion-title">Classification consistency</p></div></button><div class="mt-2 mb-4 mx-6 hidden overflow-x-auto cursor-default" data-component-part="accordion-content" id="classification-consistency accordion children" role="contentinfo"><p>This metric assesses how consistently Claude classifies similar tickets over time. It’s crucial for maintaining routing reliability. Measure this by periodically testing the model with a set of standardized inputs and aiming for a consistency rate of 95% or higher.</p></div></div><div class="accordion border-standard rounded-2xl mb-3 overflow-hidden bg-background-light dark:bg-codeblock cursor-default" role="button"><button aria-controls="adaptation-speed accordion children" aria-expanded="false" class="relative not-prose flex flex-row items-center content-center w-full py-4 px-5 space-x-2 hover:bg-gray-100 hover:dark:bg-gray-800 rounded-t-xl" data-component-part="accordion-button"><div class="leading-tight text-left" contenteditable="false" data-component-part="accordion-title-container"><p class="m-0 font-medium text-gray-900 dark:text-gray-200" data-component-part="accordion-title">Adaptation speed</p></div></button><div class="mt-2 mb-4 mx-6 hidden overflow-x-auto cursor-default" data-component-part="accordion-content" id="adaptation-speed accordion children" role="contentinfo"><p>This measures how quickly Claude can adapt to new categories or changing ticket patterns. Test this by introducing new ticket types and measuring the time it takes for the model to achieve satisfactory accuracy (e.g., &gt;90%) on these new categories. Aim for adaptation within 50-100 sample tickets.</p></div></div><div class="accordion border-standard rounded-2xl mb-3 overflow-hidden bg-background-light dark:bg-codeblock cursor-default" role="button"><button aria-controls="multilingual-handling accordion children" aria-expanded="false" class="relative not-prose flex flex-row items-center content-center w-full py-4 px-5 space-x-2 hover:bg-gray-100 hover:dark:bg-gray-800 rounded-t-xl" data-component-part="accordion-button"><div class="leading-tight text-left" contenteditable="false" data-component-part="accordion-title-container"><p class="m-0 font-medium text-gray-900 dark:text-gray-200" data-component-part="accordion-title">Multilingual handling</p></div></button><div class="mt-2 mb-4 mx-6 hidden overflow-x-auto cursor-default" data-component-part="accordion-content" id="multilingual-handling accordion children" role="contentinfo"><p>This assesses Claude’s ability to accurately route tickets in multiple languages. Measure the routing accuracy across different languages, aiming for no more than a 5-10% drop in accuracy for non-primary languages.</p></div></div><div class="accordion border-standard rounded-2xl mb-3 overflow-hidden bg-background-light dark:bg-codeblock cursor-default" role="button"><button aria-controls="edge-case-handling accordion children" aria-expanded="false" class="relative not-prose flex flex-row items-center content-center w-full py-4 px-5 space-x-2 hover:bg-gray-100 hover:dark:bg-gray-800 rounded-t-xl" data-component-part="accordion-button"><div class="leading-tight text-left" contenteditable="false" data-component-part="accordion-title-container"><p class="m-0 font-medium text-gray-900 dark:text-gray-200" data-component-part="accordion-title">Edge case handling</p></div></button><div class="mt-2 mb-4 mx-6 hidden overflow-x-auto cursor-default" data-component-part="accordion-content" id="edge-case-handling accordion children" role="contentinfo"><p>This evaluates Claude’s performance on unusual or complex tickets. Create a test set of edge cases and measure the routing accuracy, aiming for at least 80% accuracy on these challenging inputs.</p></div></div><div class="accordion border-standard rounded-2xl mb-3 overflow-hidden bg-background-light dark:bg-codeblock cursor-default" role="button"><button aria-controls="bias-mitigation accordion children" aria-expanded="false" class="relative not-prose flex flex-row items-center content-center w-full py-4 px-5 space-x-2 hover:bg-gray-100 hover:dark:bg-gray-800 rounded-t-xl" data-component-part="accordion-button"><div class="leading-tight text-left" contenteditable="false" data-component-part="accordion-title-container"><p class="m-0 font-medium text-gray-900 dark:text-gray-200" data-component-part="accordion-title">Bias mitigation</p></div></button><div class="mt-2 mb-4 mx-6 hidden overflow-x-auto cursor-default" data-component-part="accordion-content" id="bias-mitigation accordion children" role="contentinfo"><p>This measures Claude’s fairness in routing across different customer demographics. Regularly audit routing decisions for potential biases, aiming for consistent routing accuracy (within 2-3%) across all customer groups.</p></div></div><div class="accordion border-standard rounded-2xl mb-3 overflow-hidden bg-background-light dark:bg-codeblock cursor-default" role="button"><button aria-controls="prompt-efficiency accordion children" aria-expanded="false" class="relative not-prose flex flex-row items-center content-center w-full py-4 px-5 space-x-2 hover:bg-gray-100 hover:dark:bg-gray-800 rounded-t-xl" data-component-part="accordion-button"><div class="leading-tight text-left" contenteditable="false" data-component-part="accordion-title-container"><p class="m-0 font-medium text-gray-900 dark:text-gray-200" data-component-part="accordion-title">Prompt efficiency</p></div></button><div class="mt-2 mb-4 mx-6 hidden overflow-x-auto cursor-default" data-component-part="accordion-content" id="prompt-efficiency accordion children" role="contentinfo"><p>In situations where minimizing token count is crucial, this criteria assesses how well Claude performs with minimal context. Measure routing accuracy with varying amounts of context provided, aiming for 90%+ accuracy with just the ticket title and a brief description.</p></div></div><div class="accordion border-standard rounded-2xl mb-3 overflow-hidden bg-background-light dark:bg-codeblock cursor-default" role="button"><button aria-controls="explainability-score accordion children" aria-expanded="false" class="relative not-prose flex flex-row items-center content-center w-full py-4 px-5 space-x-2 hover:bg-gray-100 hover:dark:bg-gray-800 rounded-t-xl" data-component-part="accordion-button"><div class="leading-tight text-left" contenteditable="false" data-component-part="accordion-title-container"><p class="m-0 font-medium text-gray-900 dark:text-gray-200" data-component-part="accordion-title">Explainability score</p></div></button><div class="mt-2 mb-4 mx-6 hidden overflow-x-auto cursor-default" data-component-part="accordion-content" id="explainability-score accordion children" role="contentinfo"><p>This evaluates the quality and relevance of Claude’s explanations for its routing decisions. Human raters can score explanations on a scale (e.g., 1-5), with the goal of achieving an average score of 4 or higher.</p></div></div></div>
<p>Here are some common success criteria that may be useful regardless of whether an LLM is used:</p>
<div class="accordion-group [&amp;&gt;div]:border-0 [&amp;&gt;div]:rounded-none [&amp;&gt;div&gt;button]:rounded-none [&amp;&gt;div]:mb-0 overflow-hidden mt-0 mb-3 rounded-xl prose prose-gray dark:prose-invert divide-y divide-inherit border dark:border-gray-800/50"><div class="accordion border-standard rounded-2xl mb-3 overflow-hidden bg-background-light dark:bg-codeblock cursor-default" role="button"><button aria-controls="routing-accuracy accordion children" aria-expanded="false" class="relative not-prose flex flex-row items-center content-center w-full py-4 px-5 space-x-2 hover:bg-gray-100 hover:dark:bg-gray-800 rounded-t-xl" data-component-part="accordion-button"><div class="leading-tight text-left" contenteditable="false" data-component-part="accordion-title-container"><p class="m-0 font-medium text-gray-900 dark:text-gray-200" data-component-part="accordion-title">Routing accuracy</p></div></button><div class="mt-2 mb-4 mx-6 hidden overflow-x-auto cursor-default" data-component-part="accordion-content" id="routing-accuracy accordion children" role="contentinfo"><p>Routing accuracy measures how often tickets are correctly assigned to the appropriate team or individual on the first try. This is typically measured as a percentage of correctly routed tickets out of total tickets. Industry benchmarks often aim for 90-95% accuracy, though this can vary based on the complexity of the support structure.</p></div></div><div class="accordion border-standard rounded-2xl mb-3 overflow-hidden bg-background-light dark:bg-codeblock cursor-default" role="button"><button aria-controls="time-to-assignment accordion children" aria-expanded="false" class="relative not-prose flex flex-row items-center content-center w-full py-4 px-5 space-x-2 hover:bg-gray-100 hover:dark:bg-gray-800 rounded-t-xl" data-component-part="accordion-button"><div class="leading-tight text-left" contenteditable="false" data-component-part="accordion-title-container"><p class="m-0 font-medium text-gray-900 dark:text-gray-200" data-component-part="accordion-title">Time-to-assignment</p></div></button><div class="mt-2 mb-4 mx-6 hidden overflow-x-auto cursor-default" data-component-part="accordion-content" id="time-to-assignment accordion children" role="contentinfo"><p>This metric tracks how quickly tickets are assigned after being submitted. Faster assignment times generally lead to quicker resolutions and improved customer satisfaction. Best-in-class systems often achieve average assignment times of under 5 minutes, with many aiming for near-instantaneous routing (which is possible with LLM implementations).</p></div></div><div class="accordion border-standard rounded-2xl mb-3 overflow-hidden bg-background-light dark:bg-codeblock cursor-default" role="button"><button aria-controls="rerouting-rate accordion children" aria-expanded="false" class="relative not-prose flex flex-row items-center content-center w-full py-4 px-5 space-x-2 hover:bg-gray-100 hover:dark:bg-gray-800 rounded-t-xl" data-component-part="accordion-button"><div class="leading-tight text-left" contenteditable="false" data-component-part="accordion-title-container"><p class="m-0 font-medium text-gray-900 dark:text-gray-200" data-component-part="accordion-title">Rerouting rate</p></div></button><div class="mt-2 mb-4 mx-6 hidden overflow-x-auto cursor-default" data-component-part="accordion-content" id="rerouting-rate accordion children" role="contentinfo"><p>The rerouting rate indicates how often tickets need to be reassigned after initial routing. A lower rate suggests more accurate initial routing. Aim for a rerouting rate below 10%, with top-performing systems achieving rates as low as 5% or less.</p></div></div><div class="accordion border-standard rounded-2xl mb-3 overflow-hidden bg-background-light dark:bg-codeblock cursor-default" role="button"><button aria-controls="first-contact-resolution-rate accordion children" aria-expanded="false" class="relative not-prose flex flex-row items-center content-center w-full py-4 px-5 space-x-2 hover:bg-gray-100 hover:dark:bg-gray-800 rounded-t-xl" data-component-part="accordion-button"><div class="leading-tight text-left" contenteditable="false" data-component-part="accordion-title-container"><p class="m-0 font-medium text-gray-900 dark:text-gray-200" data-component-part="accordion-title">First-contact resolution rate</p></div></button><div class="mt-2 mb-4 mx-6 hidden overflow-x-auto cursor-default" data-component-part="accordion-content" id="first-contact-resolution-rate accordion children" role="contentinfo"><p>This measures the percentage of tickets resolved during the first interaction with the customer. Higher rates indicate efficient routing and well-prepared support teams. Industry benchmarks typically range from 70-75%, with top performers achieving rates of 80% or higher.</p></div></div><div class="accordion border-standard rounded-2xl mb-3 overflow-hidden bg-background-light dark:bg-codeblock cursor-default" role="button"><button aria-controls="average-handling-time accordion children" aria-expanded="false" class="relative not-prose flex flex-row items-center content-center w-full py-4 px-5 space-x-2 hover:bg-gray-100 hover:dark:bg-gray-800 rounded-t-xl" data-component-part="accordion-button"><div class="leading-tight text-left" contenteditable="false" data-component-part="accordion-title-container"><p class="m-0 font-medium text-gray-900 dark:text-gray-200" data-component-part="accordion-title">Average handling time</p></div></button><div class="mt-2 mb-4 mx-6 hidden overflow-x-auto cursor-default" data-component-part="accordion-content" id="average-handling-time accordion children" role="contentinfo"><p>Average handling time measures how long it takes to resolve a ticket from start to finish. Efficient routing can significantly reduce this time. Benchmarks vary widely by industry and complexity, but many organizations aim to keep average handling time under 24 hours for non-critical issues.</p></div></div><div class="accordion border-standard rounded-2xl mb-3 overflow-hidden bg-background-light dark:bg-codeblock cursor-default" role="button"><button aria-controls="customer-satisfaction-scores accordion children" aria-expanded="false" class="relative not-prose flex flex-row items-center content-center w-full py-4 px-5 space-x-2 hover:bg-gray-100 hover:dark:bg-gray-800 rounded-t-xl" data-component-part="accordion-button"><div class="leading-tight text-left" contenteditable="false" data-component-part="accordion-title-container"><p class="m-0 font-medium text-gray-900 dark:text-gray-200" data-component-part="accordion-title">Customer satisfaction scores</p></div></button><div class="mt-2 mb-4 mx-6 hidden overflow-x-auto cursor-default" data-component-part="accordion-content" id="customer-satisfaction-scores accordion children" role="contentinfo"><p>Often measured through post-interaction surveys, these scores reflect overall customer happiness with the support process. Effective routing contributes to higher satisfaction. Aim for CSAT scores of 90% or higher, with top performers often achieving 95%+ satisfaction rates.</p></div></div><div class="accordion border-standard rounded-2xl mb-3 overflow-hidden bg-background-light dark:bg-codeblock cursor-default" role="button"><button aria-controls="escalation-rate accordion children" aria-expanded="false" class="relative not-prose flex flex-row items-center content-center w-full py-4 px-5 space-x-2 hover:bg-gray-100 hover:dark:bg-gray-800 rounded-t-xl" data-component-part="accordion-button"><div class="leading-tight text-left" contenteditable="false" data-component-part="accordion-title-container"><p class="m-0 font-medium text-gray-900 dark:text-gray-200" data-component-part="accordion-title">Escalation rate</p></div></button><div class="mt-2 mb-4 mx-6 hidden overflow-x-auto cursor-default" data-component-part="accordion-content" id="escalation-rate accordion children" role="contentinfo"><p>This measures how often tickets need to be escalated to higher tiers of support. Lower escalation rates often indicate more accurate initial routing. Strive for an escalation rate below 20%, with best-in-class systems achieving rates of 10% or less.</p></div></div><div class="accordion border-standard rounded-2xl mb-3 overflow-hidden bg-background-light dark:bg-codeblock cursor-default" role="button"><button aria-controls="agent-productivity accordion children" aria-expanded="false" class="relative not-prose flex flex-row items-center content-center w-full py-4 px-5 space-x-2 hover:bg-gray-100 hover:dark:bg-gray-800 rounded-t-xl" data-component-part="accordion-button"><div class="leading-tight text-left" contenteditable="false" data-component-part="accordion-title-container"><p class="m-0 font-medium text-gray-900 dark:text-gray-200" data-component-part="accordion-title">Agent productivity</p></div></button><div class="mt-2 mb-4 mx-6 hidden overflow-x-auto cursor-default" data-component-part="accordion-content" id="agent-productivity accordion children" role="contentinfo"><p>This metric looks at how many tickets agents can handle effectively after implementing the routing solution. Improved routing should increase productivity. Measure this by tracking tickets resolved per agent per day or hour, aiming for a 10-20% improvement after implementing a new routing system.</p></div></div><div class="accordion border-standard rounded-2xl mb-3 overflow-hidden bg-background-light dark:bg-codeblock cursor-default" role="button"><button aria-controls="self-service-deflection-rate accordion children" aria-expanded="false" class="relative not-prose flex flex-row items-center content-center w-full py-4 px-5 space-x-2 hover:bg-gray-100 hover:dark:bg-gray-800 rounded-t-xl" data-component-part="accordion-button"><div class="leading-tight text-left" contenteditable="false" data-component-part="accordion-title-container"><p class="m-0 font-medium text-gray-900 dark:text-gray-200" data-component-part="accordion-title">Self-service deflection rate</p></div></button><div class="mt-2 mb-4 mx-6 hidden overflow-x-auto cursor-default" data-component-part="accordion-content" id="self-service-deflection-rate accordion children" role="contentinfo"><p>This measures the percentage of potential tickets resolved through self-service options before entering the routing system. Higher rates indicate effective pre-routing triage. Aim for a deflection rate of 20-30%, with top performers achieving rates of 40% or higher.</p></div></div><div class="accordion border-standard rounded-2xl mb-3 overflow-hidden bg-background-light dark:bg-codeblock cursor-default" role="button"><button aria-controls="cost-per-ticket accordion children" aria-expanded="false" class="relative not-prose flex flex-row items-center content-center w-full py-4 px-5 space-x-2 hover:bg-gray-100 hover:dark:bg-gray-800 rounded-t-xl" data-component-part="accordion-button"><div class="leading-tight text-left" contenteditable="false" data-component-part="accordion-title-container"><p class="m-0 font-medium text-gray-900 dark:text-gray-200" data-component-part="accordion-title">Cost per ticket</p></div></button><div class="mt-2 mb-4 mx-6 hidden overflow-x-auto cursor-default" data-component-part="accordion-content" id="cost-per-ticket accordion children" role="contentinfo"><p>This metric calculates the average cost to resolve each support ticket. Efficient routing should help reduce this cost over time. While benchmarks vary widely, many organizations aim to reduce cost per ticket by 10-15% after implementing an improved routing system.</p></div></div></div>
<h3 class="flex whitespace-pre-wrap group font-semibold" id="choose-the-right-claude-model"><div class="absolute"><a aria-label="Navigate to header" class="-ml-10 flex items-center opacity-0 border-0 group-hover:opacity-100" href="#choose-the-right-claude-model">​</a></div><span class="cursor-pointer">Choose the right Claude model</span></h3>
<p>The choice of model depends on the trade-offs between cost, accuracy, and response time.</p>
<p>Many customers have found <code>claude-3-5-haiku-20241022</code> an ideal model for ticket routing, as it is the fastest and most cost-effective model in the Claude 3 family while still delivering excellent results. If your classification problem requires deep subject matter expertise or a large volume of intent categories complex reasoning, you may opt for the <a class="link" href="https://docs.anthropic.com/en/docs/about-claude/models" rel="noreferrer" target="_blank">larger Sonnet model</a>.</p>
<h3 class="flex whitespace-pre-wrap group font-semibold" id="build-a-strong-prompt"><div class="absolute"><a aria-label="Navigate to header" class="-ml-10 flex items-center opacity-0 border-0 group-hover:opacity-100" href="#build-a-strong-prompt">​</a></div><span class="cursor-pointer">Build a strong prompt</span></h3>
<p>Ticket routing is a type of classification task. Claude analyzes the content of a support ticket and classifies it into predefined categories based on the issue type, urgency, required expertise, or other relevant factors.</p>
<p>Let’s write a ticket classification prompt. Our initial prompt should contain the contents of the user request and return both the reasoning and the intent.</p>
<div class="callout my-4 px-5 py-4 overflow-hidden rounded-2xl flex gap-3 border border-emerald-500/20 bg-emerald-50/50 dark:border-emerald-500/30 dark:bg-emerald-500/10" data-callout-type="tip"><div class="text-sm prose min-w-0 w-full text-emerald-900 dark:text-emerald-200" data-component-part="callout-content"><p>Try the <a class="link" href="https://docs.anthropic.com/en/docs/prompt-generator" rel="noreferrer" target="_blank">prompt generator</a> on the <a class="link" href="https://console.anthropic.com/login" rel="noreferrer" target="_blank">Anthropic Console</a> to have Claude write a first draft for you.</p></div></div>
<p>Here’s an example ticket routing classification prompt:</p>
<div class="code-block mt-5 mb-8 not-prose rounded-2xl relative group text-gray-50 bg-[#0F1117] dark:bg-codeblock ring-1 ring-transparent dark:ring-gray-800/50 codeblock-dark"><div class="min-w-full relative text-sm leading-6 children:!my-0 children:!shadow-none children:!bg-transparent transition-[height] duration-300 ease-in-out" data-component-part="code-block-root" style="font-variant-ligatures:none;height:auto"><div class="overflow-x-auto h-full p-5 [&amp;&gt;pre&gt;code]:pr-[3rem] [&amp;&gt;pre&gt;code&gt;span.line-highlight]:min-w-[calc(100%+3rem)] overflow-y-hidden scrollbar-thin scrollbar-thumb-rounded scrollbar-thumb-white/20 dark:scrollbar-thumb-white/20 hover:scrollbar-thumb-white/25 dark:hover:scrollbar-thumb-white/25 active:scrollbar-thumb-white/25 dark:active:scrollbar-thumb-white/25"><pre class="language-python language-python"><code class="language-python"><span class=""><span class="token keyword">def</span> <span class="token function">classify_support_request</span><span class="token punctuation">(</span>ticket_contents<span class="token punctuation">)</span><span class="token punctuation">:</span></span>
<span class="">    <span class="token comment"># Define the prompt for the classification task</span></span>
<span class="">    classification_prompt <span class="token operator">=</span> <span class="token string-interpolation"><span class="token string">f""</span></span>"You will be acting <span class="token keyword">as</span> a customer support ticket classification system<span class="token punctuation">.</span> Your task <span class="token keyword">is</span> to analyze customer support requests <span class="token keyword">and</span> output the appropriate classification intent <span class="token keyword">for</span> each request<span class="token punctuation">,</span> along <span class="token keyword">with</span> your reasoning<span class="token punctuation">.</span> </span>
<!-- -->
<span class="">        Here <span class="token keyword">is</span> the customer support request you need to classify<span class="token punctuation">:</span></span>
<!-- -->
<span class="">        <span class="token operator">&lt;</span>request<span class="token operator">&gt;</span><span class="token punctuation">{</span>ticket_contents<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>request<span class="token operator">&gt;</span></span>
<!-- -->
<span class="">        Please carefully analyze the above request to determine the customer's core intent <span class="token keyword">and</span> needs<span class="token punctuation">.</span> Consider what the customer <span class="token keyword">is</span> asking <span class="token keyword">for</span> has concerns about<span class="token punctuation">.</span></span>
<!-- -->
<span class="">        First<span class="token punctuation">,</span> write out your reasoning <span class="token keyword">and</span> analysis of how to classify this request inside <span class="token operator">&lt;</span>reasoning<span class="token operator">&gt;</span> tags<span class="token punctuation">.</span></span>
<!-- -->
<span class="">        Then<span class="token punctuation">,</span> output the appropriate classification label <span class="token keyword">for</span> the request inside a <span class="token operator">&lt;</span>intent<span class="token operator">&gt;</span> tag<span class="token punctuation">.</span> The valid intents are<span class="token punctuation">:</span></span>
<span class="">        <span class="token operator">&lt;</span>intents<span class="token operator">&gt;</span></span>
<span class="">        <span class="token operator">&lt;</span>intent<span class="token operator">&gt;</span>Support<span class="token punctuation">,</span> Feedback<span class="token punctuation">,</span> Complaint<span class="token operator">&lt;</span><span class="token operator">/</span>intent<span class="token operator">&gt;</span></span>
<span class="">        <span class="token operator">&lt;</span>intent<span class="token operator">&gt;</span>Order Tracking<span class="token operator">&lt;</span><span class="token operator">/</span>intent<span class="token operator">&gt;</span></span>
<span class="">        <span class="token operator">&lt;</span>intent<span class="token operator">&gt;</span>Refund<span class="token operator">/</span>Exchange<span class="token operator">&lt;</span><span class="token operator">/</span>intent<span class="token operator">&gt;</span></span>
<span class="">        <span class="token operator">&lt;</span><span class="token operator">/</span>intents<span class="token operator">&gt;</span></span>
<!-- -->
<span class="">        A request may have ONLY ONE applicable intent<span class="token punctuation">.</span> Only include the intent that <span class="token keyword">is</span> most applicable to the request<span class="token punctuation">.</span></span>
<!-- -->
<span class="">        As an example<span class="token punctuation">,</span> consider the following request<span class="token punctuation">:</span></span>
<span class="">        <span class="token operator">&lt;</span>request<span class="token operator">&gt;</span>Hello! I had high<span class="token operator">-</span>speed fiber internet installed on Saturday <span class="token keyword">and</span> my installer<span class="token punctuation">,</span> Kevin<span class="token punctuation">,</span> was absolutely fantastic! Where can I send my positive review? Thanks <span class="token keyword">for</span> your <span class="token builtin">help</span>!<span class="token operator">&lt;</span><span class="token operator">/</span>request<span class="token operator">&gt;</span></span>
<!-- -->
<span class="">        Here <span class="token keyword">is</span> an example of how your output should be formatted <span class="token punctuation">(</span><span class="token keyword">for</span> the above example request<span class="token punctuation">)</span><span class="token punctuation">:</span></span>
<span class="">        <span class="token operator">&lt;</span>reasoning<span class="token operator">&gt;</span>The user seeks information <span class="token keyword">in</span> order to leave positive feedback<span class="token punctuation">.</span><span class="token operator">&lt;</span><span class="token operator">/</span>reasoning<span class="token operator">&gt;</span></span>
<span class="">        <span class="token operator">&lt;</span>intent<span class="token operator">&gt;</span>Support<span class="token punctuation">,</span> Feedback<span class="token punctuation">,</span> Complaint<span class="token operator">&lt;</span><span class="token operator">/</span>intent<span class="token operator">&gt;</span></span>
<!-- -->
<span class="">        Here are a few more examples<span class="token punctuation">:</span></span>
<span class="">        <span class="token operator">&lt;</span>examples<span class="token operator">&gt;</span></span>
<span class="">        <span class="token operator">&lt;</span>example <span class="token number">2</span><span class="token operator">&gt;</span></span>
<span class="">        Example <span class="token number">2</span> Input<span class="token punctuation">:</span></span>
<span class="">        <span class="token operator">&lt;</span>request<span class="token operator">&gt;</span>I wanted to write <span class="token keyword">and</span> personally thank you <span class="token keyword">for</span> the compassion you showed towards my family during my fathe<span class="token string">r's funeral this past weekend. Your staff was so considerate and helpful throughout this whole process; it really took a load off our shoulders. The visitation brochures were beautiful. We'</span>ll never forget the kindness you showed us <span class="token keyword">and</span> we are so appreciative of how smoothly the proceedings went<span class="token punctuation">.</span> Thank you<span class="token punctuation">,</span> again<span class="token punctuation">,</span> Amarantha Hill on behalf of the Hill Family<span class="token punctuation">.</span><span class="token operator">&lt;</span><span class="token operator">/</span>request<span class="token operator">&gt;</span></span>
<!-- -->
<span class="">        Example <span class="token number">2</span> Output<span class="token punctuation">:</span></span>
<span class="">        <span class="token operator">&lt;</span>reasoning<span class="token operator">&gt;</span>User leaves a positive review of their experience<span class="token punctuation">.</span><span class="token operator">&lt;</span><span class="token operator">/</span>reasoning<span class="token operator">&gt;</span></span>
<span class="">        <span class="token operator">&lt;</span>intent<span class="token operator">&gt;</span>Support<span class="token punctuation">,</span> Feedback<span class="token punctuation">,</span> Complaint<span class="token operator">&lt;</span><span class="token operator">/</span>intent<span class="token operator">&gt;</span></span>
<span class="">        <span class="token operator">&lt;</span><span class="token operator">/</span>example <span class="token number">2</span><span class="token operator">&gt;</span></span>
<span class="">        <span class="token operator">&lt;</span>example <span class="token number">3</span><span class="token operator">&gt;</span></span>
<!-- -->
<span class="">        <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span></span>
<!-- -->
<span class="">        <span class="token operator">&lt;</span><span class="token operator">/</span>example <span class="token number">8</span><span class="token operator">&gt;</span></span>
<span class="">        <span class="token operator">&lt;</span>example <span class="token number">9</span><span class="token operator">&gt;</span></span>
<span class="">        Example <span class="token number">9</span> Input<span class="token punctuation">:</span></span>
<span class="">        <span class="token operator">&lt;</span>request<span class="token operator">&gt;</span>Your website keeps sending ad<span class="token operator">-</span>popups that block the entire screen<span class="token punctuation">.</span> It took me twenty minutes just to <span class="token keyword">finally</span> find the phone number to call <span class="token keyword">and</span> complain<span class="token punctuation">.</span> How can I possibly access my account information <span class="token keyword">with</span> <span class="token builtin">all</span> of these popups? Can you access my account <span class="token keyword">for</span> me<span class="token punctuation">,</span> since your website <span class="token keyword">is</span> broken? I need to know what the address <span class="token keyword">is</span> on <span class="token builtin">file</span><span class="token punctuation">.</span><span class="token operator">&lt;</span><span class="token operator">/</span>request<span class="token operator">&gt;</span></span>
<!-- -->
<span class="">        Example <span class="token number">9</span> Output<span class="token punctuation">:</span></span>
<span class="">        <span class="token operator">&lt;</span>reasoning<span class="token operator">&gt;</span>The user requests <span class="token builtin">help</span> accessing their web account information<span class="token punctuation">.</span><span class="token operator">&lt;</span><span class="token operator">/</span>reasoning<span class="token operator">&gt;</span></span>
<span class="">        <span class="token operator">&lt;</span>intent<span class="token operator">&gt;</span>Support<span class="token punctuation">,</span> Feedback<span class="token punctuation">,</span> Complaint<span class="token operator">&lt;</span><span class="token operator">/</span>intent<span class="token operator">&gt;</span></span>
<span class="">        <span class="token operator">&lt;</span><span class="token operator">/</span>example <span class="token number">9</span><span class="token operator">&gt;</span></span>
<!-- -->
<span class="">        Remember to always include your classification reasoning before your actual intent output<span class="token punctuation">.</span> The reasoning should be enclosed <span class="token keyword">in</span> <span class="token operator">&lt;</span>reasoning<span class="token operator">&gt;</span> tags <span class="token keyword">and</span> the intent <span class="token keyword">in</span> <span class="token operator">&lt;</span>intent<span class="token operator">&gt;</span> tags<span class="token punctuation">.</span> Return only the reasoning <span class="token keyword">and</span> the intent<span class="token punctuation">.</span></span>
<span class="">        <span class="token string">""</span>"</span>
</code></pre></div></div></div>
<p>Let’s break down the key components of this prompt:</p>
<ul>
<li>We use Python f-strings to create the prompt template, allowing the <code>ticket_contents</code> to be inserted into the <code>&lt;request&gt;</code> tags.</li>
<li>We give  Claude a clearly defined role as a classification system that carefully analyzes the ticket content to determine the customer’s core intent and needs.</li>
<li>We instruct Claude on proper output formatting, in this case to provide its reasoning and analysis inside <code>&lt;reasoning&gt;</code> tags, followed by the appropriate classification label inside <code>&lt;intent&gt;</code> tags.</li>
<li>We specify the valid intent categories: “Support, Feedback, Complaint”, “Order Tracking”, and “Refund/Exchange”.</li>
<li>We include a few examples (a.k.a. few-shot prompting) to illustrate how the output should be formatted, which improves accuracy and consistency.</li>
</ul>
<p>The reason we want to have Claude split its response into various XML tag sections is so that we can use regular expressions to separately extract the reasoning and intent from the output. This allows us to create targeted next steps in the ticket routing workflow, such as using only the intent to decide which person to route the ticket to.</p>
<h3 class="flex whitespace-pre-wrap group font-semibold" id="deploy-your-prompt"><div class="absolute"><a aria-label="Navigate to header" class="-ml-10 flex items-center opacity-0 border-0 group-hover:opacity-100" href="#deploy-your-prompt">​</a></div><span class="cursor-pointer">Deploy your prompt</span></h3>
<p>It’s hard to know how well your prompt works without deploying it in a test production setting and <a class="link" href="https://docs.anthropic.com/en/docs/build-with-claude/develop-tests" rel="noreferrer" target="_blank">running evaluations</a>.</p>
<p>Let’s build the deployment structure. Start by defining the method signature for wrapping our call to Claude. We’ll take the method we’ve already begun to write, which has <code>ticket_contents</code> as input, and now return a tuple of <code>reasoning</code> and <code>intent</code> as output. If you have an existing automation using traditional ML, you’ll want to follow that method signature instead.</p>
<div class="code-block mt-5 mb-8 not-prose rounded-2xl relative group text-gray-50 bg-[#0F1117] dark:bg-codeblock ring-1 ring-transparent dark:ring-gray-800/50 codeblock-dark"><div class="min-w-full relative text-sm leading-6 children:!my-0 children:!shadow-none children:!bg-transparent transition-[height] duration-300 ease-in-out" data-component-part="code-block-root" style="font-variant-ligatures:none;height:auto"><div class="overflow-x-auto h-full p-5 [&amp;&gt;pre&gt;code]:pr-[3rem] [&amp;&gt;pre&gt;code&gt;span.line-highlight]:min-w-[calc(100%+3rem)] overflow-y-hidden scrollbar-thin scrollbar-thumb-rounded scrollbar-thumb-white/20 dark:scrollbar-thumb-white/20 hover:scrollbar-thumb-white/25 dark:hover:scrollbar-thumb-white/25 active:scrollbar-thumb-white/25 dark:active:scrollbar-thumb-white/25"><pre class="language-python language-python"><code class="language-python"><span class=""><span class="token keyword">import</span> anthropic</span>
<span class=""><span class="token keyword">import</span> re</span>
<!-- -->
<span class=""><span class="token comment"># Create an instance of the Anthropic API client</span></span>
<span class="">client <span class="token operator">=</span> anthropic<span class="token punctuation">.</span>Anthropic<span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<!-- -->
<span class=""><span class="token comment"># Set the default model</span></span>
<span class="">DEFAULT_MODEL<span class="token operator">=</span><span class="token string">"claude-3-5-haiku-20241022"</span></span>
<!-- -->
<span class=""><span class="token keyword">def</span> <span class="token function">classify_support_request</span><span class="token punctuation">(</span>ticket_contents<span class="token punctuation">)</span><span class="token punctuation">:</span></span>
<span class="">    <span class="token comment"># Define the prompt for the classification task</span></span>
<span class="">    classification_prompt <span class="token operator">=</span> <span class="token string-interpolation"><span class="token string">f""</span></span>"You will be acting <span class="token keyword">as</span> a customer support ticket classification system<span class="token punctuation">.</span> </span>
<span class="">        <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span></span>
<span class="">        <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> The reasoning should be enclosed <span class="token keyword">in</span> <span class="token operator">&lt;</span>reasoning<span class="token operator">&gt;</span> tags <span class="token keyword">and</span> the intent <span class="token keyword">in</span> <span class="token operator">&lt;</span>intent<span class="token operator">&gt;</span> tags<span class="token punctuation">.</span> Return only the reasoning <span class="token keyword">and</span> the intent<span class="token punctuation">.</span></span>
<span class="">        <span class="token string">""</span>"</span>
<span class="">    <span class="token comment"># Send the prompt to the API to classify the support request.</span></span>
<span class="">    message <span class="token operator">=</span> client<span class="token punctuation">.</span>messages<span class="token punctuation">.</span>create<span class="token punctuation">(</span></span>
<span class="">        model<span class="token operator">=</span>DEFAULT_MODEL<span class="token punctuation">,</span></span>
<span class="">        max_tokens<span class="token operator">=</span><span class="token number">500</span><span class="token punctuation">,</span></span>
<span class="">        temperature<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span></span>
<span class="">        messages<span class="token operator">=</span><span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token string">"role"</span><span class="token punctuation">:</span> <span class="token string">"user"</span><span class="token punctuation">,</span> <span class="token string">"content"</span><span class="token punctuation">:</span> classification_prompt<span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span></span>
<span class="">        stream<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">,</span></span>
<span class="">    <span class="token punctuation">)</span></span>
<span class="">    reasoning_and_intent <span class="token operator">=</span> message<span class="token punctuation">.</span>content<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>text</span>
<!-- -->
<span class="">    <span class="token comment"># Use Python's regular expressions library to extract `reasoning`.</span></span>
<span class="">    reasoning_match <span class="token operator">=</span> re<span class="token punctuation">.</span>search<span class="token punctuation">(</span></span>
<span class="">        <span class="token string">r"&lt;reasoning&gt;(.*?)&lt;/reasoning&gt;"</span><span class="token punctuation">,</span> reasoning_and_intent<span class="token punctuation">,</span> re<span class="token punctuation">.</span>DOTALL</span>
<span class="">    <span class="token punctuation">)</span></span>
<span class="">    reasoning <span class="token operator">=</span> reasoning_match<span class="token punctuation">.</span>group<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span>strip<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">if</span> reasoning_match <span class="token keyword">else</span> <span class="token string">""</span></span>
<!-- -->
<span class="">    <span class="token comment"># Similarly, also extract the `intent`.</span></span>
<span class="">    intent_match <span class="token operator">=</span> re<span class="token punctuation">.</span>search<span class="token punctuation">(</span><span class="token string">r"&lt;intent&gt;(.*?)&lt;/intent&gt;"</span><span class="token punctuation">,</span> reasoning_and_intent<span class="token punctuation">,</span> re<span class="token punctuation">.</span>DOTALL<span class="token punctuation">)</span></span>
<span class="">    intent <span class="token operator">=</span> intent_match<span class="token punctuation">.</span>group<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span>strip<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">if</span> intent_match <span class="token keyword">else</span> <span class="token string">""</span></span>
<!-- -->
<span class="">    <span class="token keyword">return</span> reasoning<span class="token punctuation">,</span> intent</span>
</code></pre></div></div></div>
<p>This code:</p>
<ul>
<li>Imports the Anthropic library and creates a client instance using your API key.</li>
<li>Defines a <code>classify_support_request</code> function that takes a <code>ticket_contents</code> string.</li>
<li>Sends the <code>ticket_contents</code> to Claude for classification using the <code>classification_prompt</code></li>
<li>Returns the model’s <code>reasoning</code> and <code>intent</code> extracted from the response.</li>
</ul>
<p>Since we need to wait for the entire reasoning and intent text to be generated before parsing, we set <code>stream=False</code> (the default).</p>

<h2 class="flex whitespace-pre-wrap group font-semibold" id="evaluate-your-prompt"><div class="absolute"><a aria-label="Navigate to header" class="-ml-10 flex items-center opacity-0 border-0 group-hover:opacity-100" href="#evaluate-your-prompt">​</a></div><span class="cursor-pointer">Evaluate your prompt</span></h2>
<p>Prompting often requires testing and optimization for it to be production ready. To determine the readiness of your solution, evaluate performance based on the success criteria and thresholds you established earlier.</p>
<p>To run your evaluation, you will need test cases to run it on. The rest of this guide assumes you have already <a class="link" href="https://docs.anthropic.com/en/docs/build-with-claude/develop-tests" rel="noreferrer" target="_blank">developed your test cases</a>.</p>
<h3 class="flex whitespace-pre-wrap group font-semibold" id="build-an-evaluation-function"><div class="absolute"><a aria-label="Navigate to header" class="-ml-10 flex items-center opacity-0 border-0 group-hover:opacity-100" href="#build-an-evaluation-function">​</a></div><span class="cursor-pointer">Build an evaluation function</span></h3>
<p>Our example evaluation for this guide measures Claude’s performance along three key metrics:</p>
<ul>
<li>Accuracy</li>
<li>Cost per classification</li>
</ul>
<p>You may need to assess Claude on other axes depending on what factors that are important to you.</p>
<p>To assess this, we first have to modify the script we wrote and add a function to compare the predicted intent with the actual intent and calculate the percentage of correct predictions. We also have to add in cost calculation and time measurement functionality.</p>
<div class="code-block mt-5 mb-8 not-prose rounded-2xl relative group text-gray-50 bg-[#0F1117] dark:bg-codeblock ring-1 ring-transparent dark:ring-gray-800/50 codeblock-dark"><div class="min-w-full relative text-sm leading-6 children:!my-0 children:!shadow-none children:!bg-transparent transition-[height] duration-300 ease-in-out" data-component-part="code-block-root" style="font-variant-ligatures:none;height:auto"><div class="overflow-x-auto h-full p-5 [&amp;&gt;pre&gt;code]:pr-[3rem] [&amp;&gt;pre&gt;code&gt;span.line-highlight]:min-w-[calc(100%+3rem)] overflow-y-hidden scrollbar-thin scrollbar-thumb-rounded scrollbar-thumb-white/20 dark:scrollbar-thumb-white/20 hover:scrollbar-thumb-white/25 dark:hover:scrollbar-thumb-white/25 active:scrollbar-thumb-white/25 dark:active:scrollbar-thumb-white/25"><pre class="language-python language-python"><code class="language-python"><span class=""><span class="token keyword">import</span> anthropic</span>
<span class=""><span class="token keyword">import</span> re</span>
<!-- -->
<span class=""><span class="token comment"># Create an instance of the Anthropic API client</span></span>
<span class="">client <span class="token operator">=</span> anthropic<span class="token punctuation">.</span>Anthropic<span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<!-- -->
<span class=""><span class="token comment"># Set the default model</span></span>
<span class="">DEFAULT_MODEL<span class="token operator">=</span><span class="token string">"claude-3-5-haiku-20241022"</span></span>
<!-- -->
<span class=""><span class="token keyword">def</span> <span class="token function">classify_support_request</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> actual_intent<span class="token punctuation">)</span><span class="token punctuation">:</span></span>
<span class="">    <span class="token comment"># Define the prompt for the classification task</span></span>
<span class="">    classification_prompt <span class="token operator">=</span> <span class="token string-interpolation"><span class="token string">f""</span></span>"You will be acting <span class="token keyword">as</span> a customer support ticket classification system<span class="token punctuation">.</span> </span>
<span class="">        <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span></span>
<span class="">        <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>The reasoning should be enclosed <span class="token keyword">in</span> <span class="token operator">&lt;</span>reasoning<span class="token operator">&gt;</span> tags <span class="token keyword">and</span> the intent <span class="token keyword">in</span> <span class="token operator">&lt;</span>intent<span class="token operator">&gt;</span> tags<span class="token punctuation">.</span> Return only the reasoning <span class="token keyword">and</span> the intent<span class="token punctuation">.</span></span>
<span class="">        <span class="token string">""</span>"</span>
<!-- -->
<span class="">    message <span class="token operator">=</span> client<span class="token punctuation">.</span>messages<span class="token punctuation">.</span>create<span class="token punctuation">(</span></span>
<span class="">        model<span class="token operator">=</span>DEFAULT_MODEL<span class="token punctuation">,</span></span>
<span class="">        max_tokens<span class="token operator">=</span><span class="token number">500</span><span class="token punctuation">,</span></span>
<span class="">        temperature<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span></span>
<span class="">        messages<span class="token operator">=</span><span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token string">"role"</span><span class="token punctuation">:</span> <span class="token string">"user"</span><span class="token punctuation">,</span> <span class="token string">"content"</span><span class="token punctuation">:</span> classification_prompt<span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span></span>
<span class="">    <span class="token punctuation">)</span></span>
<span class="">    usage <span class="token operator">=</span> message<span class="token punctuation">.</span>usage  <span class="token comment"># Get the usage statistics for the API call for how many input and output tokens were used.</span></span>
<span class="">    reasoning_and_intent <span class="token operator">=</span> message<span class="token punctuation">.</span>content<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>text</span>
<!-- -->
<span class="">    <span class="token comment"># Use Python's regular expressions library to extract `reasoning`.</span></span>
<span class="">    reasoning_match <span class="token operator">=</span> re<span class="token punctuation">.</span>search<span class="token punctuation">(</span></span>
<span class="">        <span class="token string">r"&lt;reasoning&gt;(.*?)&lt;/reasoning&gt;"</span><span class="token punctuation">,</span> reasoning_and_intent<span class="token punctuation">,</span> re<span class="token punctuation">.</span>DOTALL</span>
<span class="">    <span class="token punctuation">)</span></span>
<span class="">    reasoning <span class="token operator">=</span> reasoning_match<span class="token punctuation">.</span>group<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span>strip<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">if</span> reasoning_match <span class="token keyword">else</span> <span class="token string">""</span></span>
<!-- -->
<span class="">    <span class="token comment"># Similarly, also extract the `intent`.</span></span>
<span class="">    intent_match <span class="token operator">=</span> re<span class="token punctuation">.</span>search<span class="token punctuation">(</span><span class="token string">r"&lt;intent&gt;(.*?)&lt;/intent&gt;"</span><span class="token punctuation">,</span> reasoning_and_intent<span class="token punctuation">,</span> re<span class="token punctuation">.</span>DOTALL<span class="token punctuation">)</span></span>
<span class="">    intent <span class="token operator">=</span> intent_match<span class="token punctuation">.</span>group<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span>strip<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">if</span> intent_match <span class="token keyword">else</span> <span class="token string">""</span></span>
<!-- -->
<span class="">      <span class="token comment"># Check if the model's prediction is correct.</span></span>
<span class="">    correct <span class="token operator">=</span> actual_intent<span class="token punctuation">.</span>strip<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> intent<span class="token punctuation">.</span>strip<span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<!-- -->
<span class="">    <span class="token comment"># Return the reasoning, intent, correct, and usage.</span></span>
<span class="">    <span class="token keyword">return</span> reasoning<span class="token punctuation">,</span> intent<span class="token punctuation">,</span> correct<span class="token punctuation">,</span> usage</span>
</code></pre></div></div></div>
<p>Let’s break down the edits we’ve made:</p>
<ul>
<li>We added the <code>actual_intent</code> from our test cases into the <code>classify_support_request</code> method and set up a comparison to assess whether Claude’s intent classification matches our golden intent classification.</li>
<li>We extracted usage statistics for the API call to calculate cost based on input and output tokens used</li>
</ul>
<h3 class="flex whitespace-pre-wrap group font-semibold" id="run-your-evaluation"><div class="absolute"><a aria-label="Navigate to header" class="-ml-10 flex items-center opacity-0 border-0 group-hover:opacity-100" href="#run-your-evaluation">​</a></div><span class="cursor-pointer">Run your evaluation</span></h3>
<p>A proper evaluation requires clear thresholds and benchmarks to determine what is a good result. The script above will give us the runtime values for accuracy, response time, and cost per classification, but we still would need clearly established thresholds. For example:</p>
<ul>
<li><strong>Accuracy:</strong> 95% (out of 100 tests)</li>
<li><strong>Cost per classification:</strong> 50% reduction on average (across 100 tests) from current routing method</li>
</ul>
<p>Having these thresholds allows you to quickly and easily tell at scale, and with impartial empiricism, what method is best for you and what changes might need to be made to better fit your requirements.</p>

<h2 class="flex whitespace-pre-wrap group font-semibold" id="improve-performance"><div class="absolute"><a aria-label="Navigate to header" class="-ml-10 flex items-center opacity-0 border-0 group-hover:opacity-100" href="#improve-performance">​</a></div><span class="cursor-pointer">Improve performance</span></h2>
<p>In complex scenarios, it may be helpful to consider additional strategies to improve performance beyond standard <a class="link" href="https://docs.anthropic.com/en/docs/build-with-claude/prompt-engineering/overview" rel="noreferrer" target="_blank">prompt engineering techniques</a> &amp; <a class="link" href="https://docs.anthropic.com/en/docs/test-and-evaluate/strengthen-guardrails/reduce-hallucinations" rel="noreferrer" target="_blank">guardrail implementation strategies</a>. Here are some common scenarios:</p>
<h3 class="flex whitespace-pre-wrap group font-semibold" id="use-a-taxonomic-hierarchy-for-cases-with-20%2B-intent-categories"><div class="absolute"><a aria-label="Navigate to header" class="-ml-10 flex items-center opacity-0 border-0 group-hover:opacity-100" href="#use-a-taxonomic-hierarchy-for-cases-with-20%2B-intent-categories">​</a></div><span class="cursor-pointer">Use a taxonomic hierarchy for cases with 20+ intent categories</span></h3>
<p>As the number of classes grows, the number of examples required also expands, potentially making the prompt unwieldy. As an alternative, you can consider implementing a hierarchical classification system using a mixture of classifiers.</p>
<ol>
<li>Organize your intents in a taxonomic tree structure.</li>
<li>Create a series of classifiers at every level of the tree, enabling a cascading routing approach.</li>
</ol>
<p>For example, you might have a top-level classifier that broadly categorizes tickets into “Technical Issues,” “Billing Questions,” and “General Inquiries.” Each of these categories can then have its own sub-classifier to further refine the classification.</p>

<ul>
<li>
<p><strong>Pros - greater nuance and accuracy:</strong> You can create different prompts for each parent path, allowing for more targeted and context-specific classification. This can lead to improved accuracy and more nuanced handling of customer requests.</p>
</li>
<li>
<p><strong>Cons - increased latency:</strong> Be advised that multiple classifiers can lead to increased latency, and we recommend implementing this approach with our fastest model, Haiku.</p>
</li>
</ul>
<h3 class="flex whitespace-pre-wrap group font-semibold" id="use-vector-databases-and-similarity-search-retrieval-to-handle-highly-variable-tickets"><div class="absolute"><a aria-label="Navigate to header" class="-ml-10 flex items-center opacity-0 border-0 group-hover:opacity-100" href="#use-vector-databases-and-similarity-search-retrieval-to-handle-highly-variable-tickets">​</a></div><span class="cursor-pointer">Use vector databases and similarity search retrieval to handle highly variable tickets</span></h3>
<p>Despite providing examples being the most effective way to improve performance, if support requests are highly variable, it can be hard to include enough examples in a single prompt.</p>
<p>In this scenario, you could employ a vector database to do similarity searches from a dataset of examples and retrieve the most relevant examples for a given query.</p>
<p>This approach, outlined in detail in our <a class="link" href="https://github.com/anthropics/anthropic-cookbook/blob/82675c124e1344639b2a875aa9d3ae854709cd83/skills/classification/guide.ipynb" rel="noreferrer" target="_blank">classification recipe</a>, has been shown to improve performance from 71% accuracy to 93% accuracy.</p>
<h3 class="flex whitespace-pre-wrap group font-semibold" id="account-specifically-for-expected-edge-cases"><div class="absolute"><a aria-label="Navigate to header" class="-ml-10 flex items-center opacity-0 border-0 group-hover:opacity-100" href="#account-specifically-for-expected-edge-cases">​</a></div><span class="cursor-pointer">Account specifically for expected edge cases</span></h3>
<p>Here are some scenarios where Claude may misclassify tickets (there may be others that are unique to your situation). In these scenarios,consider providing explicit instructions or examples in the prompt of how Claude should handle the edge case:</p>
<div class="accordion-group [&amp;&gt;div]:border-0 [&amp;&gt;div]:rounded-none [&amp;&gt;div&gt;button]:rounded-none [&amp;&gt;div]:mb-0 overflow-hidden mt-0 mb-3 rounded-xl prose prose-gray dark:prose-invert divide-y divide-inherit border dark:border-gray-800/50"><div class="accordion border-standard rounded-2xl mb-3 overflow-hidden bg-background-light dark:bg-codeblock cursor-default" role="button"><button aria-controls="customers-make-implicit-requests accordion children" aria-expanded="false" class="relative not-prose flex flex-row items-center content-center w-full py-4 px-5 space-x-2 hover:bg-gray-100 hover:dark:bg-gray-800 rounded-t-xl" data-component-part="accordion-button"><div class="leading-tight text-left" contenteditable="false" data-component-part="accordion-title-container"><p class="m-0 font-medium text-gray-900 dark:text-gray-200" data-component-part="accordion-title">Customers make implicit requests</p></div></button><div class="mt-2 mb-4 mx-6 hidden overflow-x-auto cursor-default" data-component-part="accordion-content" id="customers-make-implicit-requests accordion children" role="contentinfo"><p>Customers often express needs indirectly. For example, “I’ve been waiting for my package for over two weeks now” may be an indirect request for order status.</p><ul>
<li><strong>Solution:</strong> Provide Claude with some real customer examples of these kinds of requests, along with what the underlying intent is. You can get even better results if you include a classification rationale for particularly nuanced ticket intents, so that Claude can better generalize the logic to other tickets.</li>
</ul></div></div><div class="accordion border-standard rounded-2xl mb-3 overflow-hidden bg-background-light dark:bg-codeblock cursor-default" role="button"><button aria-controls="claude-prioritizes-emotion-over-intent accordion children" aria-expanded="false" class="relative not-prose flex flex-row items-center content-center w-full py-4 px-5 space-x-2 hover:bg-gray-100 hover:dark:bg-gray-800 rounded-t-xl" data-component-part="accordion-button"><div class="leading-tight text-left" contenteditable="false" data-component-part="accordion-title-container"><p class="m-0 font-medium text-gray-900 dark:text-gray-200" data-component-part="accordion-title">Claude prioritizes emotion over intent</p></div></button><div class="mt-2 mb-4 mx-6 hidden overflow-x-auto cursor-default" data-component-part="accordion-content" id="claude-prioritizes-emotion-over-intent accordion children" role="contentinfo"><p>When customers express dissatisfaction, Claude may prioritize addressing the emotion over solving the underlying problem.</p><ul>
<li><strong>Solution:</strong> Provide Claude with directions on when to prioritize customer sentiment or not. It can be something as simple as “Ignore all customer emotions. Focus only on analyzing the intent of the customer’s request and what information the customer might be asking for.”</li>
</ul></div></div><div class="accordion border-standard rounded-2xl mb-3 overflow-hidden bg-background-light dark:bg-codeblock cursor-default" role="button"><button aria-controls="multiple-issues-cause-issue-prioritization-confusion accordion children" aria-expanded="false" class="relative not-prose flex flex-row items-center content-center w-full py-4 px-5 space-x-2 hover:bg-gray-100 hover:dark:bg-gray-800 rounded-t-xl" data-component-part="accordion-button"><div class="leading-tight text-left" contenteditable="false" data-component-part="accordion-title-container"><p class="m-0 font-medium text-gray-900 dark:text-gray-200" data-component-part="accordion-title">Multiple issues cause issue prioritization confusion</p></div></button><div class="mt-2 mb-4 mx-6 hidden overflow-x-auto cursor-default" data-component-part="accordion-content" id="multiple-issues-cause-issue-prioritization-confusion accordion children" role="contentinfo"><p>When customers present multiple issues in a single interaction, Claude may have difficulty identifying the primary concern.</p><ul>
<li><strong>Solution:</strong> Clarify the prioritization of intents so thatClaude can better rank the extracted intents and identify the primary concern.</li>
</ul></div></div></div>

<h2 class="flex whitespace-pre-wrap group font-semibold" id="integrate-claude-into-your-greater-support-workflow"><div class="absolute"><a aria-label="Navigate to header" class="-ml-10 flex items-center opacity-0 border-0 group-hover:opacity-100" href="#integrate-claude-into-your-greater-support-workflow">​</a></div><span class="cursor-pointer">Integrate Claude into your greater support workflow</span></h2>
<p>Proper integration requires that you make some decisions regarding how your Claude-based ticket routing script fits into the architecture of your greater ticket routing system.There are two ways you could do this:</p>
<ul>
<li><strong>Push-based:</strong> The support ticket system you’re using (e.g. Zendesk) triggers your code by sending a webhook event to your routing service, which then classifies the intent and routes it.<!-- -->
<ul>
<li>This approach is more web-scalable, but needs you to expose a public endpoint.</li>
</ul>
</li>
<li><strong>Pull-Based:</strong> Your code pulls for the latest tickets based on a given schedule and routes them at pull time.<!-- -->
<ul>
<li>This approach is easier to implement but might make unnecessary calls to the support ticket system when the pull frequency is too high or might be overly slow when the pull frequency is too low.</li>
</ul>
</li>
</ul>
<p>For either of these approaches, you will need to wrap your script in a service. The choice of approach depends on what APIs your support ticketing system provides.</p>

<div class="card-group not-prose grid gap-x-4 sm:grid-cols-2"><a class="card block font-normal group relative my-2 ring-2 ring-transparent rounded-2xl bg-white dark:bg-background-dark border border-gray-950/10 dark:border-white/10 overflow-hidden w-full cursor-pointer hover:!border-primary dark:hover:!border-primary-light" href="https://github.com/anthropics/anthropic-cookbook/tree/main/skills/classification" rel="noreferrer" target="_blank"><div class="px-6 py-5 relative" data-component-part="card-content-container"><div><h2 class="not-prose font-semibold text-base text-gray-800 dark:text-white mt-4" contenteditable="false" data-component-part="card-title">Classification cookbook</h2><div class="prose mt-1 font-normal text-sm leading-6 text-gray-600 dark:text-gray-400" data-component-part="card-content"><p>Visit our classification cookbook for more example code and detailed eval guidance.</p></div></div></div></a><a class="card block font-normal group relative my-2 ring-2 ring-transparent rounded-2xl bg-white dark:bg-background-dark border border-gray-950/10 dark:border-white/10 overflow-hidden w-full cursor-pointer hover:!border-primary dark:hover:!border-primary-light" href="https://console.anthropic.com/dashboard" rel="noreferrer" target="_blank"><div class="px-6 py-5 relative" data-component-part="card-content-container"><div><h2 class="not-prose font-semibold text-base text-gray-800 dark:text-white mt-4" contenteditable="false" data-component-part="card-title">Anthropic Console</h2><div class="prose mt-1 font-normal text-sm leading-6 text-gray-600 dark:text-gray-400" data-component-part="card-content"><p>Begin building and evaluating your workflow on the Anthropic Console.</p></div></div></div></a></div></div><div class="leading-6 mt-14"><div class="feedback-toolbar pb-16 w-full"><div class="flex flex-col gap-y-4 xl:flex-col xl:gap-6 min-[1400px]:flex-row md:flex-row md:justify-end"><div class="flex flex-row gap-5 items-center grow justify-between md:justify-start xl:justify-between min-[1400px]:justify-start"><p class="text-sm text-gray-600 dark:text-gray-400">Was this page helpful?</p><div class="flex flex-row gap-3 items-center"><button class="px-3.5 py-2 flex flex-row gap-3 items-center border-standard rounded-xl text-gray-600 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 bg-white/50 dark:bg-codeblock/50 hover:border-gray-500 hover:dark:border-gray-500"><small class="text-sm font-normal leading-4">Yes</small></button><button class="px-3.5 py-2 flex flex-row gap-3 items-center border-standard rounded-xl text-gray-600 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 bg-white/50 dark:bg-codeblock/50 hover:border-gray-500 hover:dark:border-gray-500"><small class="text-sm font-normal leading-4">No</small></button></div></div></div></div><div class="mb-12 px-0.5 flex items-center text-sm font-semibold text-gray-700 dark:text-gray-200" id="pagination"><a class="flex items-center space-x-3 group" href="/en/docs/about-claude/use-case-guides/overview"><span class="group-hover:text-gray-900 dark:group-hover:text-white">Overview</span></a><a class="flex items-center ml-auto space-x-3 group" href="/en/docs/about-claude/use-case-guides/customer-support-chat"><span class="group-hover:text-gray-900 dark:group-hover:text-white">Customer support agent</span></a></div></div></div><div class="hidden xl:flex self-start sticky xl:flex-col h-[calc(100vh-9.5rem)] top-[9.5rem]" id="content-side-layout"><div class="z-10 hidden xl:flex pl-10 box-border w-[19rem] max-h-full" id="table-of-contents-layout"><div class="text-gray-600 text-sm leading-6 w-[16.5rem] overflow-y-auto space-y-2 pb-4 -mt-10 pt-10" id="table-of-contents"><div class="text-gray-700 dark:text-gray-300 font-medium flex items-center space-x-2"><span>On this page</span></div></div></div></div></div></div></div></div></main>