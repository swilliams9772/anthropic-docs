<main class="jsx-4145347147"><div class="relative antialiased text-gray-500 dark:text-gray-400"><div class="max-w-8xl px-4 mx-auto lg:px-8"><div class="z-20 hidden lg:block fixed bottom-0 right-auto w-[18rem]" id="sidebar" style="top:7rem"><div class="absolute inset-0 z-10 stable-scrollbar-gutter overflow-auto pr-8 pb-10" id="sidebar-content"><div class="relative lg:text-sm lg:leading-6"><div id="navigation-items"><li class="list-none"><a class="link nav-anchor pl-4 group flex items-center lg:text-sm lg:leading-6 mb-5 sm:mb-4 font-semibold text-primary dark:text-primary-light" href="/en/home">Documentation</a></li><li class="list-none"><a class="link nav-anchor pl-4 group flex items-center lg:text-sm lg:leading-6 mb-5 sm:mb-4 font-medium text-gray-600 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="https://console.anthropic.com/" rel="noreferrer" target="_blank">Developer Console</a></li><li class="list-none"><a class="link nav-anchor pl-4 group flex items-center lg:text-sm lg:leading-6 mb-5 sm:mb-4 font-medium text-gray-600 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="https://www.anthropic.com/discord" rel="noreferrer" target="_blank">Developer Discord</a></li><li class="list-none"><a class="link nav-anchor pl-4 group flex items-center lg:text-sm lg:leading-6 mb-5 sm:mb-4 font-medium text-gray-600 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="https://support.anthropic.com/" rel="noreferrer" target="_blank">Support</a></li><div class="mt-12 lg:mt-8"><h5 class="pl-4 mb-3.5 lg:mb-2.5 font-semibold text-gray-900 dark:text-gray-200" id="sidebar-title">API reference</h5><ul id="sidebar-group"><li><div class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light gap-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" style="padding-left:1rem"><div class="">Messages</div></div></li><li><div class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light gap-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" style="padding-left:1rem"><div class="">Models</div></div></li><li><div class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light gap-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" style="padding-left:1rem"><div class="">Message Batches</div></div></li><li><div class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light gap-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" style="padding-left:1rem"><div class="">Files</div></div></li><li><ul><li><div class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light gap-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" style="padding-left:1.75rem"><div class="">Prompt tools</div></div><ul><li class="relative scroll-m-4 first:scroll-m-20" id="/en/api/prompt-tools-generate"><a class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light gap-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="/en/api/prompt-tools-generate" style="padding-left:2.5rem"><span class="method-nav-pill w-8 flex items-center"><span class="px-1 py-0.5 rounded-md text-[0.55rem] leading-tight font-bold bg-blue-400/20 dark:bg-blue-400/20 text-blue-700 dark:text-blue-400">POST</span></span><div class="flex-1 flex items-center space-x-2.5"><div>Generate a prompt</div></div></a></li><li class="relative scroll-m-4 first:scroll-m-20" id="/en/api/prompt-tools-improve"><a class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light gap-x-3 rounded-xl bg-primary/10 text-primary font-semibold dark:text-primary-light dark:bg-primary-light/10" href="/en/api/prompt-tools-improve" style="padding-left:2.5rem"><span class="method-nav-pill w-8 flex items-center"><span class="px-1 py-0.5 rounded-md text-[0.55rem] leading-tight font-bold bg-[#3064E3] text-[#FFFFFF]">POST</span></span><div class="flex-1 flex items-center space-x-2.5"><div>Improve a prompt</div></div></a></li><li class="relative scroll-m-4 first:scroll-m-20" id="/en/api/prompt-tools-templatize"><a class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light gap-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="/en/api/prompt-tools-templatize" style="padding-left:2.5rem"><span class="method-nav-pill w-8 flex items-center"><span class="px-1 py-0.5 rounded-md text-[0.55rem] leading-tight font-bold bg-blue-400/20 dark:bg-blue-400/20 text-blue-700 dark:text-blue-400">POST</span></span><div class="flex-1 flex items-center space-x-2.5"><div>Templatize a prompt</div></div></a></li></ul></li></ul></li><li><div class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light gap-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" style="padding-left:1rem"><div class="">Text Completions (Legacy)</div></div></li></ul></div><div class="mt-12 lg:mt-8"><h5 class="pl-4 mb-3.5 lg:mb-2.5 font-semibold text-gray-900 dark:text-gray-200" id="sidebar-title">SDKs</h5><ul id="sidebar-group"><li class="relative scroll-m-4 first:scroll-m-20" id="/en/api/client-sdks"><a class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light gap-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="/en/api/client-sdks" style="padding-left:1rem"><div class="flex-1 flex items-center space-x-2.5"><div>Client SDKs</div></div></a></li><li class="relative scroll-m-4 first:scroll-m-20" id="/en/api/openai-sdk"><a class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light gap-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="/en/api/openai-sdk" style="padding-left:1rem"><div class="flex-1 flex items-center space-x-2.5"><div>OpenAI SDK compatibility (beta)</div></div></a></li></ul></div><div class="mt-12 lg:mt-8"><h5 class="pl-4 mb-3.5 lg:mb-2.5 font-semibold text-gray-900 dark:text-gray-200" id="sidebar-title">Examples</h5><ul id="sidebar-group"><li class="relative scroll-m-4 first:scroll-m-20" id="/en/api/messages-examples"><a class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light gap-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="/en/api/messages-examples" style="padding-left:1rem"><div class="flex-1 flex items-center space-x-2.5"><div>Messages examples</div></div></a></li><li class="relative scroll-m-4 first:scroll-m-20" id="/en/api/messages-batch-examples"><a class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light gap-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="/en/api/messages-batch-examples" style="padding-left:1rem"><div class="flex-1 flex items-center space-x-2.5"><div>Message Batches examples</div></div></a></li></ul></div></div></div></div></div><div class="" id="content-container"><div class="flex flex-row gap-12 box-border w-full pt-40 lg:pt-10"><div class="relative grow box-border flex-col w-full mx-auto px-1 lg:pl-[23.7rem] lg:-ml-12 xl:w-[calc(100%-28rem)]" id="content-area"><div class="flex flex-col gap-8"><div class="mt-6 flex w-full flex-col space-y-4"><div class="flex w-full flex-col bg-background-light dark:bg-background-dark border-standard rounded-2xl p-1"><div class="flex items-center space-x-1.5"><div class="relative flex-1 flex gap-2 min-w-0 rounded-xl items-center cursor-pointer p-1.5"><div class="method-pill rounded-lg font-bold px-1.5 py-0.5 text-sm leading-5 bg-blue-400/20 dark:bg-blue-400/20 text-blue-700 dark:text-blue-400">POST</div><div class="flex items-center space-x-2 overflow-x-auto flex-1 no-scrollbar"><div class="group flex items-center flex-1 gap-0.5 font-mono"><div class="text-sm text-gray-400">/</div><div class="text-sm font-medium text-gray-800 dark:text-white min-w-max">v1</div><div class="text-sm text-gray-400">/</div><div class="text-sm font-medium text-gray-800 dark:text-white min-w-max">experimental</div><div class="text-sm text-gray-400">/</div><div class="text-sm font-medium text-gray-800 dark:text-white min-w-max">improve_prompt</div></div></div></div></div></div></div><div class="mt-8 lg:mt-0 flex flex-col gap-6 xl:hidden"><div class="w-full xl:w-[28rem] gap-6 grid grid-rows-[repeat(auto-fit,minmax(0,min-content))] grid-rows relative max-h-[calc(100%-32px)] min-h-[18rem]"><div class="code-group flex flex-col not-prose relative overflow-hidden rounded-2xl dark:border-gray-800/50 my-0 bg-[#0F1117] border border-transparent dark:bg-codeblock text-gray-50 codeblock-dark" id="code-group"><div class="relative border-b border-gray-900/80 bg-[#0F1117] dark:bg-codeblock" data-component-part="code-group-tab-bar"><div aria-orientation="horizontal" class="text-xs leading-6 rounded-t-xl flex overflow-x-auto overflow-y-hidden mr-12 scrollbar-thin scrollbar-thumb-rounded scrollbar-thumb-white/20 dark:scrollbar-thumb-white/20 hover:scrollbar-thumb-white/25 dark:hover:scrollbar-thumb-white/25 active:scrollbar-thumb-white/25 dark:active:scrollbar-thumb-white/25" role="tablist"><button aria-selected="true" class="group flex items-center relative px-2 pt-2.5 pb-2 outline-none whitespace-nowrap font-medium text-primary-light" data-headlessui-state="selected" id="headlessui-tabs-tab-:Rlj4pkql6:" role="tab" tabindex="0" type="button"><div class="px-2 rounded-lg z-10 group-hover:bg-gray-700/70 group-hover:text-primary-light">cURL</div></button><button aria-selected="false" class="group flex items-center relative px-2 pt-2.5 pb-2 outline-none whitespace-nowrap font-medium text-gray-400" data-headlessui-state="" id="headlessui-tabs-tab-:R15j4pkql6:" role="tab" tabindex="-1" type="button"><div class="px-2 rounded-lg z-10 group-hover:bg-gray-700/70 group-hover:text-primary-light">Python</div></button><button aria-selected="false" class="group flex items-center relative px-2 pt-2.5 pb-2 outline-none whitespace-nowrap font-medium text-gray-400" data-headlessui-state="" id="headlessui-tabs-tab-:R1lj4pkql6:" role="tab" tabindex="-1" type="button"><div class="px-2 rounded-lg z-10 group-hover:bg-gray-700/70 group-hover:text-primary-light">JavaScript</div></button><button aria-selected="false" class="group flex items-center relative px-2 pt-2.5 pb-2 outline-none whitespace-nowrap font-medium text-gray-400" data-headlessui-state="" id="headlessui-tabs-tab-:R25j4pkql6:" role="tab" tabindex="-1" type="button"><div class="px-2 rounded-lg z-10 group-hover:bg-gray-700/70 group-hover:text-primary-light">PHP</div></button><button aria-selected="false" class="group flex items-center relative px-2 pt-2.5 pb-2 outline-none whitespace-nowrap font-medium text-gray-400" data-headlessui-state="" id="headlessui-tabs-tab-:R2lj4pkql6:" role="tab" tabindex="-1" type="button"><div class="px-2 rounded-lg z-10 group-hover:bg-gray-700/70 group-hover:text-primary-light">Go</div></button><button aria-selected="false" class="group flex items-center relative px-2 pt-2.5 pb-2 outline-none whitespace-nowrap font-medium text-gray-400" data-headlessui-state="" id="headlessui-tabs-tab-:R35j4pkql6:" role="tab" tabindex="-1" type="button"><div class="px-2 rounded-lg z-10 group-hover:bg-gray-700/70 group-hover:text-primary-light">Java</div></button></div></div><div class="flex flex-1 overflow-hidden"><div class="relative min-w-full w-full transition-[height] duration-300 ease-in-out" data-headlessui-state="selected" id="headlessui-tabs-panel-:R6j4pkql6:" role="tabpanel" style="font-variant-ligatures:none;height:auto" tabindex="0"><div class="flex-none p-5 overflow-x-auto h-full scrollbar-thin scrollbar-thumb-rounded scrollbar-thumb-white/20 dark:scrollbar-thumb-white/20 hover:scrollbar-thumb-white/25 dark:hover:scrollbar-thumb-white/25 active:scrollbar-thumb-white/25 dark:active:scrollbar-thumb-white/25 text-xs leading-[1.35rem]" data-component-part="code-group-tab-content"><pre class="language-bash"><code><span class="token function">curl</span> <span class="token parameter variable">-X</span> POST https://api.anthropic.com/v1/experimental/improve_prompt <span class="token punctuation">\</span>
     <span class="token parameter variable">--header</span> <span class="token string">"x-api-key: <span class="token variable">$ANTHROPIC_API_KEY</span>"</span> <span class="token punctuation">\</span>
     <span class="token parameter variable">--header</span> <span class="token string">"anthropic-version: 2023-06-01"</span> <span class="token punctuation">\</span>
     <span class="token parameter variable">--header</span> <span class="token string">"anthropic-beta: prompt-tools-2025-04-02"</span> <span class="token punctuation">\</span>
     <span class="token parameter variable">--header</span> <span class="token string">"content-type: application/json"</span> <span class="token punctuation">\</span>
     <span class="token parameter variable">--data</span> <span class="token punctuation">\</span>
<span class="token string">'{
    "messages": [{"role": "user", "content": [{"type": "text", "text": "Create a recipe for {{food}}"}]}],
    "system": "You are a professional chef",
    "feedback": "Make it more detailed and include cooking times",
    "target_model": "claude-3-7-sonnet-20250219"
}'</span></code></pre></div></div></div></div><div class="code-group flex flex-col not-prose relative overflow-hidden rounded-2xl dark:border-gray-800/50 my-0 bg-[#0F1117] border border-transparent dark:bg-codeblock text-gray-50 codeblock-dark" id="code-group"><div class="relative border-b border-gray-900/80 bg-[#0F1117] dark:bg-codeblock" data-component-part="code-group-tab-bar"><div aria-orientation="horizontal" class="text-xs leading-6 rounded-t-xl flex overflow-x-auto overflow-y-hidden mr-12 scrollbar-thin scrollbar-thumb-rounded scrollbar-thumb-white/20 dark:scrollbar-thumb-white/20 hover:scrollbar-thumb-white/25 dark:hover:scrollbar-thumb-white/25 active:scrollbar-thumb-white/25 dark:active:scrollbar-thumb-white/25" role="tablist"><button aria-selected="true" class="group flex items-center relative px-2 pt-2.5 pb-2 outline-none whitespace-nowrap font-medium text-primary-light" data-headlessui-state="selected" id="headlessui-tabs-tab-:Rll4pkql6:" role="tab" tabindex="0" type="button"><div class="px-2 rounded-lg z-10 group-hover:bg-gray-700/70 group-hover:text-primary-light">200</div></button><button aria-selected="false" class="group flex items-center relative px-2 pt-2.5 pb-2 outline-none whitespace-nowrap font-medium text-gray-400" data-headlessui-state="" id="headlessui-tabs-tab-:R15l4pkql6:" role="tab" tabindex="-1" type="button"><div class="px-2 rounded-lg z-10 group-hover:bg-gray-700/70 group-hover:text-primary-light">4XX</div></button></div></div><div class="flex flex-1 overflow-hidden"><div class="relative min-w-full w-full transition-[height] duration-300 ease-in-out" data-headlessui-state="selected" id="headlessui-tabs-panel-:R6l4pkql6:" role="tabpanel" style="font-variant-ligatures:none;height:auto" tabindex="0"><div class="flex-none p-5 overflow-x-auto h-full scrollbar-thin scrollbar-thumb-rounded scrollbar-thumb-white/20 dark:scrollbar-thumb-white/20 hover:scrollbar-thumb-white/25 dark:hover:scrollbar-thumb-white/25 active:scrollbar-thumb-white/25 dark:active:scrollbar-thumb-white/25 text-xs leading-[1.35rem]" data-component-part="code-group-tab-content"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">"messages"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token property">"content"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          <span class="token property">"text"</span><span class="token operator">:</span> <span class="token string">"&lt;improved prompt&gt;"</span><span class="token punctuation">,</span>
          <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"text"</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token property">"role"</span><span class="token operator">:</span> <span class="token string">"user"</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token property">"content"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          <span class="token property">"text"</span><span class="token operator">:</span> <span class="token string">"&lt;assistant prefill&gt;"</span><span class="token punctuation">,</span>
          <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"text"</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token property">"role"</span><span class="token operator">:</span> <span class="token string">"assistant"</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token property">"system"</span><span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span>
  <span class="token property">"usage"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token property">"input_tokens"</span><span class="token operator">:</span> <span class="token number">490</span><span class="token punctuation">,</span>
      <span class="token property">"output_tokens"</span><span class="token operator">:</span> <span class="token number">661</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span></code></pre></div></div></div></div></div></div></div><div class="mdx-content relative mt-8 prose prose-gray dark:prose-invert">
<h2 class="flex whitespace-pre-wrap group font-semibold" id="before-you-begin"><div class="absolute"><a aria-label="Navigate to header" class="-ml-10 flex items-center opacity-0 border-0 group-hover:opacity-100" href="#before-you-begin">​</a></div><span class="cursor-pointer">Before you begin</span></h2>
<p>The prompt tools are a set of APIs to generate and improve prompts. Unlike our other APIs, this is an experimental API: you’ll need to request access, and it doesn’t have the same level of commitment to long-term support as other APIs.</p>
<p>These APIs are similar to what’s available in the <a class="link" href="https://console.anthropic.com/workbench" rel="noreferrer" target="_blank">Anthropic Workbench</a>, and are intented for use by other prompt engineering platforms and playgrounds.</p>
<h2 class="flex whitespace-pre-wrap group font-semibold" id="getting-started-with-the-prompt-improver"><div class="absolute"><a aria-label="Navigate to header" class="-ml-10 flex items-center opacity-0 border-0 group-hover:opacity-100" href="#getting-started-with-the-prompt-improver">​</a></div><span class="cursor-pointer">Getting started with the prompt improver</span></h2>
<p>To use the prompt generation API, you’ll need to:</p>
<ol>
<li>Have joined the closed research preview for the prompt tools APIs</li>
<li>Use the API directly, rather than the SDK</li>
<li>Add the beta header <code>prompt-tools-2025-04-02</code></li>
</ol>

<h2 class="flex whitespace-pre-wrap group font-semibold" id="improve-a-prompt"><div class="absolute"><a aria-label="Navigate to header" class="-ml-10 flex items-center opacity-0 border-0 group-hover:opacity-100" href="#improve-a-prompt">​</a></div><span class="cursor-pointer">Improve a prompt</span></h2><div class="api-section"><div class="api-section-heading flex flex-col gap-y-4 w-full"><div class="flex items-baseline border-b pb-2.5 border-gray-100 dark:border-gray-800 w-full"><h4 class="api-section-heading-title flex-1 mb-0">Headers</h4></div></div><div class="py-6 border-gray-100 dark:border-gray-800 border-b last:border-b-0"><div class="flex font-mono text-sm group/param-head param-head break-all relative" id="parameter-anthropic-beta"><div class="flex-1 flex content-start py-0.5 mr-5"><div class="flex items-center flex-wrap gap-2"><div class="absolute -top-1.5"><a aria-label="Navigate to header" class="-ml-10 flex items-center opacity-0 border-0 group-hover/param-head:opacity-100 py-2 [.expandable-content_&amp;]:-ml-[2.1rem]" href="#parameter-anthropic-beta">​</a></div><div class="font-semibold text-primary dark:text-primary-light cursor-pointer overflow-wrap-anywhere" data-component-part="field-name">anthropic-beta</div><div class="inline items-center gap-2 text-xs font-medium [&amp;_div]:inline [&amp;_div]:mr-2 [&amp;_div]:leading-5" data-component-part="field-meta"><div class="flex items-center px-2 py-0.5 rounded-md bg-gray-100/50 dark:bg-white/5 text-gray-600 dark:text-gray-200 font-medium break-all" data-component-part="field-info-pill"><span>string[]</span></div></div></div></div></div><div class="mt-4"><div class="prose prose-sm prose-gray dark:prose-invert"><p class="whitespace-pre-line">Optional header to specify the beta version(s) you want to use.</p>
<p class="whitespace-pre-line">To use multiple betas, use a comma separated list like <code>beta1,beta2</code> or specify the header multiple times for each beta.</p></div></div></div><div class="py-6 border-gray-100 dark:border-gray-800 border-b last:border-b-0"><div class="mt-4"><div class="prose prose-sm prose-gray dark:prose-invert"><p class="whitespace-pre-line">Your unique API key for authentication.</p>
<p class="whitespace-pre-line">This key is required in the header of all API requests, to authenticate your account and access Anthropic's services. Get your API key through the <a href="https://console.anthropic.com/settings/keys">Console</a>. Each key is scoped to a Workspace.</p></div></div></div></div><div class="api-section"><div class="api-section-heading flex flex-col gap-y-4 w-full"><div class="flex items-baseline border-b pb-2.5 border-gray-100 dark:border-gray-800 w-full"><h4 class="api-section-heading-title flex-1 mb-0">Body</h4><div class="flex items-center"><div class="font-mono px-2 py-0.5 text-xs font-medium text-gray-600 dark:text-gray-300">application/json</div></div></div></div><div class="py-6 border-gray-100 dark:border-gray-800 border-b last:border-b-0"><div class="flex font-mono text-sm group/param-head param-head break-all relative" id="body-messages"><div class="flex-1 flex content-start py-0.5 mr-5"><div class="flex items-center flex-wrap gap-2"><div class="absolute -top-1.5"><a aria-label="Navigate to header" class="-ml-10 flex items-center opacity-0 border-0 group-hover/param-head:opacity-100 py-2 [.expandable-content_&amp;]:-ml-[2.1rem]" href="#body-messages">​</a></div><div class="font-semibold text-primary dark:text-primary-light cursor-pointer overflow-wrap-anywhere" data-component-part="field-name">messages</div><div class="inline items-center gap-2 text-xs font-medium [&amp;_div]:inline [&amp;_div]:mr-2 [&amp;_div]:leading-5" data-component-part="field-meta"><div class="flex items-center px-2 py-0.5 rounded-md bg-gray-100/50 dark:bg-white/5 text-gray-600 dark:text-gray-200 font-medium break-all" data-component-part="field-info-pill"><span>object[]</span></div><div class="px-2 py-0.5 rounded-md bg-red-100/50 dark:bg-red-400/10 text-red-600 dark:text-red-300 font-medium whitespace-nowrap" data-component-part="field-required-pill">required</div></div></div></div></div><div class="mt-4"><div class="prose prose-sm prose-gray dark:prose-invert"><p class="whitespace-pre-line">The prompt to improve, structured as a list of <code>message</code> objects.</p>
<p class="whitespace-pre-line">Each message in the <code>messages</code> array must:</p>
<ul>
<li>Contain only text-only content blocks</li>
<li>Not include tool calls, images, or prompt caching blocks</li>
</ul>
<p class="whitespace-pre-line">As a simple text prompt:</p>
<pre class="p-3 text-sm rounded-xl text-gray-50 bg-[#0F1117] dark:codeblock-dark dark:bg-codeblock border border-transparent dark:border-gray-800/50 codeblock-dark"><code class="language-json">[
  {
    "role": "user", 
    "content": [
      {
        "type": "text",
        "text": "Concise recipe for {{food}}"
      }
    ]
  }
]
</code></pre>
<p class="whitespace-pre-line">With example interactions to guide improvement:</p>
<pre class="p-3 text-sm rounded-xl text-gray-50 bg-[#0F1117] dark:codeblock-dark dark:bg-codeblock border border-transparent dark:border-gray-800/50 codeblock-dark"><code class="language-json">[
  {
    "role": "user", 
    "content": [
      {
        "type": "text",
        "text": "Concise for {{food}}.\n\nexample\mandu: Put the mandu in the air fryer at 380F for 7 minutes."
      }
    ]
  }
]
</code></pre>
<p class="whitespace-pre-line">Note that only contiguous user messages with text content are allowed. Assistant prefill is permitted, but other content types will cause validation errors.</p></div><div class="expandable mt-4 border-standard rounded-xl" role="listitem"><button aria-controls="Children attributes" aria-expanded="false" class="not-prose text-sm flex flex-row items-center content-center w-full text-gray-600 hover:text-gray-900 dark:text-gray-300 dark:hover:text-gray-200 py-3 px-3.5 hover:bg-gray-50/50 dark:hover:bg-white/5 rounded-t-xl rounded-b-xl" data-component-part="expandable-button"><div class="ml-3 leading-tight text-left"><p class="m-0" contenteditable="false">Show<!-- --> <!-- -->child attributes</p></div></button><div class="expandable-content mx-3 px-2 border-t border-gray-100 dark:border-white/10 hidden" data-component-part="expandable-content" id="undefinedChildren"><div class="py-6 border-gray-100 dark:border-gray-800 border-b last:border-b-0"><div class="flex font-mono text-sm group/param-head param-head break-all relative" id="body-messages-content"><div class="flex-1 flex content-start py-0.5 mr-5"><div class="flex items-center flex-wrap gap-2"><div class="absolute -top-1.5"><a aria-label="Navigate to header" class="-ml-[2.1rem] flex items-center opacity-0 border-0 group-hover/param-head:opacity-100 py-2 [.expandable-content_&amp;]:-ml-[2.1rem]" href="#body-messages-content">​</a></div><div class="font-semibold text-primary dark:text-primary-light cursor-pointer overflow-wrap-anywhere" data-component-part="field-name"><span class="text-gray-500 dark:text-gray-400">messages.</span>content</div><div class="inline items-center gap-2 text-xs font-medium [&amp;_div]:inline [&amp;_div]:mr-2 [&amp;_div]:leading-5" data-component-part="field-meta"><div class="option-dropdown inline-flex relative !mr-0"><div class="font-mono text-xs font-medium !inline-block !leading-4 items-center rounded-md space-x-1.5 text-gray-600 dark:text-gray-200 py-0.5 bg-gray-100/50 dark:bg-white/5"><select class="flex bg-transparent focus:outline-0 cursor-pointer text-start pl-2 pr-6 hover:text-gray-950 dark:hover:text-white"><option selected="" value="0">string</option><option value="1">object[]</option></select></div></div><div class="px-2 py-0.5 rounded-md bg-red-100/50 dark:bg-red-400/10 text-red-600 dark:text-red-300 font-medium whitespace-nowrap" data-component-part="field-required-pill">required</div></div></div></div></div></div><div class="py-6 border-gray-100 dark:border-gray-800 border-b last:border-b-0"><div class="flex font-mono text-sm group/param-head param-head break-all relative" id="body-messages-role"><div class="flex-1 flex content-start py-0.5 mr-5"><div class="flex items-center flex-wrap gap-2"><div class="absolute -top-1.5"><a aria-label="Navigate to header" class="-ml-[2.1rem] flex items-center opacity-0 border-0 group-hover/param-head:opacity-100 py-2 [.expandable-content_&amp;]:-ml-[2.1rem]" href="#body-messages-role">​</a></div><div class="font-semibold text-primary dark:text-primary-light cursor-pointer overflow-wrap-anywhere" data-component-part="field-name"><span class="text-gray-500 dark:text-gray-400">messages.</span>role</div><div class="inline items-center gap-2 text-xs font-medium [&amp;_div]:inline [&amp;_div]:mr-2 [&amp;_div]:leading-5" data-component-part="field-meta"><div class="flex items-center px-2 py-0.5 rounded-md bg-gray-100/50 dark:bg-white/5 text-gray-600 dark:text-gray-200 font-medium break-all" data-component-part="field-info-pill"><span>enum&lt;string&gt;</span></div><div class="px-2 py-0.5 rounded-md bg-red-100/50 dark:bg-red-400/10 text-red-600 dark:text-red-300 font-medium whitespace-nowrap" data-component-part="field-required-pill">required</div></div></div></div></div><div class="mt-4"><div class="whitespace-pre-wrap prose-sm mt-6">Available options:<!-- --> <div class="inline-block"><code>user</code>,<!-- --> </div><div class="inline-block"><code>assistant</code> </div></div></div></div></div></div><div class="flex prose prose-sm prose-gray dark:prose-invert mt-6 gap-1.5 flex-col gap-y-3"><span>Example<!-- -->s<!-- -->:</span><div class="*:my-2"><div class="prose prose-sm prose-gray dark:prose-invert overflow-wrap-anywhere text-[13px] [&amp;_*]:text-[13px]"><pre class="p-3 text-sm rounded-xl text-gray-50 bg-[#0F1117] dark:codeblock-dark dark:bg-codeblock border border-transparent dark:border-gray-800/50 codeblock-dark"><code class="language-json">[
  {
    "content": [
      {
        "text": "&lt;generated prompt&gt;",
        "type": "text"
      }
    ],
    "role": "user"
  }
]
</code></pre></div></div></div></div></div><div class="py-6 border-gray-100 dark:border-gray-800 border-b last:border-b-0"><div class="flex font-mono text-sm group/param-head param-head break-all relative" id="body-feedback"><div class="flex-1 flex content-start py-0.5 mr-5"><div class="flex items-center flex-wrap gap-2"><div class="absolute -top-1.5"><a aria-label="Navigate to header" class="-ml-10 flex items-center opacity-0 border-0 group-hover/param-head:opacity-100 py-2 [.expandable-content_&amp;]:-ml-[2.1rem]" href="#body-feedback">​</a></div><div class="font-semibold text-primary dark:text-primary-light cursor-pointer overflow-wrap-anywhere" data-component-part="field-name">feedback</div><div class="inline items-center gap-2 text-xs font-medium [&amp;_div]:inline [&amp;_div]:mr-2 [&amp;_div]:leading-5" data-component-part="field-meta"><div class="flex items-center px-2 py-0.5 rounded-md bg-gray-100/50 dark:bg-white/5 text-gray-600 dark:text-gray-200 font-medium break-all" data-component-part="field-info-pill"><span>string | null</span></div></div></div></div></div><div class="mt-4"><div class="prose prose-sm prose-gray dark:prose-invert"><p class="whitespace-pre-line">Feedback for improving the prompt.</p>
<p class="whitespace-pre-line">Use this parameter to share specific guidance on what aspects of the prompt should be enhanced or modified.</p>
<p class="whitespace-pre-line">Example:</p>
<pre class="p-3 text-sm rounded-xl text-gray-50 bg-[#0F1117] dark:codeblock-dark dark:bg-codeblock border border-transparent dark:border-gray-800/50 codeblock-dark language-json"><code class="language-json">{
  "messages": [...],
  "feedback": "Make the recipes shorter"
}
</code></pre>
<p class="whitespace-pre-line">When not set, the API will improve the prompt using general prompt engineering best practices.</p></div><div class="flex prose prose-sm prose-gray dark:prose-invert mt-6 gap-1.5"><span>Example<!-- -->s<!-- -->:</span><div class="*:my-2 inline *:mr-2 [&amp;_*]:inline"><div class="prose prose-sm prose-gray dark:prose-invert overflow-wrap-anywhere text-[13px] [&amp;_*]:text-[13px]"><p class="whitespace-pre-line"><code>"Make it more detailed and include cooking times"</code></p></div></div></div></div></div><div class="py-6 border-gray-100 dark:border-gray-800 border-b last:border-b-0"><div class="flex font-mono text-sm group/param-head param-head break-all relative" id="body-system"><div class="flex-1 flex content-start py-0.5 mr-5"><div class="flex items-center flex-wrap gap-2"><div class="absolute -top-1.5"><a aria-label="Navigate to header" class="-ml-10 flex items-center opacity-0 border-0 group-hover/param-head:opacity-100 py-2 [.expandable-content_&amp;]:-ml-[2.1rem]" href="#body-system">​</a></div><div class="font-semibold text-primary dark:text-primary-light cursor-pointer overflow-wrap-anywhere" data-component-part="field-name">system</div><div class="inline items-center gap-2 text-xs font-medium [&amp;_div]:inline [&amp;_div]:mr-2 [&amp;_div]:leading-5" data-component-part="field-meta"><div class="flex items-center px-2 py-0.5 rounded-md bg-gray-100/50 dark:bg-white/5 text-gray-600 dark:text-gray-200 font-medium break-all" data-component-part="field-info-pill"><span>string | null</span></div></div></div></div></div><div class="mt-4"><div class="prose prose-sm prose-gray dark:prose-invert"><p class="whitespace-pre-line">The existing system prompt to incorporate, if any.</p>
<pre class="p-3 text-sm rounded-xl text-gray-50 bg-[#0F1117] dark:codeblock-dark dark:bg-codeblock border border-transparent dark:border-gray-800/50 codeblock-dark language-json"><code class="language-json">{
  "system": "You are a professional meal prep chef",
  [...]
}
</code></pre>
<p class="whitespace-pre-line">Note that while system prompts typically appear as separate parameters in standard API calls, in the <code>improve_prompt</code> response, the system content will be incorporated directly into the returned user message.</p></div><div class="flex prose prose-sm prose-gray dark:prose-invert mt-6 gap-1.5"><span>Example<!-- -->s<!-- -->:</span><div class="*:my-2 inline *:mr-2 [&amp;_*]:inline"><div class="prose prose-sm prose-gray dark:prose-invert overflow-wrap-anywhere text-[13px] [&amp;_*]:text-[13px]"><p class="whitespace-pre-line"><code>"You are a professional chef"</code></p></div></div></div></div></div><div class="py-6 border-gray-100 dark:border-gray-800 border-b last:border-b-0"><div class="flex font-mono text-sm group/param-head param-head break-all relative" id="body-target-model"><div class="flex-1 flex content-start py-0.5 mr-5"><div class="flex items-center flex-wrap gap-2"><div class="absolute -top-1.5"><a aria-label="Navigate to header" class="-ml-10 flex items-center opacity-0 border-0 group-hover/param-head:opacity-100 py-2 [.expandable-content_&amp;]:-ml-[2.1rem]" href="#body-target-model">​</a></div><div class="font-semibold text-primary dark:text-primary-light cursor-pointer overflow-wrap-anywhere" data-component-part="field-name">target_model</div><div class="inline items-center gap-2 text-xs font-medium [&amp;_div]:inline [&amp;_div]:mr-2 [&amp;_div]:leading-5" data-component-part="field-meta"><div class="flex items-center px-2 py-0.5 rounded-md bg-gray-100/50 dark:bg-white/5 text-gray-600 dark:text-gray-200 font-medium break-all" data-component-part="field-info-pill"><span>string | null</span></div><div class="flex items-center px-2 py-0.5 rounded-md bg-gray-100/50 dark:bg-white/5 text-gray-600 dark:text-gray-200 font-medium break-all" data-component-part="field-info-pill"><span class="text-gray-400 dark:text-gray-500">default:</span></div></div></div></div></div><div class="mt-4"><div class="prose prose-sm prose-gray dark:prose-invert"><p class="whitespace-pre-line">The model this prompt will be used for. This optional parameter helps us understand which models our prompt tools are being used with, but it doesn't currently affect functionality.</p>
<p class="whitespace-pre-line">Example:</p>
<pre class="p-3 text-sm rounded-xl text-gray-50 bg-[#0F1117] dark:codeblock-dark dark:bg-codeblock border border-transparent dark:border-gray-800/50 codeblock-dark"><code>"claude-3-7-sonnet-20250219"
</code></pre></div><div class="prose prose-sm prose-gray dark:prose-invert mt-6">Required string length: <code>1 - 256</code></div><div class="flex prose prose-sm prose-gray dark:prose-invert mt-6 gap-1.5"><span>Example<!-- -->s<!-- -->:</span><div class="*:my-2 inline *:mr-2 [&amp;_*]:inline"><div class="prose prose-sm prose-gray dark:prose-invert overflow-wrap-anywhere text-[13px] [&amp;_*]:text-[13px]"><p class="whitespace-pre-line"><code>"claude-3-7-sonnet-20250219"</code></p></div></div></div></div></div></div><div class="api-section"><div class="api-section-heading flex flex-col gap-y-4 w-full"><div class="flex items-baseline border-b pb-2.5 border-gray-100 dark:border-gray-800 w-full"><h4 class="api-section-heading-title flex-1 mb-0">Response</h4><div class="flex items-center"><div class="flex items-center gap-x-3 font-mono text-xs"><div class="relative flex items-center px-2 py-0.5 text-gray-600 dark:text-gray-300 font-medium bg-transparent dark:bg-transparent hover:text-zinc-950 dark:hover:text-white transition-all"><div class="">200</div><select aria-label="parameter type select" class="absolute opacity-0 inset-0 cursor-pointer"><option selected="" value="0">200</option><option value="1">4XX</option></select></div><div class="relative flex items-center px-2 py-0.5 text-gray-600 dark:text-gray-300 hover:text-gray-950 dark:hover:text-white font-medium bg-transparent dark:bg-transparent"><div class="">application/json</div></div></div></div></div><div class="api-section-heading-subtitle text-sm prose prose-gray dark:prose-invert mb-2">Successful Response</div></div><div class="py-6 border-gray-100 dark:border-gray-800 border-b last:border-b-0"><div class="flex font-mono text-sm group/param-head param-head break-all relative" id="response-messages"><div class="flex-1 flex content-start py-0.5 mr-5"><div class="flex items-center flex-wrap gap-2"><div class="absolute -top-1.5"><a aria-label="Navigate to header" class="-ml-10 flex items-center opacity-0 border-0 group-hover/param-head:opacity-100 py-2 [.expandable-content_&amp;]:-ml-[2.1rem]" href="#response-messages">​</a></div><div class="font-semibold text-primary dark:text-primary-light cursor-pointer overflow-wrap-anywhere" data-component-part="field-name">messages</div><div class="inline items-center gap-2 text-xs font-medium [&amp;_div]:inline [&amp;_div]:mr-2 [&amp;_div]:leading-5" data-component-part="field-meta"><div class="flex items-center px-2 py-0.5 rounded-md bg-gray-100/50 dark:bg-white/5 text-gray-600 dark:text-gray-200 font-medium break-all" data-component-part="field-info-pill"><span>object[]</span></div><div class="px-2 py-0.5 rounded-md bg-red-100/50 dark:bg-red-400/10 text-red-600 dark:text-red-300 font-medium whitespace-nowrap" data-component-part="field-required-pill">required</div></div></div></div></div><div class="mt-4"><div class="prose prose-sm prose-gray dark:prose-invert"><p class="whitespace-pre-line">Contains the result of the prompt improvement process in a list of <code>message</code> objects.</p>
<p class="whitespace-pre-line">Includes a <code>user</code>-role message with the improved prompt text and may optionally include an <code>assistant</code>-role message with a prefill. These messages follow the standard Messages API format and can be used directly in subsequent API calls.</p></div><div class="expandable mt-4 border-standard rounded-xl" role="listitem"><button aria-controls="Children attributes" aria-expanded="false" class="not-prose text-sm flex flex-row items-center content-center w-full text-gray-600 hover:text-gray-900 dark:text-gray-300 dark:hover:text-gray-200 py-3 px-3.5 hover:bg-gray-50/50 dark:hover:bg-white/5 rounded-t-xl rounded-b-xl" data-component-part="expandable-button"><div class="ml-3 leading-tight text-left"><p class="m-0" contenteditable="false">Show<!-- --> <!-- -->child attributes</p></div></button><div class="expandable-content mx-3 px-2 border-t border-gray-100 dark:border-white/10 hidden" data-component-part="expandable-content" id="undefinedChildren"><div class="py-6 border-gray-100 dark:border-gray-800 border-b last:border-b-0"><div class="flex font-mono text-sm group/param-head param-head break-all relative" id="response-messages-content"><div class="flex-1 flex content-start py-0.5 mr-5"><div class="flex items-center flex-wrap gap-2"><div class="absolute -top-1.5"><a aria-label="Navigate to header" class="-ml-[2.1rem] flex items-center opacity-0 border-0 group-hover/param-head:opacity-100 py-2 [.expandable-content_&amp;]:-ml-[2.1rem]" href="#response-messages-content">​</a></div><div class="font-semibold text-primary dark:text-primary-light cursor-pointer overflow-wrap-anywhere" data-component-part="field-name"><span class="text-gray-500 dark:text-gray-400">messages.</span>content</div><div class="inline items-center gap-2 text-xs font-medium [&amp;_div]:inline [&amp;_div]:mr-2 [&amp;_div]:leading-5" data-component-part="field-meta"><div class="option-dropdown inline-flex relative !mr-0"><div class="font-mono text-xs font-medium !inline-block !leading-4 items-center rounded-md space-x-1.5 text-gray-600 dark:text-gray-200 py-0.5 bg-gray-100/50 dark:bg-white/5"><select class="flex bg-transparent focus:outline-0 cursor-pointer text-start pl-2 pr-6 hover:text-gray-950 dark:hover:text-white"><option selected="" value="0">string</option><option value="1">object[]</option></select></div></div><div class="px-2 py-0.5 rounded-md bg-red-100/50 dark:bg-red-400/10 text-red-600 dark:text-red-300 font-medium whitespace-nowrap" data-component-part="field-required-pill">required</div></div></div></div></div></div><div class="py-6 border-gray-100 dark:border-gray-800 border-b last:border-b-0"><div class="flex font-mono text-sm group/param-head param-head break-all relative" id="response-messages-role"><div class="flex-1 flex content-start py-0.5 mr-5"><div class="flex items-center flex-wrap gap-2"><div class="absolute -top-1.5"><a aria-label="Navigate to header" class="-ml-[2.1rem] flex items-center opacity-0 border-0 group-hover/param-head:opacity-100 py-2 [.expandable-content_&amp;]:-ml-[2.1rem]" href="#response-messages-role">​</a></div><div class="font-semibold text-primary dark:text-primary-light cursor-pointer overflow-wrap-anywhere" data-component-part="field-name"><span class="text-gray-500 dark:text-gray-400">messages.</span>role</div><div class="inline items-center gap-2 text-xs font-medium [&amp;_div]:inline [&amp;_div]:mr-2 [&amp;_div]:leading-5" data-component-part="field-meta"><div class="flex items-center px-2 py-0.5 rounded-md bg-gray-100/50 dark:bg-white/5 text-gray-600 dark:text-gray-200 font-medium break-all" data-component-part="field-info-pill"><span>enum&lt;string&gt;</span></div><div class="px-2 py-0.5 rounded-md bg-red-100/50 dark:bg-red-400/10 text-red-600 dark:text-red-300 font-medium whitespace-nowrap" data-component-part="field-required-pill">required</div></div></div></div></div><div class="mt-4"><div class="whitespace-pre-wrap prose-sm mt-6">Available options:<!-- --> <div class="inline-block"><code>user</code>,<!-- --> </div><div class="inline-block"><code>assistant</code> </div></div></div></div></div></div><div class="flex prose prose-sm prose-gray dark:prose-invert mt-6 gap-1.5 flex-col gap-y-3"><span>Example<!-- -->s<!-- -->:</span><div class="*:my-2"><div class="prose prose-sm prose-gray dark:prose-invert overflow-wrap-anywhere text-[13px] [&amp;_*]:text-[13px]"><pre class="p-3 text-sm rounded-xl text-gray-50 bg-[#0F1117] dark:codeblock-dark dark:bg-codeblock border border-transparent dark:border-gray-800/50 codeblock-dark"><code class="language-json">[
  {
    "content": [
      {
        "text": "&lt;improved prompt&gt;",
        "type": "text"
      }
    ],
    "role": "user"
  },
  {
    "content": [
      {
        "text": "&lt;assistant prefill&gt;",
        "type": "text"
      }
    ],
    "role": "assistant"
  }
]
</code></pre></div></div></div></div></div><div class="py-6 border-gray-100 dark:border-gray-800 border-b last:border-b-0"><div class="flex font-mono text-sm group/param-head param-head break-all relative" id="response-system"><div class="flex-1 flex content-start py-0.5 mr-5"><div class="flex items-center flex-wrap gap-2"><div class="absolute -top-1.5"><a aria-label="Navigate to header" class="-ml-10 flex items-center opacity-0 border-0 group-hover/param-head:opacity-100 py-2 [.expandable-content_&amp;]:-ml-[2.1rem]" href="#response-system">​</a></div><div class="font-semibold text-primary dark:text-primary-light cursor-pointer overflow-wrap-anywhere" data-component-part="field-name">system</div><div class="inline items-center gap-2 text-xs font-medium [&amp;_div]:inline [&amp;_div]:mr-2 [&amp;_div]:leading-5" data-component-part="field-meta"><div class="flex items-center px-2 py-0.5 rounded-md bg-gray-100/50 dark:bg-white/5 text-gray-600 dark:text-gray-200 font-medium break-all" data-component-part="field-info-pill"><span>string</span></div><div class="px-2 py-0.5 rounded-md bg-red-100/50 dark:bg-red-400/10 text-red-600 dark:text-red-300 font-medium whitespace-nowrap" data-component-part="field-required-pill">required</div></div></div></div></div><div class="mt-4"><div class="prose prose-sm prose-gray dark:prose-invert"><p class="whitespace-pre-line">Currently, the <code>system</code> field is always returned as an empty string (""). In future iterations, this field may contain generated system prompts.</p>
<p class="whitespace-pre-line">Directions similar to what would normally be included in a system prompt are included in <code>messages</code> when improving a prompt.</p></div><div class="flex prose prose-sm prose-gray dark:prose-invert mt-6 gap-1.5"><span>Example<!-- -->s<!-- -->:</span><div class="*:my-2 inline *:mr-2 [&amp;_*]:inline"><div class="prose prose-sm prose-gray dark:prose-invert overflow-wrap-anywhere text-[13px] [&amp;_*]:text-[13px]"><p class="whitespace-pre-line"><code>""</code></p></div></div></div></div></div><div class="py-6 border-gray-100 dark:border-gray-800 border-b last:border-b-0"><div class="flex font-mono text-sm group/param-head param-head break-all relative" id="response-usage"><div class="flex-1 flex content-start py-0.5 mr-5"><div class="flex items-center flex-wrap gap-2"><div class="absolute -top-1.5"><a aria-label="Navigate to header" class="-ml-10 flex items-center opacity-0 border-0 group-hover/param-head:opacity-100 py-2 [.expandable-content_&amp;]:-ml-[2.1rem]" href="#response-usage">​</a></div><div class="font-semibold text-primary dark:text-primary-light cursor-pointer overflow-wrap-anywhere" data-component-part="field-name">usage</div><div class="inline items-center gap-2 text-xs font-medium [&amp;_div]:inline [&amp;_div]:mr-2 [&amp;_div]:leading-5" data-component-part="field-meta"><div class="flex items-center px-2 py-0.5 rounded-md bg-gray-100/50 dark:bg-white/5 text-gray-600 dark:text-gray-200 font-medium break-all" data-component-part="field-info-pill"><span>object</span></div><div class="px-2 py-0.5 rounded-md bg-red-100/50 dark:bg-red-400/10 text-red-600 dark:text-red-300 font-medium whitespace-nowrap" data-component-part="field-required-pill">required</div></div></div></div></div><div class="mt-4"><div class="prose prose-sm prose-gray dark:prose-invert"><p class="whitespace-pre-line">Usage information</p></div><div class=""><div class="expandable mt-4 border-standard rounded-xl" role="listitem"><button aria-controls="Children attributes" aria-expanded="false" class="not-prose text-sm flex flex-row items-center content-center w-full text-gray-600 hover:text-gray-900 dark:text-gray-300 dark:hover:text-gray-200 py-3 px-3.5 hover:bg-gray-50/50 dark:hover:bg-white/5 rounded-t-xl rounded-b-xl" data-component-part="expandable-button"><div class="ml-3 leading-tight text-left"><p class="m-0" contenteditable="false">Show<!-- --> <!-- -->child attributes</p></div></button><div class="expandable-content mx-3 px-2 border-t border-gray-100 dark:border-white/10 hidden" data-component-part="expandable-content" id="undefinedChildren"><div class="py-6 border-gray-100 dark:border-gray-800 border-b last:border-b-0"><div class="flex font-mono text-sm group/param-head param-head break-all relative" id="response-usage-cache-creation"><div class="flex-1 flex content-start py-0.5 mr-5"><div class="flex items-center flex-wrap gap-2"><div class="absolute -top-1.5"><a aria-label="Navigate to header" class="-ml-[2.1rem] flex items-center opacity-0 border-0 group-hover/param-head:opacity-100 py-2 [.expandable-content_&amp;]:-ml-[2.1rem]" href="#response-usage-cache-creation">​</a></div><div class="font-semibold text-primary dark:text-primary-light cursor-pointer overflow-wrap-anywhere" data-component-part="field-name"><span class="text-gray-500 dark:text-gray-400">usage.</span>cache_creation</div><div class="inline items-center gap-2 text-xs font-medium [&amp;_div]:inline [&amp;_div]:mr-2 [&amp;_div]:leading-5" data-component-part="field-meta"><div class="flex items-center px-2 py-0.5 rounded-md bg-gray-100/50 dark:bg-white/5 text-gray-600 dark:text-gray-200 font-medium break-all" data-component-part="field-info-pill"><span>object | null</span></div><div class="px-2 py-0.5 rounded-md bg-red-100/50 dark:bg-red-400/10 text-red-600 dark:text-red-300 font-medium whitespace-nowrap" data-component-part="field-required-pill">required</div></div></div></div></div><div class="mt-4"><div class="prose prose-sm prose-gray dark:prose-invert"><p class="whitespace-pre-line">Breakdown of cached tokens by TTL</p></div><div class=""><div class="expandable mt-4 border-standard rounded-xl" role="listitem"><button aria-controls="Children attributes" aria-expanded="false" class="not-prose text-sm flex flex-row items-center content-center w-full text-gray-600 hover:text-gray-900 dark:text-gray-300 dark:hover:text-gray-200 py-3 px-3.5 hover:bg-gray-50/50 dark:hover:bg-white/5 rounded-t-xl rounded-b-xl" data-component-part="expandable-button"><div class="ml-3 leading-tight text-left"><p class="m-0" contenteditable="false">Show<!-- --> <!-- -->child attributes</p></div></button><div class="expandable-content mx-3 px-2 border-t border-gray-100 dark:border-white/10 hidden" data-component-part="expandable-content" id="undefinedChildren"><div class="py-6 border-gray-100 dark:border-gray-800 border-b last:border-b-0"><div class="flex font-mono text-sm group/param-head param-head break-all relative" id="response-usage-cache-creation-ephemeral-1h-input-tokens"><div class="flex-1 flex content-start py-0.5 mr-5"><div class="flex items-center flex-wrap gap-2"><div class="absolute -top-1.5"><a aria-label="Navigate to header" class="-ml-[2.1rem] flex items-center opacity-0 border-0 group-hover/param-head:opacity-100 py-2 [.expandable-content_&amp;]:-ml-[2.1rem]" href="#response-usage-cache-creation-ephemeral-1h-input-tokens">​</a></div><div class="font-semibold text-primary dark:text-primary-light cursor-pointer overflow-wrap-anywhere" data-component-part="field-name"><span class="text-gray-500 dark:text-gray-400">usage.cache_creation.</span>ephemeral_1h_input_tokens</div><div class="inline items-center gap-2 text-xs font-medium [&amp;_div]:inline [&amp;_div]:mr-2 [&amp;_div]:leading-5" data-component-part="field-meta"><div class="flex items-center px-2 py-0.5 rounded-md bg-gray-100/50 dark:bg-white/5 text-gray-600 dark:text-gray-200 font-medium break-all" data-component-part="field-info-pill"><span>integer</span></div><div class="flex items-center px-2 py-0.5 rounded-md bg-gray-100/50 dark:bg-white/5 text-gray-600 dark:text-gray-200 font-medium break-all" data-component-part="field-info-pill"><span class="text-gray-400 dark:text-gray-500">default:</span><span>0</span></div><div class="px-2 py-0.5 rounded-md bg-red-100/50 dark:bg-red-400/10 text-red-600 dark:text-red-300 font-medium whitespace-nowrap" data-component-part="field-required-pill">required</div></div></div></div></div><div class="mt-4"><div class="prose prose-sm prose-gray dark:prose-invert"><p class="whitespace-pre-line">The number of input tokens used to create the 1 hour cache entry.</p></div><div class="prose prose-sm prose-gray dark:prose-invert mt-6">Required range: <code>x &gt;= 0</code></div></div></div><div class="py-6 border-gray-100 dark:border-gray-800 border-b last:border-b-0"><div class="flex font-mono text-sm group/param-head param-head break-all relative" id="response-usage-cache-creation-ephemeral-5m-input-tokens"><div class="flex-1 flex content-start py-0.5 mr-5"><div class="flex items-center flex-wrap gap-2"><div class="absolute -top-1.5"><a aria-label="Navigate to header" class="-ml-[2.1rem] flex items-center opacity-0 border-0 group-hover/param-head:opacity-100 py-2 [.expandable-content_&amp;]:-ml-[2.1rem]" href="#response-usage-cache-creation-ephemeral-5m-input-tokens">​</a></div><div class="font-semibold text-primary dark:text-primary-light cursor-pointer overflow-wrap-anywhere" data-component-part="field-name"><span class="text-gray-500 dark:text-gray-400">usage.cache_creation.</span>ephemeral_5m_input_tokens</div><div class="inline items-center gap-2 text-xs font-medium [&amp;_div]:inline [&amp;_div]:mr-2 [&amp;_div]:leading-5" data-component-part="field-meta"><div class="flex items-center px-2 py-0.5 rounded-md bg-gray-100/50 dark:bg-white/5 text-gray-600 dark:text-gray-200 font-medium break-all" data-component-part="field-info-pill"><span>integer</span></div><div class="flex items-center px-2 py-0.5 rounded-md bg-gray-100/50 dark:bg-white/5 text-gray-600 dark:text-gray-200 font-medium break-all" data-component-part="field-info-pill"><span class="text-gray-400 dark:text-gray-500">default:</span><span>0</span></div><div class="px-2 py-0.5 rounded-md bg-red-100/50 dark:bg-red-400/10 text-red-600 dark:text-red-300 font-medium whitespace-nowrap" data-component-part="field-required-pill">required</div></div></div></div></div><div class="mt-4"><div class="prose prose-sm prose-gray dark:prose-invert"><p class="whitespace-pre-line">The number of input tokens used to create the 5 minute cache entry.</p></div><div class="prose prose-sm prose-gray dark:prose-invert mt-6">Required range: <code>x &gt;= 0</code></div></div></div></div></div></div></div></div><div class="py-6 border-gray-100 dark:border-gray-800 border-b last:border-b-0"><div class="flex font-mono text-sm group/param-head param-head break-all relative" id="response-usage-cache-creation-input-tokens"><div class="flex-1 flex content-start py-0.5 mr-5"><div class="flex items-center flex-wrap gap-2"><div class="absolute -top-1.5"><a aria-label="Navigate to header" class="-ml-[2.1rem] flex items-center opacity-0 border-0 group-hover/param-head:opacity-100 py-2 [.expandable-content_&amp;]:-ml-[2.1rem]" href="#response-usage-cache-creation-input-tokens">​</a></div><div class="font-semibold text-primary dark:text-primary-light cursor-pointer overflow-wrap-anywhere" data-component-part="field-name"><span class="text-gray-500 dark:text-gray-400">usage.</span>cache_creation_input_tokens</div><div class="inline items-center gap-2 text-xs font-medium [&amp;_div]:inline [&amp;_div]:mr-2 [&amp;_div]:leading-5" data-component-part="field-meta"><div class="flex items-center px-2 py-0.5 rounded-md bg-gray-100/50 dark:bg-white/5 text-gray-600 dark:text-gray-200 font-medium break-all" data-component-part="field-info-pill"><span>integer | null</span></div><div class="px-2 py-0.5 rounded-md bg-red-100/50 dark:bg-red-400/10 text-red-600 dark:text-red-300 font-medium whitespace-nowrap" data-component-part="field-required-pill">required</div></div></div></div></div><div class="mt-4"><div class="prose prose-sm prose-gray dark:prose-invert"><p class="whitespace-pre-line">The number of input tokens used to create the cache entry.</p></div><div class="prose prose-sm prose-gray dark:prose-invert mt-6">Required range: <code>x &gt;= 0</code></div><div class="flex prose prose-sm prose-gray dark:prose-invert mt-6 gap-1.5"><span>Example<!-- -->s<!-- -->:</span><div class="*:my-2 inline *:mr-2 [&amp;_*]:inline"><div class="prose prose-sm prose-gray dark:prose-invert overflow-wrap-anywhere text-[13px] [&amp;_*]:text-[13px]"><p class="whitespace-pre-line"><code>2051</code></p></div></div></div></div></div><div class="py-6 border-gray-100 dark:border-gray-800 border-b last:border-b-0"><div class="flex font-mono text-sm group/param-head param-head break-all relative" id="response-usage-cache-read-input-tokens"><div class="flex-1 flex content-start py-0.5 mr-5"><div class="flex items-center flex-wrap gap-2"><div class="absolute -top-1.5"><a aria-label="Navigate to header" class="-ml-[2.1rem] flex items-center opacity-0 border-0 group-hover/param-head:opacity-100 py-2 [.expandable-content_&amp;]:-ml-[2.1rem]" href="#response-usage-cache-read-input-tokens">​</a></div><div class="font-semibold text-primary dark:text-primary-light cursor-pointer overflow-wrap-anywhere" data-component-part="field-name"><span class="text-gray-500 dark:text-gray-400">usage.</span>cache_read_input_tokens</div><div class="inline items-center gap-2 text-xs font-medium [&amp;_div]:inline [&amp;_div]:mr-2 [&amp;_div]:leading-5" data-component-part="field-meta"><div class="flex items-center px-2 py-0.5 rounded-md bg-gray-100/50 dark:bg-white/5 text-gray-600 dark:text-gray-200 font-medium break-all" data-component-part="field-info-pill"><span>integer | null</span></div><div class="px-2 py-0.5 rounded-md bg-red-100/50 dark:bg-red-400/10 text-red-600 dark:text-red-300 font-medium whitespace-nowrap" data-component-part="field-required-pill">required</div></div></div></div></div><div class="mt-4"><div class="prose prose-sm prose-gray dark:prose-invert"><p class="whitespace-pre-line">The number of input tokens read from the cache.</p></div><div class="prose prose-sm prose-gray dark:prose-invert mt-6">Required range: <code>x &gt;= 0</code></div><div class="flex prose prose-sm prose-gray dark:prose-invert mt-6 gap-1.5"><span>Example<!-- -->s<!-- -->:</span><div class="*:my-2 inline *:mr-2 [&amp;_*]:inline"><div class="prose prose-sm prose-gray dark:prose-invert overflow-wrap-anywhere text-[13px] [&amp;_*]:text-[13px]"><p class="whitespace-pre-line"><code>2051</code></p></div></div></div></div></div><div class="py-6 border-gray-100 dark:border-gray-800 border-b last:border-b-0"><div class="flex font-mono text-sm group/param-head param-head break-all relative" id="response-usage-input-tokens"><div class="flex-1 flex content-start py-0.5 mr-5"><div class="flex items-center flex-wrap gap-2"><div class="absolute -top-1.5"><a aria-label="Navigate to header" class="-ml-[2.1rem] flex items-center opacity-0 border-0 group-hover/param-head:opacity-100 py-2 [.expandable-content_&amp;]:-ml-[2.1rem]" href="#response-usage-input-tokens">​</a></div><div class="font-semibold text-primary dark:text-primary-light cursor-pointer overflow-wrap-anywhere" data-component-part="field-name"><span class="text-gray-500 dark:text-gray-400">usage.</span>input_tokens</div><div class="inline items-center gap-2 text-xs font-medium [&amp;_div]:inline [&amp;_div]:mr-2 [&amp;_div]:leading-5" data-component-part="field-meta"><div class="flex items-center px-2 py-0.5 rounded-md bg-gray-100/50 dark:bg-white/5 text-gray-600 dark:text-gray-200 font-medium break-all" data-component-part="field-info-pill"><span>integer</span></div><div class="px-2 py-0.5 rounded-md bg-red-100/50 dark:bg-red-400/10 text-red-600 dark:text-red-300 font-medium whitespace-nowrap" data-component-part="field-required-pill">required</div></div></div></div></div><div class="mt-4"><div class="prose prose-sm prose-gray dark:prose-invert"><p class="whitespace-pre-line">The number of input tokens which were used.</p></div><div class="prose prose-sm prose-gray dark:prose-invert mt-6">Required range: <code>x &gt;= 0</code></div><div class="flex prose prose-sm prose-gray dark:prose-invert mt-6 gap-1.5"><span>Example<!-- -->s<!-- -->:</span><div class="*:my-2 inline *:mr-2 [&amp;_*]:inline"><div class="prose prose-sm prose-gray dark:prose-invert overflow-wrap-anywhere text-[13px] [&amp;_*]:text-[13px]"><p class="whitespace-pre-line"><code>2095</code></p></div></div></div></div></div><div class="py-6 border-gray-100 dark:border-gray-800 border-b last:border-b-0"><div class="flex font-mono text-sm group/param-head param-head break-all relative" id="response-usage-output-tokens"><div class="flex-1 flex content-start py-0.5 mr-5"><div class="flex items-center flex-wrap gap-2"><div class="absolute -top-1.5"><a aria-label="Navigate to header" class="-ml-[2.1rem] flex items-center opacity-0 border-0 group-hover/param-head:opacity-100 py-2 [.expandable-content_&amp;]:-ml-[2.1rem]" href="#response-usage-output-tokens">​</a></div><div class="font-semibold text-primary dark:text-primary-light cursor-pointer overflow-wrap-anywhere" data-component-part="field-name"><span class="text-gray-500 dark:text-gray-400">usage.</span>output_tokens</div><div class="inline items-center gap-2 text-xs font-medium [&amp;_div]:inline [&amp;_div]:mr-2 [&amp;_div]:leading-5" data-component-part="field-meta"><div class="flex items-center px-2 py-0.5 rounded-md bg-gray-100/50 dark:bg-white/5 text-gray-600 dark:text-gray-200 font-medium break-all" data-component-part="field-info-pill"><span>integer</span></div><div class="px-2 py-0.5 rounded-md bg-red-100/50 dark:bg-red-400/10 text-red-600 dark:text-red-300 font-medium whitespace-nowrap" data-component-part="field-required-pill">required</div></div></div></div></div><div class="mt-4"><div class="prose prose-sm prose-gray dark:prose-invert"><p class="whitespace-pre-line">The number of output tokens which were used.</p></div><div class="prose prose-sm prose-gray dark:prose-invert mt-6">Required range: <code>x &gt;= 0</code></div><div class="flex prose prose-sm prose-gray dark:prose-invert mt-6 gap-1.5"><span>Example<!-- -->s<!-- -->:</span><div class="*:my-2 inline *:mr-2 [&amp;_*]:inline"><div class="prose prose-sm prose-gray dark:prose-invert overflow-wrap-anywhere text-[13px] [&amp;_*]:text-[13px]"><p class="whitespace-pre-line"><code>503</code></p></div></div></div></div></div><div class="py-6 border-gray-100 dark:border-gray-800 border-b last:border-b-0"><div class="flex font-mono text-sm group/param-head param-head break-all relative" id="response-usage-server-tool-use"><div class="flex-1 flex content-start py-0.5 mr-5"><div class="flex items-center flex-wrap gap-2"><div class="absolute -top-1.5"><a aria-label="Navigate to header" class="-ml-[2.1rem] flex items-center opacity-0 border-0 group-hover/param-head:opacity-100 py-2 [.expandable-content_&amp;]:-ml-[2.1rem]" href="#response-usage-server-tool-use">​</a></div><div class="font-semibold text-primary dark:text-primary-light cursor-pointer overflow-wrap-anywhere" data-component-part="field-name"><span class="text-gray-500 dark:text-gray-400">usage.</span>server_tool_use</div><div class="inline items-center gap-2 text-xs font-medium [&amp;_div]:inline [&amp;_div]:mr-2 [&amp;_div]:leading-5" data-component-part="field-meta"><div class="flex items-center px-2 py-0.5 rounded-md bg-gray-100/50 dark:bg-white/5 text-gray-600 dark:text-gray-200 font-medium break-all" data-component-part="field-info-pill"><span>object | null</span></div><div class="px-2 py-0.5 rounded-md bg-red-100/50 dark:bg-red-400/10 text-red-600 dark:text-red-300 font-medium whitespace-nowrap" data-component-part="field-required-pill">required</div></div></div></div></div><div class="mt-4"><div class="prose prose-sm prose-gray dark:prose-invert"><p class="whitespace-pre-line">The number of server tool requests.</p></div><div class=""><div class="expandable mt-4 border-standard rounded-xl" role="listitem"><button aria-controls="Children attributes" aria-expanded="false" class="not-prose text-sm flex flex-row items-center content-center w-full text-gray-600 hover:text-gray-900 dark:text-gray-300 dark:hover:text-gray-200 py-3 px-3.5 hover:bg-gray-50/50 dark:hover:bg-white/5 rounded-t-xl rounded-b-xl" data-component-part="expandable-button"><div class="ml-3 leading-tight text-left"><p class="m-0" contenteditable="false">Show<!-- --> <!-- -->child attributes</p></div></button></div></div></div></div><div class="py-6 border-gray-100 dark:border-gray-800 border-b last:border-b-0"><div class="flex font-mono text-sm group/param-head param-head break-all relative" id="response-usage-service-tier"><div class="flex-1 flex content-start py-0.5 mr-5"><div class="flex items-center flex-wrap gap-2"><div class="absolute -top-1.5"><a aria-label="Navigate to header" class="-ml-[2.1rem] flex items-center opacity-0 border-0 group-hover/param-head:opacity-100 py-2 [.expandable-content_&amp;]:-ml-[2.1rem]" href="#response-usage-service-tier">​</a></div><div class="font-semibold text-primary dark:text-primary-light cursor-pointer overflow-wrap-anywhere" data-component-part="field-name"><span class="text-gray-500 dark:text-gray-400">usage.</span>service_tier</div><div class="inline items-center gap-2 text-xs font-medium [&amp;_div]:inline [&amp;_div]:mr-2 [&amp;_div]:leading-5" data-component-part="field-meta"><div class="flex items-center px-2 py-0.5 rounded-md bg-gray-100/50 dark:bg-white/5 text-gray-600 dark:text-gray-200 font-medium break-all" data-component-part="field-info-pill"><span>enum&lt;string&gt; | null</span></div><div class="px-2 py-0.5 rounded-md bg-red-100/50 dark:bg-red-400/10 text-red-600 dark:text-red-300 font-medium whitespace-nowrap" data-component-part="field-required-pill">required</div></div></div></div></div><div class="mt-4"><div class="prose prose-sm prose-gray dark:prose-invert"><p class="whitespace-pre-line">If the request used the priority, standard, or batch tier.</p></div><div class="whitespace-pre-wrap prose-sm mt-6">Available options:<!-- --> <div class="inline-block"><code>standard</code>,<!-- --> </div><div class="inline-block"><code>priority</code>,<!-- --> </div><div class="inline-block"><code>batch</code> </div></div></div></div></div></div><div class="flex prose prose-sm prose-gray dark:prose-invert mt-6 gap-1.5 flex-col gap-y-3"><span>Example<!-- -->s<!-- -->:</span><div class="*:my-2"><div class="prose prose-sm prose-gray dark:prose-invert overflow-wrap-anywhere text-[13px] [&amp;_*]:text-[13px]"><pre class="p-3 text-sm rounded-xl text-gray-50 bg-[#0F1117] dark:codeblock-dark dark:bg-codeblock border border-transparent dark:border-gray-800/50 codeblock-dark"><code class="language-json">[
  { "input_tokens": 490, "output_tokens": 661 }
]
</code></pre></div></div></div></div></div></div></div></div><div class="leading-6 mt-14"><div class="feedback-toolbar pb-16 w-full"><div class="flex flex-col gap-y-4 xl:flex-col xl:gap-6 min-[1400px]:flex-row md:flex-row md:justify-end"><div class="flex flex-row gap-5 items-center grow justify-between md:justify-start xl:justify-between min-[1400px]:justify-start"><p class="text-sm text-gray-600 dark:text-gray-400">Was this page helpful?</p><div class="flex flex-row gap-3 items-center"><button class="px-3.5 py-2 flex flex-row gap-3 items-center border-standard rounded-xl text-gray-600 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 bg-white/50 dark:bg-codeblock/50 hover:border-gray-500 hover:dark:border-gray-500"><small class="text-sm font-normal leading-4">Yes</small></button><button class="px-3.5 py-2 flex flex-row gap-3 items-center border-standard rounded-xl text-gray-600 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 bg-white/50 dark:bg-codeblock/50 hover:border-gray-500 hover:dark:border-gray-500"><small class="text-sm font-normal leading-4">No</small></button></div></div></div></div><div class="mb-12 px-0.5 flex items-center text-sm font-semibold text-gray-700 dark:text-gray-200" id="pagination"><a class="flex items-center space-x-3 group" href="/en/api/prompt-tools-generate"><span class="group-hover:text-gray-900 dark:group-hover:text-white">Generate a prompt</span></a><a class="flex items-center ml-auto space-x-3 group" href="/en/api/prompt-tools-templatize"><span class="group-hover:text-gray-900 dark:group-hover:text-white">Templatize a prompt</span></a></div></div></div><div class="hidden xl:flex self-start sticky xl:flex-col h-[calc(100vh-9.5rem)] top-[9.5rem]" id="content-side-layout"><div class="w-full xl:w-[28rem] gap-6 grid grid-rows-[repeat(auto-fit,minmax(0,min-content))] grid-rows relative max-h-[calc(100%-32px)] min-h-[18rem]"><div class="code-group flex flex-col not-prose relative overflow-hidden rounded-2xl dark:border-gray-800/50 my-0 bg-[#0F1117] border border-transparent dark:bg-codeblock text-gray-50 codeblock-dark" id="code-group"><div class="relative border-b border-gray-900/80 bg-[#0F1117] dark:bg-codeblock" data-component-part="code-group-tab-bar"><div aria-orientation="horizontal" class="text-xs leading-6 rounded-t-xl flex overflow-x-auto overflow-y-hidden mr-12 scrollbar-thin scrollbar-thumb-rounded scrollbar-thumb-white/20 dark:scrollbar-thumb-white/20 hover:scrollbar-thumb-white/25 dark:hover:scrollbar-thumb-white/25 active:scrollbar-thumb-white/25 dark:active:scrollbar-thumb-white/25" role="tablist"><button aria-selected="true" class="group flex items-center relative px-2 pt-2.5 pb-2 outline-none whitespace-nowrap font-medium text-primary-light" data-headlessui-state="selected" id="headlessui-tabs-tab-:Rlj9kql6:" role="tab" tabindex="0" type="button"><div class="px-2 rounded-lg z-10 group-hover:bg-gray-700/70 group-hover:text-primary-light">cURL</div></button><button aria-selected="false" class="group flex items-center relative px-2 pt-2.5 pb-2 outline-none whitespace-nowrap font-medium text-gray-400" data-headlessui-state="" id="headlessui-tabs-tab-:R15j9kql6:" role="tab" tabindex="-1" type="button"><div class="px-2 rounded-lg z-10 group-hover:bg-gray-700/70 group-hover:text-primary-light">Python</div></button><button aria-selected="false" class="group flex items-center relative px-2 pt-2.5 pb-2 outline-none whitespace-nowrap font-medium text-gray-400" data-headlessui-state="" id="headlessui-tabs-tab-:R1lj9kql6:" role="tab" tabindex="-1" type="button"><div class="px-2 rounded-lg z-10 group-hover:bg-gray-700/70 group-hover:text-primary-light">JavaScript</div></button><button aria-selected="false" class="group flex items-center relative px-2 pt-2.5 pb-2 outline-none whitespace-nowrap font-medium text-gray-400" data-headlessui-state="" id="headlessui-tabs-tab-:R25j9kql6:" role="tab" tabindex="-1" type="button"><div class="px-2 rounded-lg z-10 group-hover:bg-gray-700/70 group-hover:text-primary-light">PHP</div></button><button aria-selected="false" class="group flex items-center relative px-2 pt-2.5 pb-2 outline-none whitespace-nowrap font-medium text-gray-400" data-headlessui-state="" id="headlessui-tabs-tab-:R2lj9kql6:" role="tab" tabindex="-1" type="button"><div class="px-2 rounded-lg z-10 group-hover:bg-gray-700/70 group-hover:text-primary-light">Go</div></button><button aria-selected="false" class="group flex items-center relative px-2 pt-2.5 pb-2 outline-none whitespace-nowrap font-medium text-gray-400" data-headlessui-state="" id="headlessui-tabs-tab-:R35j9kql6:" role="tab" tabindex="-1" type="button"><div class="px-2 rounded-lg z-10 group-hover:bg-gray-700/70 group-hover:text-primary-light">Java</div></button></div></div><div class="flex flex-1 overflow-hidden"><div class="relative min-w-full w-full transition-[height] duration-300 ease-in-out" data-headlessui-state="selected" id="headlessui-tabs-panel-:R6j9kql6:" role="tabpanel" style="font-variant-ligatures:none;height:auto" tabindex="0"><div class="flex-none p-5 overflow-x-auto h-full scrollbar-thin scrollbar-thumb-rounded scrollbar-thumb-white/20 dark:scrollbar-thumb-white/20 hover:scrollbar-thumb-white/25 dark:hover:scrollbar-thumb-white/25 active:scrollbar-thumb-white/25 dark:active:scrollbar-thumb-white/25 text-xs leading-[1.35rem]" data-component-part="code-group-tab-content"><pre class="language-bash"><code><span class="token function">curl</span> <span class="token parameter variable">-X</span> POST https://api.anthropic.com/v1/experimental/improve_prompt <span class="token punctuation">\</span>
     <span class="token parameter variable">--header</span> <span class="token string">"x-api-key: <span class="token variable">$ANTHROPIC_API_KEY</span>"</span> <span class="token punctuation">\</span>
     <span class="token parameter variable">--header</span> <span class="token string">"anthropic-version: 2023-06-01"</span> <span class="token punctuation">\</span>
     <span class="token parameter variable">--header</span> <span class="token string">"anthropic-beta: prompt-tools-2025-04-02"</span> <span class="token punctuation">\</span>
     <span class="token parameter variable">--header</span> <span class="token string">"content-type: application/json"</span> <span class="token punctuation">\</span>
     <span class="token parameter variable">--data</span> <span class="token punctuation">\</span>
<span class="token string">'{
    "messages": [{"role": "user", "content": [{"type": "text", "text": "Create a recipe for {{food}}"}]}],
    "system": "You are a professional chef",
    "feedback": "Make it more detailed and include cooking times",
    "target_model": "claude-3-7-sonnet-20250219"
}'</span></code></pre></div></div></div></div><div class="code-group flex flex-col not-prose relative overflow-hidden rounded-2xl dark:border-gray-800/50 my-0 bg-[#0F1117] border border-transparent dark:bg-codeblock text-gray-50 codeblock-dark" id="code-group"><div class="relative border-b border-gray-900/80 bg-[#0F1117] dark:bg-codeblock" data-component-part="code-group-tab-bar"><div aria-orientation="horizontal" class="text-xs leading-6 rounded-t-xl flex overflow-x-auto overflow-y-hidden mr-12 scrollbar-thin scrollbar-thumb-rounded scrollbar-thumb-white/20 dark:scrollbar-thumb-white/20 hover:scrollbar-thumb-white/25 dark:hover:scrollbar-thumb-white/25 active:scrollbar-thumb-white/25 dark:active:scrollbar-thumb-white/25" role="tablist"><button aria-selected="true" class="group flex items-center relative px-2 pt-2.5 pb-2 outline-none whitespace-nowrap font-medium text-primary-light" data-headlessui-state="selected" id="headlessui-tabs-tab-:Rll9kql6:" role="tab" tabindex="0" type="button"><div class="px-2 rounded-lg z-10 group-hover:bg-gray-700/70 group-hover:text-primary-light">200</div></button><button aria-selected="false" class="group flex items-center relative px-2 pt-2.5 pb-2 outline-none whitespace-nowrap font-medium text-gray-400" data-headlessui-state="" id="headlessui-tabs-tab-:R15l9kql6:" role="tab" tabindex="-1" type="button"><div class="px-2 rounded-lg z-10 group-hover:bg-gray-700/70 group-hover:text-primary-light">4XX</div></button></div></div><div class="flex flex-1 overflow-hidden"><div class="relative min-w-full w-full transition-[height] duration-300 ease-in-out" data-headlessui-state="selected" id="headlessui-tabs-panel-:R6l9kql6:" role="tabpanel" style="font-variant-ligatures:none;height:auto" tabindex="0"><div class="flex-none p-5 overflow-x-auto h-full scrollbar-thin scrollbar-thumb-rounded scrollbar-thumb-white/20 dark:scrollbar-thumb-white/20 hover:scrollbar-thumb-white/25 dark:hover:scrollbar-thumb-white/25 active:scrollbar-thumb-white/25 dark:active:scrollbar-thumb-white/25 text-xs leading-[1.35rem]" data-component-part="code-group-tab-content"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">"messages"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token property">"content"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          <span class="token property">"text"</span><span class="token operator">:</span> <span class="token string">"&lt;improved prompt&gt;"</span><span class="token punctuation">,</span>
          <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"text"</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token property">"role"</span><span class="token operator">:</span> <span class="token string">"user"</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token property">"content"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          <span class="token property">"text"</span><span class="token operator">:</span> <span class="token string">"&lt;assistant prefill&gt;"</span><span class="token punctuation">,</span>
          <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"text"</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token property">"role"</span><span class="token operator">:</span> <span class="token string">"assistant"</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token property">"system"</span><span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span>
  <span class="token property">"usage"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token property">"input_tokens"</span><span class="token operator">:</span> <span class="token number">490</span><span class="token punctuation">,</span>
      <span class="token property">"output_tokens"</span><span class="token operator">:</span> <span class="token number">661</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span></code></pre></div></div></div></div></div></div></div></div></div></div></main>