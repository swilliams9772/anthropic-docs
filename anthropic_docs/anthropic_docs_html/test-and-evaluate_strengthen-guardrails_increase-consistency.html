<main class="jsx-4145347147"><div class="relative antialiased text-gray-500 dark:text-gray-400"><div class="max-w-8xl px-4 mx-auto lg:px-8"><div class="z-20 hidden lg:block fixed bottom-0 right-auto w-[18rem]" id="sidebar" style="top:7rem"><div class="absolute inset-0 z-10 stable-scrollbar-gutter overflow-auto pr-8 pb-10" id="sidebar-content"><div class="relative lg:text-sm lg:leading-6"><div id="navigation-items"><li class="list-none"><a class="link nav-anchor pl-4 group flex items-center lg:text-sm lg:leading-6 mb-5 sm:mb-4 font-semibold text-primary dark:text-primary-light" href="/en/home">Documentation</a></li><li class="list-none"><a class="link nav-anchor pl-4 group flex items-center lg:text-sm lg:leading-6 mb-5 sm:mb-4 font-medium text-gray-600 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="https://console.anthropic.com/" rel="noreferrer" target="_blank">Developer Console</a></li><li class="list-none"><a class="link nav-anchor pl-4 group flex items-center lg:text-sm lg:leading-6 mb-5 sm:mb-4 font-medium text-gray-600 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="https://www.anthropic.com/discord" rel="noreferrer" target="_blank">Developer Discord</a></li><li class="list-none"><a class="link nav-anchor pl-4 group flex items-center lg:text-sm lg:leading-6 mb-5 sm:mb-4 font-medium text-gray-600 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="https://support.anthropic.com/" rel="noreferrer" target="_blank">Support</a></li><div class="mt-12 lg:mt-8"><h5 class="pl-4 mb-3.5 lg:mb-2.5 font-semibold text-gray-900 dark:text-gray-200" id="sidebar-title">First steps</h5><ul id="sidebar-group"><li class="relative scroll-m-4 first:scroll-m-20" id="/en/docs/welcome"><a class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light gap-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="/en/docs/welcome" style="padding-left:1rem"><div class="flex-1 flex items-center space-x-2.5"><div>Intro to Claude</div></div></a></li><li class="relative scroll-m-4 first:scroll-m-20" id="/en/docs/get-started"><a class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light gap-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="/en/docs/get-started" style="padding-left:1rem"><div class="flex-1 flex items-center space-x-2.5"><div>Get started</div></div></a></li></ul></div><div class="mt-12 lg:mt-8"><h5 class="pl-4 mb-3.5 lg:mb-2.5 font-semibold text-gray-900 dark:text-gray-200" id="sidebar-title">Models &amp; pricing</h5><ul id="sidebar-group"><li class="relative scroll-m-4 first:scroll-m-20" id="/en/docs/about-claude/models/overview"><a class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light gap-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="/en/docs/about-claude/models/overview" style="padding-left:1rem"><div class="flex-1 flex items-center space-x-2.5"><div>Models overview</div></div></a></li><li class="relative scroll-m-4 first:scroll-m-20" id="/en/docs/about-claude/models/choosing-a-model"><a class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light gap-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="/en/docs/about-claude/models/choosing-a-model" style="padding-left:1rem"><div class="flex-1 flex items-center space-x-2.5"><div>Choosing a model</div></div></a></li><li class="relative scroll-m-4 first:scroll-m-20" id="/en/docs/about-claude/models/migrating-to-claude-4"><a class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light gap-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="/en/docs/about-claude/models/migrating-to-claude-4" style="padding-left:1rem"><div class="flex-1 flex items-center space-x-2.5"><div>Migrating to Claude 4</div></div></a></li><li class="relative scroll-m-4 first:scroll-m-20" id="/en/docs/about-claude/model-deprecations"><a class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light gap-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="/en/docs/about-claude/model-deprecations" style="padding-left:1rem"><div class="flex-1 flex items-center space-x-2.5"><div>Model deprecations</div></div></a></li><li class="relative scroll-m-4 first:scroll-m-20" id="/en/docs/about-claude/pricing"><a class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light gap-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="/en/docs/about-claude/pricing" style="padding-left:1rem"><div class="flex-1 flex items-center space-x-2.5"><div>Pricing</div></div></a></li></ul></div><div class="mt-12 lg:mt-8"><h5 class="pl-4 mb-3.5 lg:mb-2.5 font-semibold text-gray-900 dark:text-gray-200" id="sidebar-title">Learn about Claude</h5><ul id="sidebar-group"><li class="relative scroll-m-4 first:scroll-m-20" id="/en/docs/overview"><a class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light gap-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="/en/docs/overview" style="padding-left:1rem"><div class="flex-1 flex items-center space-x-2.5"><div>Building with Claude</div></div></a></li><li><div class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light gap-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" style="padding-left:1rem"><div class="">Use cases</div></div></li><li class="relative scroll-m-4 first:scroll-m-20" id="/en/docs/build-with-claude/context-windows"><a class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light gap-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="/en/docs/build-with-claude/context-windows" style="padding-left:1rem"><div class="flex-1 flex items-center space-x-2.5"><div>Context windows</div></div></a></li><li class="relative scroll-m-4 first:scroll-m-20" id="/en/docs/about-claude/glossary"><a class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light gap-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="/en/docs/about-claude/glossary" style="padding-left:1rem"><div class="flex-1 flex items-center space-x-2.5"><div>Glossary</div></div></a></li><li><div class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light gap-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" style="padding-left:1rem"><div class="">Prompt engineering</div></div></li></ul></div><div class="mt-12 lg:mt-8"><h5 class="pl-4 mb-3.5 lg:mb-2.5 font-semibold text-gray-900 dark:text-gray-200" id="sidebar-title">Explore features</h5><ul id="sidebar-group"><li class="relative scroll-m-4 first:scroll-m-20" id="/en/docs/build-with-claude/overview"><a class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light gap-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="/en/docs/build-with-claude/overview" style="padding-left:1rem"><div class="flex-1 flex items-center space-x-2.5"><div>Features overview</div></div></a></li><li class="relative scroll-m-4 first:scroll-m-20" id="/en/docs/build-with-claude/prompt-caching"><a class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light gap-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="/en/docs/build-with-claude/prompt-caching" style="padding-left:1rem"><div class="flex-1 flex items-center space-x-2.5"><div>Prompt caching</div></div></a></li><li class="relative scroll-m-4 first:scroll-m-20" id="/en/docs/build-with-claude/extended-thinking"><a class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light gap-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="/en/docs/build-with-claude/extended-thinking" style="padding-left:1rem"><div class="flex-1 flex items-center space-x-2.5"><div>Extended thinking</div></div></a></li><li class="relative scroll-m-4 first:scroll-m-20" id="/en/docs/build-with-claude/streaming"><a class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light gap-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="/en/docs/build-with-claude/streaming" style="padding-left:1rem"><div class="flex-1 flex items-center space-x-2.5"><div>Streaming Messages</div></div></a></li><li class="relative scroll-m-4 first:scroll-m-20" id="/en/docs/build-with-claude/batch-processing"><a class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light gap-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="/en/docs/build-with-claude/batch-processing" style="padding-left:1rem"><div class="flex-1 flex items-center space-x-2.5"><div>Batch processing</div></div></a></li><li class="relative scroll-m-4 first:scroll-m-20" id="/en/docs/build-with-claude/citations"><a class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light gap-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="/en/docs/build-with-claude/citations" style="padding-left:1rem"><div class="flex-1 flex items-center space-x-2.5"><div>Citations</div></div></a></li><li class="relative scroll-m-4 first:scroll-m-20" id="/en/docs/build-with-claude/multilingual-support"><a class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light gap-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="/en/docs/build-with-claude/multilingual-support" style="padding-left:1rem"><div class="flex-1 flex items-center space-x-2.5"><div>Multilingual support</div></div></a></li><li class="relative scroll-m-4 first:scroll-m-20" id="/en/docs/build-with-claude/token-counting"><a class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light gap-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="/en/docs/build-with-claude/token-counting" style="padding-left:1rem"><div class="flex-1 flex items-center space-x-2.5"><div>Token counting</div></div></a></li><li class="relative scroll-m-4 first:scroll-m-20" id="/en/docs/build-with-claude/embeddings"><a class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light gap-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="/en/docs/build-with-claude/embeddings" style="padding-left:1rem"><div class="flex-1 flex items-center space-x-2.5"><div>Embeddings</div></div></a></li><li class="relative scroll-m-4 first:scroll-m-20" id="/en/docs/build-with-claude/vision"><a class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light gap-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="/en/docs/build-with-claude/vision" style="padding-left:1rem"><div class="flex-1 flex items-center space-x-2.5"><div>Vision</div></div></a></li><li class="relative scroll-m-4 first:scroll-m-20" id="/en/docs/build-with-claude/pdf-support"><a class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light gap-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="/en/docs/build-with-claude/pdf-support" style="padding-left:1rem"><div class="flex-1 flex items-center space-x-2.5"><div>PDF support</div></div></a></li></ul></div><div class="mt-12 lg:mt-8"><h5 class="pl-4 mb-3.5 lg:mb-2.5 font-semibold text-gray-900 dark:text-gray-200" id="sidebar-title">Agent components</h5><ul id="sidebar-group"><li><div class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light gap-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" style="padding-left:1rem"><div class="">Tools</div></div></li><li><div class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light gap-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" style="padding-left:1rem"><div class="">Model Context Protocol (MCP)</div></div></li><li class="relative scroll-m-4 first:scroll-m-20" id="/en/docs/agents-and-tools/computer-use"><a class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light gap-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="/en/docs/agents-and-tools/computer-use" style="padding-left:1rem"><div class="flex-1 flex items-center space-x-2.5"><div>Computer use (beta)</div></div></a></li><li class="relative scroll-m-4 first:scroll-m-20" id="/en/docs/agents-and-tools/claude-for-sheets"><a class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light gap-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="/en/docs/agents-and-tools/claude-for-sheets" style="padding-left:1rem"><div class="flex-1 flex items-center space-x-2.5"><div>Google Sheets add-on</div></div></a></li></ul></div><div class="mt-12 lg:mt-8"><h5 class="pl-4 mb-3.5 lg:mb-2.5 font-semibold text-gray-900 dark:text-gray-200" id="sidebar-title">Test &amp; evaluate</h5><ul id="sidebar-group"><li class="relative scroll-m-4 first:scroll-m-20" id="/en/docs/test-and-evaluate/define-success"><a class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light gap-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="/en/docs/test-and-evaluate/define-success" style="padding-left:1rem"><div class="flex-1 flex items-center space-x-2.5"><div>Define success criteria</div></div></a></li><li class="relative scroll-m-4 first:scroll-m-20" id="/en/docs/test-and-evaluate/develop-tests"><a class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light gap-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="/en/docs/test-and-evaluate/develop-tests" style="padding-left:1rem"><div class="flex-1 flex items-center space-x-2.5"><div>Develop test cases</div></div></a></li><li><div class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light gap-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" style="padding-left:1rem"><div class="">Strengthen guardrails</div></div><ul><li class="relative scroll-m-4 first:scroll-m-20" id="/en/docs/test-and-evaluate/strengthen-guardrails/reduce-hallucinations"><a class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light gap-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="/en/docs/test-and-evaluate/strengthen-guardrails/reduce-hallucinations" style="padding-left:1.75rem"><div class="flex-1 flex items-center space-x-2.5"><div>Reduce hallucinations</div></div></a></li><li class="relative scroll-m-4 first:scroll-m-20" id="/en/docs/test-and-evaluate/strengthen-guardrails/increase-consistency"><a class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light gap-x-3 rounded-xl bg-primary/10 text-primary font-semibold dark:text-primary-light dark:bg-primary-light/10" href="/en/docs/test-and-evaluate/strengthen-guardrails/increase-consistency" style="padding-left:1.75rem"><div class="flex-1 flex items-center space-x-2.5"><div>Increase output consistency</div></div></a></li><li class="relative scroll-m-4 first:scroll-m-20" id="/en/docs/test-and-evaluate/strengthen-guardrails/mitigate-jailbreaks"><a class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light gap-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="/en/docs/test-and-evaluate/strengthen-guardrails/mitigate-jailbreaks" style="padding-left:1.75rem"><div class="flex-1 flex items-center space-x-2.5"><div>Mitigate jailbreaks</div></div></a></li><li class="relative scroll-m-4 first:scroll-m-20" id="/en/docs/test-and-evaluate/strengthen-guardrails/handle-streaming-refusals"><a class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light gap-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="/en/docs/test-and-evaluate/strengthen-guardrails/handle-streaming-refusals" style="padding-left:1.75rem"><div class="flex-1 flex items-center space-x-2.5"><div>Streaming refusals</div></div></a></li><li class="relative scroll-m-4 first:scroll-m-20" id="/en/docs/test-and-evaluate/strengthen-guardrails/reduce-prompt-leak"><a class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light gap-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="/en/docs/test-and-evaluate/strengthen-guardrails/reduce-prompt-leak" style="padding-left:1.75rem"><div class="flex-1 flex items-center space-x-2.5"><div>Reduce prompt leak</div></div></a></li><li class="relative scroll-m-4 first:scroll-m-20" id="/en/docs/test-and-evaluate/strengthen-guardrails/keep-claude-in-character"><a class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light gap-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="/en/docs/test-and-evaluate/strengthen-guardrails/keep-claude-in-character" style="padding-left:1.75rem"><div class="flex-1 flex items-center space-x-2.5"><div>Keep Claude in character</div></div></a></li><li class="relative scroll-m-4 first:scroll-m-20" id="/en/docs/test-and-evaluate/strengthen-guardrails/reduce-latency"><a class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light gap-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="/en/docs/test-and-evaluate/strengthen-guardrails/reduce-latency" style="padding-left:1.75rem"><div class="flex-1 flex items-center space-x-2.5"><div>Reducing latency</div></div></a></li></ul></li><li class="relative scroll-m-4 first:scroll-m-20" id="/en/docs/test-and-evaluate/eval-tool"><a class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light gap-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="/en/docs/test-and-evaluate/eval-tool" style="padding-left:1rem"><div class="flex-1 flex items-center space-x-2.5"><div>Using the Evaluation Tool</div></div></a></li></ul></div><div class="mt-12 lg:mt-8"><h5 class="pl-4 mb-3.5 lg:mb-2.5 font-semibold text-gray-900 dark:text-gray-200" id="sidebar-title">Legal center</h5><ul id="sidebar-group"><li class="relative scroll-m-4 first:scroll-m-20" id="https://www.anthropic.com/legal/privacy"><a class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light gap-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="https://www.anthropic.com/legal/privacy" style="padding-left:1rem" target="_blank"><div class="flex-1 flex items-center space-x-2.5"><div>Anthropic Privacy Policy</div></div></a></li><li class="relative scroll-m-4 first:scroll-m-20" id="https://trust.anthropic.com/"><a class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light gap-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="https://trust.anthropic.com/" style="padding-left:1rem" target="_blank"><div class="flex-1 flex items-center space-x-2.5"><div>Security and compliance</div></div></a></li></ul></div></div></div></div></div><div class="" id="content-container"><div class="flex flex-row gap-12 box-border w-full pt-40 lg:pt-10"><div class="relative grow box-border flex-col w-full mx-auto px-1 lg:pl-[23.7rem] lg:-ml-12 xl:w-[calc(100%-28rem)]" id="content-area"><div class="mdx-content relative mt-8 prose prose-gray dark:prose-invert"><p>Here’s how to make Claude’s responses more consistent:</p>
<h2 class="flex whitespace-pre-wrap group font-semibold" id="specify-the-desired-output-format"><div class="absolute"><a aria-label="Navigate to header" class="-ml-10 flex items-center opacity-0 border-0 group-hover:opacity-100" href="#specify-the-desired-output-format">​</a></div><span class="cursor-pointer">Specify the desired output format</span></h2>
<p>Precisely define your desired output format using JSON, XML, or custom templates so that Claude understands every output formatting element you require.</p>
<div class="accordion border-standard rounded-2xl mb-3 overflow-hidden bg-background-light dark:bg-codeblock cursor-default" role="button"><button aria-controls="example-standardizing-customer-feedback accordion children" aria-expanded="false" class="relative not-prose flex flex-row items-center content-center w-full py-4 px-5 space-x-2 hover:bg-gray-100 hover:dark:bg-gray-800 rounded-t-xl" data-component-part="accordion-button"><div class="leading-tight text-left" contenteditable="false" data-component-part="accordion-title-container"><p class="m-0 font-medium text-gray-900 dark:text-gray-200" data-component-part="accordion-title">Example: Standardizing customer feedback</p></div></button><div class="mt-2 mb-4 mx-6 hidden overflow-x-auto cursor-default" data-component-part="accordion-content" id="example-standardizing-customer-feedback accordion children" role="contentinfo"><table><thead><tr><th>Role</th><th>Content</th></tr></thead><tbody><tr><td>User</td><td>You’re a Customer Insights AI. Analyze this feedback and output in JSON format with keys: “sentiment” (positive/negative/neutral), “key_issues” (list), and “action_items” (list of dicts with “team” and “task”).”I’ve been a loyal user for 3 years, but the recent UI update is a disaster. Finding basic features is now a scavenger hunt. Plus, the new ‘premium’ pricing is outrageous. I’m considering switching unless this is fixed ASAP.”</td></tr><tr><td>Assistant</td><td>{  “sentiment”: “negative”,  “key_issues”: [    “Poor UI/UX in recent update”,    “Difficulty finding basic features”,    “Perceived high pricing (new ‘premium’ tier)”  ],  “action_items”: [    {      “team”: “Product”,      “task”: “Conduct usability testing and iterate on UI based on findings”    },    {      “team”: “UX”,      “task”: “Create a feature discovery guide or onboarding flow”    },    {      “team”: “Marketing”,      “task”: “Review pricing strategy and communicate value proposition”    },    {      “team”: “Customer Success”,      “task”: “Reach out to user, offer concessions to prevent churn”    }  ]}</td></tr></tbody></table></div></div>
<h2 class="flex whitespace-pre-wrap group font-semibold" id="prefill-claude%E2%80%99s-response"><div class="absolute"><a aria-label="Navigate to header" class="-ml-10 flex items-center opacity-0 border-0 group-hover:opacity-100" href="#prefill-claude%E2%80%99s-response">​</a></div><span class="cursor-pointer">Prefill Claude’s response</span></h2>
<p>Prefill the <code>Assistant</code> turn with your desired format. This trick bypasses Claude’s friendly preamble and enforces your structure.</p>
<div class="accordion border-standard rounded-2xl mb-3 overflow-hidden bg-background-light dark:bg-codeblock cursor-default" role="button"><button aria-controls="example-daily-sales-report accordion children" aria-expanded="false" class="relative not-prose flex flex-row items-center content-center w-full py-4 px-5 space-x-2 hover:bg-gray-100 hover:dark:bg-gray-800 rounded-t-xl" data-component-part="accordion-button"><div class="leading-tight text-left" contenteditable="false" data-component-part="accordion-title-container"><p class="m-0 font-medium text-gray-900 dark:text-gray-200" data-component-part="accordion-title">Example: Daily sales report</p></div></button><div class="mt-2 mb-4 mx-6 hidden overflow-x-auto cursor-default" data-component-part="accordion-content" id="example-daily-sales-report accordion children" role="contentinfo"><table><thead><tr><th>Role</th><th>Content</th></tr></thead><tbody><tr><td>User</td><td>You’re an insightful Sales Intelligence AI. Generate today’s sales report.Structure the report like this:&lt;report&gt;    &lt;summary&gt;        &lt;metric name=“total_revenue”&gt;$0.00&lt;/metric&gt;        &lt;metric name=“units_sold”&gt;0&lt;/metric&gt;        &lt;metric name=“avg_order_value”&gt;$0.00&lt;/metric&gt;    &lt;/summary&gt;    &lt;top_products&gt;        &lt;product&gt;            &lt;name&gt;Product Name&lt;/name&gt;            &lt;revenue&gt;$0.00&lt;/revenue&gt;            &lt;units&gt;0&lt;/units&gt;        &lt;/product&gt;        …    &lt;/top_products&gt;    &lt;regional_performance&gt;        &lt;region&gt;            &lt;name&gt;Region Name&lt;/name&gt;            &lt;revenue&gt;$0.00&lt;/revenue&gt;            &lt;growth&gt;0.0%&lt;/growth&gt;        &lt;/region&gt;        …    &lt;/regional_performance&gt;    &lt;action_items&gt;        &lt;item&gt;Action item.&lt;/item&gt;        …    &lt;/action_items&gt;&lt;/report&gt;</td></tr><tr><td>Assistant (prefill)</td><td>&lt;report&gt;    &lt;summary&gt;        &lt;metric name=</td></tr><tr><td>Assistant</td><td>”total_revenue”&gt;$842,567.00&lt;/metric&gt;        &lt;metric name=“units_sold”&gt;15,238&lt;/metric&gt;        &lt;metric name=“avg_order_value”&gt;$55.29&lt;/metric&gt;    &lt;/summary&gt;    &lt;top_products&gt;        &lt;product&gt;            &lt;name&gt;AcmeGuard Pro&lt;/name&gt;            &lt;revenue&gt;$325,890.00&lt;/revenue&gt;            &lt;units&gt;3,621&lt;/units&gt;        &lt;/product&gt;        &lt;product&gt;            &lt;name&gt;AcmeVault Enterprise&lt;/name&gt;            &lt;revenue&gt;$254,400.00&lt;/revenue&gt;            &lt;units&gt;1,272&lt;/units&gt;        &lt;/product&gt;        &lt;product&gt;            &lt;name&gt;AcmeBoost XL&lt;/name&gt;            &lt;revenue&gt;$147,690.00&lt;/revenue&gt;            &lt;units&gt;4,923&lt;/units&gt;        &lt;/product&gt;    &lt;/top_products&gt;    &lt;regional_performance&gt;        &lt;region&gt;            &lt;name&gt;APAC&lt;/name&gt;            &lt;revenue&gt;$258,960.00&lt;/revenue&gt;            &lt;growth&gt;12.8%&lt;/growth&gt;        &lt;/region&gt;        &lt;region&gt;            &lt;name&gt;EMEA&lt;/name&gt;            &lt;revenue&gt;$325,478.00&lt;/revenue&gt;            &lt;growth&gt;3.2%&lt;/growth&gt;        &lt;/region&gt;        &lt;region&gt;            &lt;name&gt;Americas&lt;/name&gt;            &lt;revenue&gt;$258,129.00&lt;/revenue&gt;            &lt;growth&gt;-2.1%&lt;/growth&gt;        &lt;/region&gt;    &lt;/regional_performance&gt;    &lt;action_items&gt;        &lt;item&gt;Investigate Americas revenue drop; schedule regional sales team meeting.&lt;/item&gt;        &lt;item&gt;Accelerate CloudGuard Pro rollout in APAC to capitalize on growth.&lt;/item&gt;        &lt;item&gt;Review NetBoost XL pricing; high volume but lower revenue.&lt;/item&gt;    &lt;/action_items&gt;&lt;/report&gt;</td></tr></tbody></table></div></div>
<h2 class="flex whitespace-pre-wrap group font-semibold" id="constrain-with-examples"><div class="absolute"><a aria-label="Navigate to header" class="-ml-10 flex items-center opacity-0 border-0 group-hover:opacity-100" href="#constrain-with-examples">​</a></div><span class="cursor-pointer">Constrain with examples</span></h2>
<p>Provide examples of your desired output. This trains Claude’s understanding better than abstract instructions.</p>
<div class="accordion border-standard rounded-2xl mb-3 overflow-hidden bg-background-light dark:bg-codeblock cursor-default" role="button"><button aria-controls="example-generating-consistent-market-intelligence accordion children" aria-expanded="false" class="relative not-prose flex flex-row items-center content-center w-full py-4 px-5 space-x-2 hover:bg-gray-100 hover:dark:bg-gray-800 rounded-t-xl" data-component-part="accordion-button"><div class="leading-tight text-left" contenteditable="false" data-component-part="accordion-title-container"><p class="m-0 font-medium text-gray-900 dark:text-gray-200" data-component-part="accordion-title">Example: Generating consistent market intelligence</p></div></button><div class="mt-2 mb-4 mx-6 hidden overflow-x-auto cursor-default" data-component-part="accordion-content" id="example-generating-consistent-market-intelligence accordion children" role="contentinfo"><table><thead><tr><th>Role</th><th>Content</th></tr></thead><tbody><tr><td>User</td><td>As a Market Intelligence AI, your task is to analyze data about our competitors. Here is our competitor data:&lt;data&gt;{{DATA}}&lt;/data&gt;Output following this example format:&lt;competitor&gt;  &lt;name&gt;Rival Inc&lt;/name&gt;  &lt;overview&gt;A 50-word summary.&lt;/overview&gt;  &lt;swot&gt;    &lt;strengths&gt;- Bullet points&lt;/strengths&gt;    &lt;weaknesses&gt;- Bullet points&lt;/weaknesses&gt;    &lt;opportunities&gt;- Bullet points&lt;/opportunities&gt;    &lt;threats&gt;- Bullet points&lt;/threats&gt;  &lt;/swot&gt;  &lt;strategy&gt;A 30-word strategic response.&lt;/strategy&gt;&lt;/competitor&gt;Now, analyze AcmeGiant and AcmeDataCo using this format.</td></tr><tr><td>Assistant</td><td>&lt;competitor&gt;  &lt;name&gt;AcmeGiant&lt;/name&gt;  &lt;overview&gt;Global tech leader with a vast ecosystem of consumer and enterprise products. Known for innovation, strong brand, and deep customer lock-in through integrated hardware, software, and services.&lt;/overview&gt;  &lt;swot&gt;    &lt;strengths&gt;      - Massive R&amp;D budget fuels continuous innovation      - Loyal customer base and powerful brand recognition      - Synergistic product ecosystem increases switching costs    &lt;/strengths&gt;    &lt;weaknesses&gt;      - High prices may deter cost-sensitive customers      - Slow to address enterprise-specific customization needs      - Privacy concerns and regulatory scrutiny in multiple markets    &lt;/weaknesses&gt;    &lt;opportunities&gt;      - Growing demand for AI and ML capabilities      - Expansion into emerging markets      - Acquisitions to fill product or talent gaps    &lt;/opportunities&gt;    &lt;threats&gt;      - Rapid rise of cloud-native competitors      - Antitrust lawsuits and regulatory actions      - Talent poaching by startups and competitors    &lt;/threats&gt;  &lt;/swot&gt;  &lt;strategy&gt;Focus on our agility and customization. Target TechGiant’s slow enterprise response and privacy issues in our marketing.&lt;/strategy&gt;&lt;/competitor&gt;&lt;competitor&gt;  &lt;name&gt;AcmeDataCo&lt;/name&gt;  &lt;overview&gt;Rising star in data analytics and visualization. Offers intuitive, self-service BI tools with a freemium model, appealing to startups and enterprise teams alike.&lt;/overview&gt;  &lt;swot&gt;    &lt;strengths&gt;      - User-friendly interface reduces need for specialized training      - Freemium model lowers barrier to entry, drives viral growth      - Strong product-market fit with rise of data-driven decisions    &lt;/strengths&gt;    &lt;weaknesses&gt;      - Limited advanced analytics compared to established BI tools      - Scaling issues reported with very large datasets      - Dependent on third-party cloud infrastructure (AWS)    &lt;/weaknesses&gt;    &lt;opportunities&gt;      - Expanding into predictive analytics and AI-driven insights      - Forming strategic alliances with complementary tech vendors      - Customizable dashboards for industry-specific solutions    &lt;/opportunities&gt;    &lt;threats&gt;      - Market saturation; many new entrants in self-service BI      - Enterprise BI giants developing more user-friendly tools      - Data privacy regulations increasing compliance complexity    &lt;/threats&gt;  &lt;/swot&gt;  &lt;strategy&gt;Highlight our robust enterprise features and data governance. Target accounts struggling with DataCo’s scale limitations.&lt;/strategy&gt;&lt;/competitor&gt;</td></tr></tbody></table></div></div>
<h2 class="flex whitespace-pre-wrap group font-semibold" id="use-retrieval-for-contextual-consistency"><div class="absolute"><a aria-label="Navigate to header" class="-ml-10 flex items-center opacity-0 border-0 group-hover:opacity-100" href="#use-retrieval-for-contextual-consistency">​</a></div><span class="cursor-pointer">Use retrieval for contextual consistency</span></h2>
<p>For tasks requiring consistent context (e.g., chatbots, knowledge bases), use retrieval to ground Claude’s responses in a fixed information set.</p>
<div class="accordion border-standard rounded-2xl mb-3 overflow-hidden bg-background-light dark:bg-codeblock cursor-default" role="button"><button aria-controls="example-enhancing-it-support-consistency accordion children" aria-expanded="false" class="relative not-prose flex flex-row items-center content-center w-full py-4 px-5 space-x-2 hover:bg-gray-100 hover:dark:bg-gray-800 rounded-t-xl" data-component-part="accordion-button"><div class="leading-tight text-left" contenteditable="false" data-component-part="accordion-title-container"><p class="m-0 font-medium text-gray-900 dark:text-gray-200" data-component-part="accordion-title">Example: Enhancing IT support consistency</p></div></button><div class="mt-2 mb-4 mx-6 hidden overflow-x-auto cursor-default" data-component-part="accordion-content" id="example-enhancing-it-support-consistency accordion children" role="contentinfo"><table><thead><tr><th>Role</th><th>Content</th></tr></thead><tbody><tr><td>User</td><td>You’re our IT Support AI that draws on knowledge base data. Here are entries from your knowledge base:&lt;kb&gt;  &lt;entry&gt;    &lt;id&gt;1&lt;/id&gt;    &lt;title&gt;Reset Active Directory password&lt;/title&gt;    &lt;content&gt;1. Go to password.ourcompany.com2. Enter your username3. Click “Forgot Password”4. Follow email instructions&lt;/content&gt;  &lt;/entry&gt;  &lt;entry&gt;    &lt;id&gt;2&lt;/id&gt;    &lt;title&gt;Connect to VPN&lt;/title&gt;    &lt;content&gt;1. Install GlobalProtect from software center2. Open GlobalProtect, enter “vpn.ourcompany.com”3. Use AD credentials to log in&lt;/content&gt;  &lt;/entry&gt;&lt;/kb&gt;When helping users, always check the knowledge base first. Respond in this format:&lt;response&gt;  &lt;kb_entry&gt;Knowledge base entry used&lt;/kb_entry&gt;  &lt;answer&gt;Your response&lt;/answer&gt;&lt;/response&gt; Write some test questions for yourself and answer them using the knowledge base, just to make sure you understand how to use the knowledge base properly.</td></tr><tr><td>Assistant</td><td>Understood. I’ll use the knowledge base for consistent responses. Let’s test with a couple of scenarios.User: Hey, I can’t log into my email. I think I forgot my password.&lt;response&gt;  &lt;kb_entry&gt;1: Reset Active Directory password&lt;/entry&gt;  &lt;answer&gt;I understand you’re having trouble logging into your email due to a forgotten password. No worries, this is a common issue. To reset your Active Directory password, which is used for email access, follow these steps:1. Go to password.ourcompany.com2. Enter your username (same as your email address)3. Click on the “Forgot Password” link4. You’ll receive an email with instructions. Follow them to reset your password.After resetting, you should be able to log into your email. Let me know if you need any further assistance.&lt;/answer&gt;&lt;/response&gt;User: I’m working from home today. How do I access internal resources?&lt;response&gt;  &lt;kb_entry&gt;2: Connect to VPN&lt;/entry&gt;  &lt;answer&gt;Great question! To access internal resources while working from home, you’ll need to connect to our company VPN (Virtual Private Network). Here’s how to set that up:1. First, install the GlobalProtect VPN client. You can find this in our software center.2. Once installed, open the GlobalProtect application.3. In the server field, enter “vpn.ourcompany.com”.4. Use your Active Directory (AD) credentials to log in - the same username and password you use for your email.Once connected, you’ll have secure access to all internal resources as if you were in the office. Let me know if you run into any issues during setup.&lt;/answer&gt;&lt;/response&gt;</td></tr></tbody></table></div></div>
<h2 class="flex whitespace-pre-wrap group font-semibold" id="chain-prompts-for-complex-tasks"><div class="absolute"><a aria-label="Navigate to header" class="-ml-10 flex items-center opacity-0 border-0 group-hover:opacity-100" href="#chain-prompts-for-complex-tasks">​</a></div><span class="cursor-pointer">Chain prompts for complex tasks</span></h2>
<p>Break down complex tasks into smaller, consistent subtasks. Each subtask gets Claude’s full attention, reducing inconsistency errors across scaled workflows.</p></div><div class="leading-6 mt-14"><div class="feedback-toolbar pb-16 w-full"><div class="flex flex-col gap-y-4 xl:flex-col xl:gap-6 min-[1400px]:flex-row md:flex-row md:justify-end"><div class="flex flex-row gap-5 items-center grow justify-between md:justify-start xl:justify-between min-[1400px]:justify-start"><p class="text-sm text-gray-600 dark:text-gray-400">Was this page helpful?</p><div class="flex flex-row gap-3 items-center"><button class="px-3.5 py-2 flex flex-row gap-3 items-center border-standard rounded-xl text-gray-600 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 bg-white/50 dark:bg-codeblock/50 hover:border-gray-500 hover:dark:border-gray-500"><small class="text-sm font-normal leading-4">Yes</small></button><button class="px-3.5 py-2 flex flex-row gap-3 items-center border-standard rounded-xl text-gray-600 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 bg-white/50 dark:bg-codeblock/50 hover:border-gray-500 hover:dark:border-gray-500"><small class="text-sm font-normal leading-4">No</small></button></div></div></div></div><div class="mb-12 px-0.5 flex items-center text-sm font-semibold text-gray-700 dark:text-gray-200" id="pagination"><a class="flex items-center space-x-3 group" href="/en/docs/test-and-evaluate/strengthen-guardrails/reduce-hallucinations"><span class="group-hover:text-gray-900 dark:group-hover:text-white">Reduce hallucinations</span></a><a class="flex items-center ml-auto space-x-3 group" href="/en/docs/test-and-evaluate/strengthen-guardrails/mitigate-jailbreaks"><span class="group-hover:text-gray-900 dark:group-hover:text-white">Mitigate jailbreaks</span></a></div></div></div><div class="hidden xl:flex self-start sticky xl:flex-col h-[calc(100vh-9.5rem)] top-[9.5rem]" id="content-side-layout"><div class="z-10 hidden xl:flex pl-10 box-border w-[19rem] max-h-full" id="table-of-contents-layout"><div class="text-gray-600 text-sm leading-6 w-[16.5rem] overflow-y-auto space-y-2 pb-4 -mt-10 pt-10" id="table-of-contents"><div class="text-gray-700 dark:text-gray-300 font-medium flex items-center space-x-2"><span>On this page</span></div></div></div></div></div></div></div></div></main>