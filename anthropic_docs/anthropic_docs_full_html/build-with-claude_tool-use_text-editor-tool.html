<!DOCTYPE html>
<html class="dark" lang="en"><head><meta charset="utf-8"/><meta content="width=device-width" name="viewport"/><link href="https://mintlify.s3-us-west-1.amazonaws.com/anthropic/_generated/favicon/apple-touch-icon.png?v=3" rel="apple-touch-icon" sizes="180x180" type="image/png"/><link href="https://mintlify.s3-us-west-1.amazonaws.com/anthropic/_generated/favicon/favicon-32x32.png?v=3" rel="icon" sizes="32x32" type="image/png"/><link href="https://mintlify.s3-us-west-1.amazonaws.com/anthropic/_generated/favicon/favicon-16x16.png?v=3" rel="icon" sizes="16x16" type="image/png"/><link href="https://mintlify.s3-us-west-1.amazonaws.com/anthropic/_generated/favicon/favicon.ico?v=3" rel="shortcut icon" type="image/x-icon"/><meta content="https://mintlify.s3-us-west-1.amazonaws.com/anthropic/_generated/favicon/browserconfig.xml?v=3" name="msapplication-config"/><meta content="Anthropic" name="apple-mobile-web-app-title"/><meta content="Anthropic" name="application-name"/><meta content="#0E0E0E" name="msapplication-TileColor"/><meta content="#ffffff" name="theme-color"/><link href="/sitemap.xml" rel="sitemap" type="application/xml"/><meta content="utf-8" name="charset"/><meta content="website" name="og:type"/><meta content="Anthropic" name="og:site_name"/><meta content="summary_large_image" name="twitter:card"/><meta content="Text editor tool - Anthropic" name="og:title"/><meta content="Text editor tool - Anthropic" name="twitter:title"/><meta content="https://mintlify.com/docs/api/og?division=Documentation&amp;mode=light&amp;title=Text+editor+tool&amp;logoLight=https%3A%2F%2Fmintlify.s3.us-west-1.amazonaws.com%2Fanthropic%2Flogo%2Flight.svg&amp;logoDark=https%3A%2F%2Fmintlify.s3.us-west-1.amazonaws.com%2Fanthropic%2Flogo%2Fdark.svg&amp;primaryColor=%230E0E0E&amp;lightColor=%23D4A27F&amp;darkColor=%230E0E0E" name="og:image"/><meta content="https://mintlify.com/docs/api/og?division=Documentation&amp;mode=light&amp;title=Text+editor+tool&amp;logoLight=https%3A%2F%2Fmintlify.s3.us-west-1.amazonaws.com%2Fanthropic%2Flogo%2Flight.svg&amp;logoDark=https%3A%2F%2Fmintlify.s3.us-west-1.amazonaws.com%2Fanthropic%2Flogo%2Fdark.svg&amp;primaryColor=%230E0E0E&amp;lightColor=%23D4A27F&amp;darkColor=%230E0E0E" name="twitter:image"/><title>Text editor tool - Anthropic</title><meta content="/en/docs/build-with-claude/tool-use/text-editor-tool" name="og:url"/><link href="/en/docs/build-with-claude/tool-use/text-editor-tool" rel="canonical"/><meta content="23" name="next-head-count"/><link crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/katex@0.16.0/dist/katex.min.css" integrity="sha384-Xi8rHCmBmhbuyyhbI88391ZKP2dmfnOl4rT9ZfRI7mLTdk1wblIUnrIq35nqwEvC" rel="stylesheet"/><link as="font" crossorigin="anonymous" data-next-font="size-adjust" href="/_next/static/media/a34f9d1faa5f3315-s.p.woff2" rel="preload" type="font/woff2"/><link as="font" crossorigin="anonymous" data-next-font="size-adjust" href="/_next/static/media/bb3ef058b751a6ad-s.p.woff2" rel="preload" type="font/woff2"/><link as="style" href="/_next/static/css/dc50e134f609f53d.css" rel="preload"/><link data-n-g="" href="/_next/static/css/dc50e134f609f53d.css" rel="stylesheet"/><noscript data-n-css=""></noscript></head><div id="__next"><main class="jsx-4145347147"><div class="relative antialiased text-gray-500 dark:text-gray-400"><div class="z-30 fixed lg:sticky top-0 w-full" id="navbar"><div class="max-w-8xl mx-auto relative"><div class=""><div class="relative"><div class="flex items-center lg:px-12 h-16 min-w-0 mx-4 lg:mx-0"><div class="h-full relative flex-1 flex items-center gap-x-4 min-w-0 border-b border-gray-500/5 dark:border-gray-300/[0.06]"><div class="flex-1 flex items-center gap-x-4"><a href="/"><span class="sr-only">Anthropic<!-- --> home page</span></a><div class="flex items-center gap-x-2"><button aria-expanded="false" aria-haspopup="menu" class="group bg-background-light dark:bg-background-dark disabled:pointer-events-none [&amp;&gt;span]:line-clamp-1 overflow-hidden group outline-none group-hover:text-zinc-950/70 dark:group-hover:text-white/70 text-xs gap-1.5 text-gray-500 dark:text-gray-400 leading-5 font-semibold border border-gray-200 dark:border-gray-800 hover:border-gray-300 dark:hover:border-gray-700 rounded-full py-1 px-3 flex items-center space-x-2 whitespace-nowrap" data-state="closed" id="radix-:R25fcql6:" type="button">English</button></div></div><div class="hidden lg:block mx-px relative flex-1 bg-white dark:bg-gray-900 pointer-events-auto rounded-xl min-w-0"><button class="w-full flex items-center text-sm leading-6 rounded-xl py-1.5 pl-3.5 pr-3 shadow-sm text-gray-400 dark:text-white/50 bg-background-light dark:bg-background-dark dark:brightness-[1.1] dark:ring-1 dark:hover:brightness-[1.25] ring-1 ring-gray-400/20 hover:ring-gray-600/25 dark:ring-gray-600/30 dark:hover:ring-gray-500/30 focus:outline-primary justify-between truncate gap-2 min-w-[43px]" id="search-bar-entry" type="button"><div class="flex items-center gap-3 min-w-[42px]"><div class="truncate min-w-0">Search...</div></div></button></div><div class="flex lg:hidden items-center gap-2"><button class="text-gray-500 w-8 h-8 flex items-center justify-center hover:text-gray-600 dark:text-gray-400 dark:hover:text-gray-300" id="search-bar-entry-mobile" type="button"><span class="sr-only">Search...</span></button></div></div></div><div class="flex items-center h-14 py-4 px-5 lg:hidden"><button class="text-gray-500 hover:text-gray-600 dark:text-gray-400 dark:hover:text-gray-300" type="button"><span class="sr-only">Navigation</span></button><div class="ml-4 flex text-sm leading-6 whitespace-nowrap min-w-0 space-x-3"><div class="flex items-center space-x-3"><span>Tool use (function calling)</span></div><div class="font-semibold text-gray-900 truncate dark:text-gray-200">Text editor tool</div></div></div></div><div class="hidden lg:flex px-12 h-12"><div class="h-full flex text-sm space-x-6"><a class="group relative h-full flex items-center font-medium text-gray-600 dark:text-gray-400 group-hover:text-gray-800 dark:group-hover:text-gray-300" href="/en/home">Welcome</a><a class="group relative h-full flex items-center text-gray-800 dark:text-gray-200 font-semibold" href="/en/docs/welcome">User Guides</a><a class="group relative h-full flex items-center font-medium text-gray-600 dark:text-gray-400 group-hover:text-gray-800 dark:group-hover:text-gray-300" href="/en/api/getting-started">API Reference</a><a class="group relative h-full flex items-center font-medium text-gray-600 dark:text-gray-400 group-hover:text-gray-800 dark:group-hover:text-gray-300" href="/en/prompt-library/library">Prompt Library</a><a class="group relative h-full flex items-center font-medium text-gray-600 dark:text-gray-400 group-hover:text-gray-800 dark:group-hover:text-gray-300" href="/en/release-notes/overview">Release Notes</a></div></div></div></div></div><div class="max-w-8xl px-4 mx-auto lg:px-8 min-h-screen"><div class="z-20 hidden lg:block fixed bottom-0 right-auto w-[18rem] top-[7.1rem]" id="sidebar"><div class="absolute inset-0 z-10 stable-scrollbar-gutter overflow-auto pr-8 pb-10" id="sidebar-content"><div class="relative lg:text-sm lg:leading-6"><div id="navigation-items"><li class="list-none"><a class="pl-4 group flex items-center lg:text-sm lg:leading-6 mb-5 sm:mb-4 font-medium text-gray-600 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="https://console.anthropic.com/" rel="noreferrer" target="_blank">Developer Console</a></li><li class="list-none"><a class="pl-4 group flex items-center lg:text-sm lg:leading-6 mb-5 sm:mb-4 font-medium text-gray-600 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="https://www.anthropic.com/discord" rel="noreferrer" target="_blank">Developer Discord</a></li><li class="list-none"><a class="pl-4 group flex items-center lg:text-sm lg:leading-6 mb-5 sm:mb-4 font-medium text-gray-600 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="https://support.anthropic.com/" rel="noreferrer" target="_blank">Support</a></li><div class="mt-12 lg:mt-8"><h5 class="pl-4 mb-3.5 lg:mb-2.5 font-semibold text-gray-900 dark:text-gray-200">Get started</h5><ul><li class="scroll-m-4 first:scroll-m-20" id="/en/docs/welcome"><a class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light space-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="/en/docs/welcome" style="padding-left:1rem"><div class="flex-1 flex items-center space-x-2.5"><div>Overview</div></div></a></li><li class="scroll-m-4 first:scroll-m-20" id="/en/docs/initial-setup"><a class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light space-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="/en/docs/initial-setup" style="padding-left:1rem"><div class="flex-1 flex items-center space-x-2.5"><div>Initial setup</div></div></a></li><li class="scroll-m-4 first:scroll-m-20" id="/en/docs/intro-to-claude"><a class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light space-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="/en/docs/intro-to-claude" style="padding-left:1rem"><div class="flex-1 flex items-center space-x-2.5"><div>Intro to Claude</div></div></a></li></ul></div><div class="mt-12 lg:mt-8"><h5 class="pl-4 mb-3.5 lg:mb-2.5 font-semibold text-gray-900 dark:text-gray-200">Learn about Claude</h5><ul><li><div class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light space-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" style="padding-left:1rem"><div>Use cases</div></div></li><li><div class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light space-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" style="padding-left:1rem"><div>Models &amp; pricing</div></div></li><li class="scroll-m-4 first:scroll-m-20" id="https://trust.anthropic.com/"><a class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light space-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="https://trust.anthropic.com/" style="padding-left:1rem" target="_blank"><div class="flex-1 flex items-center space-x-2.5"><div>Security and compliance</div></div></a></li></ul></div><div class="mt-12 lg:mt-8"><h5 class="pl-4 mb-3.5 lg:mb-2.5 font-semibold text-gray-900 dark:text-gray-200">Build with Claude</h5><ul><li class="scroll-m-4 first:scroll-m-20" id="/en/docs/build-with-claude/define-success"><a class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light space-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="/en/docs/build-with-claude/define-success" style="padding-left:1rem"><div class="flex-1 flex items-center space-x-2.5"><div>Define success criteria</div></div></a></li><li class="scroll-m-4 first:scroll-m-20" id="/en/docs/build-with-claude/develop-tests"><a class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light space-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="/en/docs/build-with-claude/develop-tests" style="padding-left:1rem"><div class="flex-1 flex items-center space-x-2.5"><div>Develop test cases</div></div></a></li><li class="scroll-m-4 first:scroll-m-20" id="/en/docs/build-with-claude/context-windows"><a class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light space-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="/en/docs/build-with-claude/context-windows" style="padding-left:1rem"><div class="flex-1 flex items-center space-x-2.5"><div>Context windows</div></div></a></li><li class="scroll-m-4 first:scroll-m-20" id="/en/docs/build-with-claude/vision"><a class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light space-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="/en/docs/build-with-claude/vision" style="padding-left:1rem"><div class="flex-1 flex items-center space-x-2.5"><div>Vision</div></div></a></li><li><div class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light space-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" style="padding-left:1rem"><div>Prompt engineering</div></div></li><li class="scroll-m-4 first:scroll-m-20" id="/en/docs/build-with-claude/extended-thinking"><a class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light space-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="/en/docs/build-with-claude/extended-thinking" style="padding-left:1rem"><div class="flex-1 flex items-center space-x-2.5"><div>Extended thinking</div></div></a></li><li class="scroll-m-4 first:scroll-m-20" id="/en/docs/build-with-claude/multilingual-support"><a class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light space-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="/en/docs/build-with-claude/multilingual-support" style="padding-left:1rem"><div class="flex-1 flex items-center space-x-2.5"><div>Multilingual support</div></div></a></li><li><div class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light space-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" style="padding-left:1rem"><div>Tool use (function calling)</div></div><ul><li class="scroll-m-4 first:scroll-m-20" id="/en/docs/build-with-claude/tool-use/overview"><a class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light space-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="/en/docs/build-with-claude/tool-use/overview" style="padding-left:1.75rem"><div class="flex-1 flex items-center space-x-2.5"><div>Overview</div></div></a></li><li class="scroll-m-4 first:scroll-m-20" id="/en/docs/build-with-claude/tool-use/token-efficient-tool-use"><a class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light space-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="/en/docs/build-with-claude/tool-use/token-efficient-tool-use" style="padding-left:1.75rem"><div class="flex-1 flex items-center space-x-2.5"><div>Token-efficient tool use (beta)</div></div></a></li><li class="scroll-m-4 first:scroll-m-20" id="/en/docs/build-with-claude/tool-use/text-editor-tool"><a class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light space-x-3 rounded-xl bg-primary/10 text-primary font-semibold dark:text-primary-light dark:bg-primary-light/10" href="/en/docs/build-with-claude/tool-use/text-editor-tool" style="padding-left:1.75rem"><div class="flex-1 flex items-center space-x-2.5"><div>Text editor tool</div></div></a></li></ul></li><li class="scroll-m-4 first:scroll-m-20" id="/en/docs/build-with-claude/prompt-caching"><a class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light space-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="/en/docs/build-with-claude/prompt-caching" style="padding-left:1rem"><div class="flex-1 flex items-center space-x-2.5"><div>Prompt caching</div></div></a></li><li class="scroll-m-4 first:scroll-m-20" id="/en/docs/build-with-claude/pdf-support"><a class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light space-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="/en/docs/build-with-claude/pdf-support" style="padding-left:1rem"><div class="flex-1 flex items-center space-x-2.5"><div>PDF support</div></div></a></li><li class="scroll-m-4 first:scroll-m-20" id="/en/docs/build-with-claude/citations"><a class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light space-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="/en/docs/build-with-claude/citations" style="padding-left:1rem"><div class="flex-1 flex items-center space-x-2.5"><div>Citations</div></div></a></li><li class="scroll-m-4 first:scroll-m-20" id="/en/docs/build-with-claude/token-counting"><a class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light space-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="/en/docs/build-with-claude/token-counting" style="padding-left:1rem"><div class="flex-1 flex items-center space-x-2.5"><div>Token counting</div></div></a></li><li class="scroll-m-4 first:scroll-m-20" id="/en/docs/build-with-claude/batch-processing"><a class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light space-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="/en/docs/build-with-claude/batch-processing" style="padding-left:1rem"><div class="flex-1 flex items-center space-x-2.5"><div>Batch processing</div></div></a></li><li class="scroll-m-4 first:scroll-m-20" id="/en/docs/build-with-claude/embeddings"><a class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light space-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="/en/docs/build-with-claude/embeddings" style="padding-left:1rem"><div class="flex-1 flex items-center space-x-2.5"><div>Embeddings</div></div></a></li></ul></div><div class="mt-12 lg:mt-8"><h5 class="pl-4 mb-3.5 lg:mb-2.5 font-semibold text-gray-900 dark:text-gray-200">Agents and tools</h5><ul><li><div class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light space-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" style="padding-left:1rem"><div>Claude Code</div></div></li><li class="scroll-m-4 first:scroll-m-20" id="/en/docs/agents-and-tools/computer-use"><a class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light space-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="/en/docs/agents-and-tools/computer-use" style="padding-left:1rem"><div class="flex-1 flex items-center space-x-2.5"><div>Computer use (beta)</div></div></a></li><li class="scroll-m-4 first:scroll-m-20" id="/en/docs/agents-and-tools/mcp"><a class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light space-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="/en/docs/agents-and-tools/mcp" style="padding-left:1rem"><div class="flex-1 flex items-center space-x-2.5"><div>Model Context Protocol (MCP)</div></div></a></li><li class="scroll-m-4 first:scroll-m-20" id="/en/docs/agents-and-tools/claude-for-sheets"><a class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light space-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="/en/docs/agents-and-tools/claude-for-sheets" style="padding-left:1rem"><div class="flex-1 flex items-center space-x-2.5"><div>Google Sheets add-on</div></div></a></li></ul></div><div class="mt-12 lg:mt-8"><h5 class="pl-4 mb-3.5 lg:mb-2.5 font-semibold text-gray-900 dark:text-gray-200">Test and evaluate</h5><ul><li><div class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light space-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" style="padding-left:1rem"><div>Strengthen guardrails</div></div></li><li class="scroll-m-4 first:scroll-m-20" id="/en/docs/test-and-evaluate/eval-tool"><a class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light space-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="/en/docs/test-and-evaluate/eval-tool" style="padding-left:1rem"><div class="flex-1 flex items-center space-x-2.5"><div>Using the Evaluation Tool</div></div></a></li></ul></div><div class="mt-12 lg:mt-8"><h5 class="pl-4 mb-3.5 lg:mb-2.5 font-semibold text-gray-900 dark:text-gray-200">Administration</h5><ul><li class="scroll-m-4 first:scroll-m-20" id="/en/docs/administration/administration-api"><a class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light space-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="/en/docs/administration/administration-api" style="padding-left:1rem"><div class="flex-1 flex items-center space-x-2.5"><div>Admin API</div></div></a></li></ul></div><div class="mt-12 lg:mt-8"><h5 class="pl-4 mb-3.5 lg:mb-2.5 font-semibold text-gray-900 dark:text-gray-200">Resources</h5><ul><li class="scroll-m-4 first:scroll-m-20" id="/en/docs/resources/glossary"><a class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light space-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="/en/docs/resources/glossary" style="padding-left:1rem"><div class="flex-1 flex items-center space-x-2.5"><div>Glossary</div></div></a></li><li class="scroll-m-4 first:scroll-m-20" id="/en/docs/resources/model-deprecations"><a class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light space-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="/en/docs/resources/model-deprecations" style="padding-left:1rem"><div class="flex-1 flex items-center space-x-2.5"><div>Model deprecations</div></div></a></li><li class="scroll-m-4 first:scroll-m-20" id="https://status.anthropic.com/"><a class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light space-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="https://status.anthropic.com/" style="padding-left:1rem" target="_blank"><div class="flex-1 flex items-center space-x-2.5"><div>System status</div></div></a></li><li class="scroll-m-4 first:scroll-m-20" id="https://assets.anthropic.com/m/61e7d27f8c8f5919/original/Claude-3-Model-Card.pdf"><a class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light space-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="https://assets.anthropic.com/m/61e7d27f8c8f5919/original/Claude-3-Model-Card.pdf" style="padding-left:1rem" target="_blank"><div class="flex-1 flex items-center space-x-2.5"><div>Claude 3 model card</div></div></a></li><li class="scroll-m-4 first:scroll-m-20" id="https://anthropic.com/claude-3-7-sonnet-system-card"><a class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light space-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="https://anthropic.com/claude-3-7-sonnet-system-card" style="padding-left:1rem" target="_blank"><div class="flex-1 flex items-center space-x-2.5"><div>Claude 3.7 system card</div></div></a></li><li class="scroll-m-4 first:scroll-m-20" id="https://github.com/anthropics/anthropic-cookbook"><a class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light space-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="https://github.com/anthropics/anthropic-cookbook" style="padding-left:1rem" target="_blank"><div class="flex-1 flex items-center space-x-2.5"><div>Anthropic Cookbook</div></div></a></li><li class="scroll-m-4 first:scroll-m-20" id="https://github.com/anthropics/courses"><a class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light space-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="https://github.com/anthropics/courses" style="padding-left:1rem" target="_blank"><div class="flex-1 flex items-center space-x-2.5"><div>Anthropic Courses</div></div></a></li><li class="scroll-m-4 first:scroll-m-20" id="/en/docs/resources/api-features"><a class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light space-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="/en/docs/resources/api-features" style="padding-left:1rem"><div class="flex-1 flex items-center space-x-2.5"><div>API features</div></div></a></li></ul></div><div class="mt-12 lg:mt-8"><h5 class="pl-4 mb-3.5 lg:mb-2.5 font-semibold text-gray-900 dark:text-gray-200">Legal center</h5><ul><li class="scroll-m-4 first:scroll-m-20" id="https://www.anthropic.com/legal/privacy"><a class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light space-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="https://www.anthropic.com/legal/privacy" style="padding-left:1rem" target="_blank"><div class="flex-1 flex items-center space-x-2.5"><div>Anthropic Privacy Policy</div></div></a></li></ul></div></div></div></div></div><div class="" id="content-container"><div class="flex flex-row gap-12 box-border w-full pt-40 lg:pt-10"><div class="relative grow box-border flex-col w-full mx-auto px-1 lg:pl-[23.7rem] lg:-ml-12 xl:w-[calc(100%-28rem)]" id="content-area"><div class="relative mt-8 prose prose-gray dark:prose-invert"><p>Claude can use an Anthropic-defined text editor tool to view and modify text files, helping you debug, fix, and improve your code or other text documents. This allows Claude to directly interact with your files, providing hands-on assistance rather than just suggesting changes.</p>
<h2 class="flex whitespace-pre-wrap group" id="before-using-the-text-editor-tool"><div class="absolute"><a aria-label="Navigate to header" class="-ml-10 flex items-center opacity-0 border-0 group-hover:opacity-100" href="#before-using-the-text-editor-tool">​</a></div><span class="cursor-pointer">Before using the text editor tool</span></h2>
<h3 class="flex whitespace-pre-wrap group" id="use-a-compatible-model"><div class="absolute"><a aria-label="Navigate to header" class="-ml-10 flex items-center opacity-0 border-0 group-hover:opacity-100" href="#use-a-compatible-model">​</a></div><span class="cursor-pointer">Use a compatible model</span></h3>
<p>Anthropic’s text editor tool is only available for Claude 3.5 Sonnet and Claude 3.7 Sonnet:</p>
<ul>
<li><strong>Claude 3.7 Sonnet</strong>: <code>text_editor_20250124</code></li>
<li><strong>Claude 3.5 Sonnet</strong>: <code>text_editor_20241022</code></li>
</ul>
<p>Both versions provide identical capabilities - the version you use should match the model you’re working with.</p>
<h3 class="flex whitespace-pre-wrap group" id="assess-your-use-case-fit"><div class="absolute"><a aria-label="Navigate to header" class="-ml-10 flex items-center opacity-0 border-0 group-hover:opacity-100" href="#assess-your-use-case-fit">​</a></div><span class="cursor-pointer">Assess your use case fit</span></h3>
<p>Some examples of when to use the text editor tool are:</p>
<ul>
<li><strong>Code debugging</strong>: Have Claude identify and fix bugs in your code, from syntax errors to logic issues.</li>
<li><strong>Code refactoring</strong>: Let Claude improve your code structure, readability, and performance through targeted edits.</li>
<li><strong>Documentation generation</strong>: Ask Claude to add docstrings, comments, or README files to your codebase.</li>
<li><strong>Test creation</strong>: Have Claude create unit tests for your code based on its understanding of the implementation.</li>
</ul>

<h2 class="flex whitespace-pre-wrap group" id="use-the-text-editor-tool"><div class="absolute"><a aria-label="Navigate to header" class="-ml-10 flex items-center opacity-0 border-0 group-hover:opacity-100" href="#use-the-text-editor-tool">​</a></div><span class="cursor-pointer">Use the text editor tool</span></h2>
<p>Provide the text editor tool (named <code>str_replace_editor</code>) to Claude using the Messages API:</p>
<!-- -->
<p>The text editor tool can be used in the following way:</p>
<div class="ml-3.5 mt-10 mb-6" role="list"><div class="relative flex items-start pb-2" role="listitem"><div class="absolute ml-[-14px] py-2"><div class="w-7 h-7 shrink-0 rounded-lg bg-gray-100 dark:text-white dark:bg-[#26292E] text-sm text-gray-800 font-semibold flex items-center justify-center">1</div></div><div class="w-full overflow-hidden pl-12 pr-px"><p class="mt-2 font-semibold prose dark:prose-invert text-gray-900 dark:text-gray-200">Provide Claude with the text editor tool and a user prompt</p><div><ul>
<li>Include the text editor tool in your API request</li>
<li>Provide a user prompt that may require examining or modifying files, such as “Can you fix the syntax error in my code?”</li>
</ul></div></div></div><div class="relative flex items-start pb-2" role="listitem"><div class="absolute ml-[-14px] py-2"><div class="w-7 h-7 shrink-0 rounded-lg bg-gray-100 dark:text-white dark:bg-[#26292E] text-sm text-gray-800 font-semibold flex items-center justify-center">2</div></div><div class="w-full overflow-hidden pl-12 pr-px"><p class="mt-2 font-semibold prose dark:prose-invert text-gray-900 dark:text-gray-200">Claude uses the tool to examine files or directories</p><div><ul>
<li>Claude assesses what it needs to look at and uses the <code>view</code> command to examine file contents or list directory contents</li>
<li>The API response will contain a <code>tool_use</code> content block with the <code>view</code> command</li>
</ul></div></div></div><div class="relative flex items-start pb-2" role="listitem"><div class="absolute ml-[-14px] py-2"><div class="w-7 h-7 shrink-0 rounded-lg bg-gray-100 dark:text-white dark:bg-[#26292E] text-sm text-gray-800 font-semibold flex items-center justify-center">3</div></div><div class="w-full overflow-hidden pl-12 pr-px"><p class="mt-2 font-semibold prose dark:prose-invert text-gray-900 dark:text-gray-200">Execute the view command and return results</p><div><ul>
<li>Extract the file or directory path from Claude’s tool use request</li>
<li>Read the file’s contents or list the directory contents and return them to Claude</li>
<li>Return the results to Claude by continuing the conversation with a new <code>user</code> message containing a <code>tool_result</code> content block</li>
</ul></div></div></div><div class="relative flex items-start pb-2" role="listitem"><div class="absolute ml-[-14px] py-2"><div class="w-7 h-7 shrink-0 rounded-lg bg-gray-100 dark:text-white dark:bg-[#26292E] text-sm text-gray-800 font-semibold flex items-center justify-center">4</div></div><div class="w-full overflow-hidden pl-12 pr-px"><p class="mt-2 font-semibold prose dark:prose-invert text-gray-900 dark:text-gray-200">Claude uses the tool to modify files</p><div><ul>
<li>After examining the file or directory, Claude may use a command such as <code>str_replace</code> to make changes or <code>insert</code> to add text at a specific line number.</li>
<li>If Claude uses the <code>str_replace</code> command, Claude constructs a properly formatted tool use request with the old text and new text to replace it with</li>
</ul></div></div></div><div class="relative flex items-start pb-2" role="listitem"><div class="absolute ml-[-14px] py-2"><div class="w-7 h-7 shrink-0 rounded-lg bg-gray-100 dark:text-white dark:bg-[#26292E] text-sm text-gray-800 font-semibold flex items-center justify-center">5</div></div><div class="w-full overflow-hidden pl-12 pr-px"><p class="mt-2 font-semibold prose dark:prose-invert text-gray-900 dark:text-gray-200">Execute the edit and return results</p><div><ul>
<li>Extract the file path, old text, and new text from Claude’s tool use request</li>
<li>Perform the text replacement in the file</li>
<li>Return the results to Claude</li>
</ul></div></div></div><div class="relative flex items-start pb-2" role="listitem"><div class="absolute ml-[-14px] py-2"><div class="w-7 h-7 shrink-0 rounded-lg bg-gray-100 dark:text-white dark:bg-[#26292E] text-sm text-gray-800 font-semibold flex items-center justify-center">6</div></div><div class="w-full overflow-hidden pl-12 pr-px"><p class="mt-2 font-semibold prose dark:prose-invert text-gray-900 dark:text-gray-200">Claude provides its analysis and explanation</p><div><ul>
<li>After examining and possibly editing the files, Claude provides a complete explanation of what it found and what changes it made</li>
</ul></div></div></div></div>
<h3 class="flex whitespace-pre-wrap group" id="text-editor-tool-commands"><div class="absolute"><a aria-label="Navigate to header" class="-ml-10 flex items-center opacity-0 border-0 group-hover:opacity-100" href="#text-editor-tool-commands">​</a></div><span class="cursor-pointer">Text editor tool commands</span></h3>
<p>The text editor tool supports several commands for viewing and modifying files:</p>
<h4 class="flex whitespace-pre-wrap group" id="view"><div class="absolute"><a aria-label="Navigate to header" class="-ml-10 flex items-center opacity-0 border-0 group-hover:opacity-100" href="#view">​</a></div><span class="cursor-pointer">view</span></h4>
<p>The <code>view</code> command allows Claude to examine the contents of a file or list the contents of a directory. It can read the entire file or a specific range of lines.</p>
<p>Parameters:</p>
<ul>
<li><code>command</code>: Must be “view”</li>
<li><code>path</code>: The path to the file or directory to view</li>
<li><code>view_range</code> (optional): An array of two integers specifying the start and end line numbers to view. Line numbers are 1-indexed, and -1 for the end line means read to the end of the file. This parameter only applies when viewing files, not directories.</li>
</ul>
<div class="border-standard rounded-2xl mb-3 overflow-hidden bg-background-light dark:bg-codeblock" role="button"><button aria-controls="example-view-commands accordion children" aria-expanded="false" class="relative not-prose flex flex-row items-center content-center w-full py-4 px-5 space-x-2 hover:bg-gray-100 hover:dark:bg-gray-800 rounded-t-xl"><div class="leading-tight text-left"><p class="m-0 font-medium text-gray-900 dark:text-gray-200">Example view commands</p></div></button><div class="mt-2 mb-4 mx-6 hidden" id="example-view-commands accordion children"><div class="mt-5 mb-8 not-prose rounded-2xl relative text-gray-50 bg-[#0F1117] dark:bg-codeblock dark:ring-1 dark:ring-gray-800/50 codeblock-dark"><div class="min-w-full relative text-sm leading-6 children:!my-0 children:!shadow-none children:!bg-transparent transition-[height] duration-300 ease-in-out" style="font-variant-ligatures:none;height:auto"><div class="overflow-x-auto h-full p-5 overflow-y-hidden scrollbar-thin scrollbar-thumb-rounded scrollbar-thumb-white/20 dark:scrollbar-thumb-white/20 hover:scrollbar-thumb-white/25 dark:hover:scrollbar-thumb-white/25 active:scrollbar-thumb-white/25 dark:active:scrollbar-thumb-white/25"><pre class="language-json"><code class="language-json"><span class=""><span class="token comment">// Example for viewing a file</span></span>
<span class=""><span class="token punctuation">{</span></span>
<span class="">  <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"tool_use"</span><span class="token punctuation">,</span></span>
<span class="">  <span class="token property">"id"</span><span class="token operator">:</span> <span class="token string">"toolu_01A09q90qw90lq917835lq9"</span><span class="token punctuation">,</span></span>
<span class="">  <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"str_replace_editor"</span><span class="token punctuation">,</span></span>
<span class="">  <span class="token property">"input"</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="">    <span class="token property">"command"</span><span class="token operator">:</span> <span class="token string">"view"</span><span class="token punctuation">,</span></span>
<span class="">    <span class="token property">"path"</span><span class="token operator">:</span> <span class="token string">"primes.py"</span></span>
<span class="">  <span class="token punctuation">}</span></span>
<span class=""><span class="token punctuation">}</span></span>
<!-- -->
<span class=""><span class="token comment">// Example for viewing a directory</span></span>
<span class=""><span class="token punctuation">{</span></span>
<span class="">  <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"tool_use"</span><span class="token punctuation">,</span></span>
<span class="">  <span class="token property">"id"</span><span class="token operator">:</span> <span class="token string">"toolu_02B19r91rw91mr917835mr9"</span><span class="token punctuation">,</span></span>
<span class="">  <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"str_replace_editor"</span><span class="token punctuation">,</span></span>
<span class="">  <span class="token property">"input"</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="">    <span class="token property">"command"</span><span class="token operator">:</span> <span class="token string">"view"</span><span class="token punctuation">,</span></span>
<span class="">    <span class="token property">"path"</span><span class="token operator">:</span> <span class="token string">"src/"</span></span>
<span class="">  <span class="token punctuation">}</span></span>
<span class=""><span class="token punctuation">}</span></span>
</code></pre></div></div></div></div></div>
<h4 class="flex whitespace-pre-wrap group" id="str-replace"><div class="absolute"><a aria-label="Navigate to header" class="-ml-10 flex items-center opacity-0 border-0 group-hover:opacity-100" href="#str-replace">​</a></div><span class="cursor-pointer">str_replace</span></h4>
<p>The <code>str_replace</code> command allows Claude to replace a specific string in a file with a new string. This is used for making precise edits.</p>
<p>Parameters:</p>
<ul>
<li><code>command</code>: Must be “str_replace”</li>
<li><code>path</code>: The path to the file to modify</li>
<li><code>old_str</code>: The text to replace (must match exactly, including whitespace and indentation)</li>
<li><code>new_str</code>: The new text to insert in place of the old text</li>
</ul>
<div class="border-standard rounded-2xl mb-3 overflow-hidden bg-background-light dark:bg-codeblock" role="button"><button aria-controls="example-str-replace-command accordion children" aria-expanded="false" class="relative not-prose flex flex-row items-center content-center w-full py-4 px-5 space-x-2 hover:bg-gray-100 hover:dark:bg-gray-800 rounded-t-xl"><div class="leading-tight text-left"><p class="m-0 font-medium text-gray-900 dark:text-gray-200">Example str_replace command</p></div></button><div class="mt-2 mb-4 mx-6 hidden" id="example-str-replace-command accordion children"><div class="mt-5 mb-8 not-prose rounded-2xl relative text-gray-50 bg-[#0F1117] dark:bg-codeblock dark:ring-1 dark:ring-gray-800/50 codeblock-dark"><div class="min-w-full relative text-sm leading-6 children:!my-0 children:!shadow-none children:!bg-transparent transition-[height] duration-300 ease-in-out" style="font-variant-ligatures:none;height:auto"><div class="overflow-x-auto h-full p-5 overflow-y-hidden scrollbar-thin scrollbar-thumb-rounded scrollbar-thumb-white/20 dark:scrollbar-thumb-white/20 hover:scrollbar-thumb-white/25 dark:hover:scrollbar-thumb-white/25 active:scrollbar-thumb-white/25 dark:active:scrollbar-thumb-white/25"><pre class="language-json"><code class="language-json"><span class=""><span class="token punctuation">{</span></span>
<span class="">  <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"tool_use"</span><span class="token punctuation">,</span></span>
<span class="">  <span class="token property">"id"</span><span class="token operator">:</span> <span class="token string">"toolu_01A09q90qw90lq917835lq9"</span><span class="token punctuation">,</span></span>
<span class="">  <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"str_replace_editor"</span><span class="token punctuation">,</span></span>
<span class="">  <span class="token property">"input"</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="">    <span class="token property">"command"</span><span class="token operator">:</span> <span class="token string">"str_replace"</span><span class="token punctuation">,</span></span>
<span class="">    <span class="token property">"path"</span><span class="token operator">:</span> <span class="token string">"primes.py"</span><span class="token punctuation">,</span></span>
<span class="">    <span class="token property">"old_str"</span><span class="token operator">:</span> <span class="token string">"for num in range(2, limit + 1)"</span><span class="token punctuation">,</span></span>
<span class="">    <span class="token property">"new_str"</span><span class="token operator">:</span> <span class="token string">"for num in range(2, limit + 1):"</span></span>
<span class="">  <span class="token punctuation">}</span></span>
<span class=""><span class="token punctuation">}</span></span>
</code></pre></div></div></div></div></div>
<h4 class="flex whitespace-pre-wrap group" id="create"><div class="absolute"><a aria-label="Navigate to header" class="-ml-10 flex items-center opacity-0 border-0 group-hover:opacity-100" href="#create">​</a></div><span class="cursor-pointer">create</span></h4>
<p>The <code>create</code> command allows Claude to create a new file with specified content.</p>
<p>Parameters:</p>
<ul>
<li><code>command</code>: Must be “create”</li>
<li><code>path</code>: The path where the new file should be created</li>
<li><code>file_text</code>: The content to write to the new file</li>
</ul>
<div class="border-standard rounded-2xl mb-3 overflow-hidden bg-background-light dark:bg-codeblock" role="button"><button aria-controls="example-create-command accordion children" aria-expanded="false" class="relative not-prose flex flex-row items-center content-center w-full py-4 px-5 space-x-2 hover:bg-gray-100 hover:dark:bg-gray-800 rounded-t-xl"><div class="leading-tight text-left"><p class="m-0 font-medium text-gray-900 dark:text-gray-200">Example create command</p></div></button><div class="mt-2 mb-4 mx-6 hidden" id="example-create-command accordion children"><div class="mt-5 mb-8 not-prose rounded-2xl relative text-gray-50 bg-[#0F1117] dark:bg-codeblock dark:ring-1 dark:ring-gray-800/50 codeblock-dark"><div class="min-w-full relative text-sm leading-6 children:!my-0 children:!shadow-none children:!bg-transparent transition-[height] duration-300 ease-in-out" style="font-variant-ligatures:none;height:auto"><div class="overflow-x-auto h-full p-5 overflow-y-hidden scrollbar-thin scrollbar-thumb-rounded scrollbar-thumb-white/20 dark:scrollbar-thumb-white/20 hover:scrollbar-thumb-white/25 dark:hover:scrollbar-thumb-white/25 active:scrollbar-thumb-white/25 dark:active:scrollbar-thumb-white/25"><pre class="language-json"><code class="language-json"><span class=""><span class="token punctuation">{</span></span>
<span class="">  <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"tool_use"</span><span class="token punctuation">,</span></span>
<span class="">  <span class="token property">"id"</span><span class="token operator">:</span> <span class="token string">"toolu_01A09q90qw90lq917835lq9"</span><span class="token punctuation">,</span></span>
<span class="">  <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"str_replace_editor"</span><span class="token punctuation">,</span></span>
<span class="">  <span class="token property">"input"</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="">    <span class="token property">"command"</span><span class="token operator">:</span> <span class="token string">"create"</span><span class="token punctuation">,</span></span>
<span class="">    <span class="token property">"path"</span><span class="token operator">:</span> <span class="token string">"test_primes.py"</span><span class="token punctuation">,</span></span>
<span class="">    <span class="token property">"file_text"</span><span class="token operator">:</span> <span class="token string">"import unittest\nimport primes\n\nclass TestPrimes(unittest.TestCase):\n    def test_is_prime(self):\n        self.assertTrue(primes.is_prime(2))\n        self.assertTrue(primes.is_prime(3))\n        self.assertFalse(primes.is_prime(4))\n\nif __name__ == '__main__':\n    unittest.main()"</span></span>
<span class="">  <span class="token punctuation">}</span></span>
<span class=""><span class="token punctuation">}</span></span>
</code></pre></div></div></div></div></div>
<h4 class="flex whitespace-pre-wrap group" id="insert"><div class="absolute"><a aria-label="Navigate to header" class="-ml-10 flex items-center opacity-0 border-0 group-hover:opacity-100" href="#insert">​</a></div><span class="cursor-pointer">insert</span></h4>
<p>The <code>insert</code> command allows Claude to insert text at a specific location in a file.</p>
<p>Parameters:</p>
<ul>
<li><code>command</code>: Must be “insert”</li>
<li><code>path</code>: The path to the file to modify</li>
<li><code>insert_line</code>: The line number after which to insert the text (0 for beginning of file)</li>
<li><code>new_str</code>: The text to insert</li>
</ul>
<div class="border-standard rounded-2xl mb-3 overflow-hidden bg-background-light dark:bg-codeblock" role="button"><button aria-controls="example-insert-command accordion children" aria-expanded="false" class="relative not-prose flex flex-row items-center content-center w-full py-4 px-5 space-x-2 hover:bg-gray-100 hover:dark:bg-gray-800 rounded-t-xl"><div class="leading-tight text-left"><p class="m-0 font-medium text-gray-900 dark:text-gray-200">Example insert command</p></div></button><div class="mt-2 mb-4 mx-6 hidden" id="example-insert-command accordion children"><div class="mt-5 mb-8 not-prose rounded-2xl relative text-gray-50 bg-[#0F1117] dark:bg-codeblock dark:ring-1 dark:ring-gray-800/50 codeblock-dark"><div class="min-w-full relative text-sm leading-6 children:!my-0 children:!shadow-none children:!bg-transparent transition-[height] duration-300 ease-in-out" style="font-variant-ligatures:none;height:auto"><div class="overflow-x-auto h-full p-5 overflow-y-hidden scrollbar-thin scrollbar-thumb-rounded scrollbar-thumb-white/20 dark:scrollbar-thumb-white/20 hover:scrollbar-thumb-white/25 dark:hover:scrollbar-thumb-white/25 active:scrollbar-thumb-white/25 dark:active:scrollbar-thumb-white/25"><pre class="language-json"><code class="language-json"><span class=""><span class="token punctuation">{</span></span>
<span class="">  <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"tool_use"</span><span class="token punctuation">,</span></span>
<span class="">  <span class="token property">"id"</span><span class="token operator">:</span> <span class="token string">"toolu_01A09q90qw90lq917835lq9"</span><span class="token punctuation">,</span></span>
<span class="">  <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"str_replace_editor"</span><span class="token punctuation">,</span></span>
<span class="">  <span class="token property">"input"</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="">    <span class="token property">"command"</span><span class="token operator">:</span> <span class="token string">"insert"</span><span class="token punctuation">,</span></span>
<span class="">    <span class="token property">"path"</span><span class="token operator">:</span> <span class="token string">"primes.py"</span><span class="token punctuation">,</span></span>
<span class="">    <span class="token property">"insert_line"</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span></span>
<span class="">    <span class="token property">"new_str"</span><span class="token operator">:</span> <span class="token string">"\"\"\"Module for working with prime numbers.\n\nThis module provides functions to check if a number is prime\nand to generate a list of prime numbers up to a given limit.\n\"\"\"\n"</span></span>
<span class="">  <span class="token punctuation">}</span></span>
<span class=""><span class="token punctuation">}</span></span>
</code></pre></div></div></div></div></div>
<h4 class="flex whitespace-pre-wrap group" id="undo-edit"><div class="absolute"><a aria-label="Navigate to header" class="-ml-10 flex items-center opacity-0 border-0 group-hover:opacity-100" href="#undo-edit">​</a></div><span class="cursor-pointer">undo_edit</span></h4>
<p>The <code>undo_edit</code> command allows Claude to revert the last edit made to a file.</p>
<p>Parameters:</p>
<ul>
<li><code>command</code>: Must be “undo_edit”</li>
<li><code>path</code>: The path to the file whose last edit should be undone</li>
</ul>
<div class="border-standard rounded-2xl mb-3 overflow-hidden bg-background-light dark:bg-codeblock" role="button"><button aria-controls="example-undo-edit-command accordion children" aria-expanded="false" class="relative not-prose flex flex-row items-center content-center w-full py-4 px-5 space-x-2 hover:bg-gray-100 hover:dark:bg-gray-800 rounded-t-xl"><div class="leading-tight text-left"><p class="m-0 font-medium text-gray-900 dark:text-gray-200">Example undo_edit command</p></div></button><div class="mt-2 mb-4 mx-6 hidden" id="example-undo-edit-command accordion children"><div class="mt-5 mb-8 not-prose rounded-2xl relative text-gray-50 bg-[#0F1117] dark:bg-codeblock dark:ring-1 dark:ring-gray-800/50 codeblock-dark"><div class="min-w-full relative text-sm leading-6 children:!my-0 children:!shadow-none children:!bg-transparent transition-[height] duration-300 ease-in-out" style="font-variant-ligatures:none;height:auto"><div class="overflow-x-auto h-full p-5 overflow-y-hidden scrollbar-thin scrollbar-thumb-rounded scrollbar-thumb-white/20 dark:scrollbar-thumb-white/20 hover:scrollbar-thumb-white/25 dark:hover:scrollbar-thumb-white/25 active:scrollbar-thumb-white/25 dark:active:scrollbar-thumb-white/25"><pre class="language-json"><code class="language-json"><span class=""><span class="token punctuation">{</span></span>
<span class="">  <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"tool_use"</span><span class="token punctuation">,</span></span>
<span class="">  <span class="token property">"id"</span><span class="token operator">:</span> <span class="token string">"toolu_01A09q90qw90lq917835lq9"</span><span class="token punctuation">,</span></span>
<span class="">  <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"str_replace_editor"</span><span class="token punctuation">,</span></span>
<span class="">  <span class="token property">"input"</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="">    <span class="token property">"command"</span><span class="token operator">:</span> <span class="token string">"undo_edit"</span><span class="token punctuation">,</span></span>
<span class="">    <span class="token property">"path"</span><span class="token operator">:</span> <span class="token string">"primes.py"</span></span>
<span class="">  <span class="token punctuation">}</span></span>
<span class=""><span class="token punctuation">}</span></span>
</code></pre></div></div></div></div></div>
<h3 class="flex whitespace-pre-wrap group" id="example-fixing-a-syntax-error-with-the-text-editor-tool"><div class="absolute"><a aria-label="Navigate to header" class="-ml-10 flex items-center opacity-0 border-0 group-hover:opacity-100" href="#example-fixing-a-syntax-error-with-the-text-editor-tool">​</a></div><span class="cursor-pointer">Example: Fixing a syntax error with the text editor tool</span></h3>
<p>This example demonstrates how Claude uses the text editor tool to fix a syntax error in a Python file.</p>
<p>First, your application provides Claude with the text editor tool and a prompt to fix a syntax error:</p>
<!-- -->
<p>Claude will use the text editor tool first to view the file:</p>
<div class="mt-5 mb-8 not-prose rounded-2xl relative text-gray-50 bg-[#0F1117] dark:bg-codeblock dark:ring-1 dark:ring-gray-800/50 codeblock-dark"><div class="min-w-full relative text-sm leading-6 children:!my-0 children:!shadow-none children:!bg-transparent transition-[height] duration-300 ease-in-out" style="font-variant-ligatures:none;height:auto"><div class="overflow-x-auto h-full p-5 overflow-y-hidden scrollbar-thin scrollbar-thumb-rounded scrollbar-thumb-white/20 dark:scrollbar-thumb-white/20 hover:scrollbar-thumb-white/25 dark:hover:scrollbar-thumb-white/25 active:scrollbar-thumb-white/25 dark:active:scrollbar-thumb-white/25"><pre class="language-json"><code class="language-json"><span class=""><span class="token punctuation">{</span></span>
<span class="">  <span class="token property">"id"</span><span class="token operator">:</span> <span class="token string">"msg_01XAbCDeFgHiJkLmNoPQrStU"</span><span class="token punctuation">,</span></span>
<span class="">  <span class="token property">"model"</span><span class="token operator">:</span> <span class="token string">"claude-3-7-sonnet-20250219"</span><span class="token punctuation">,</span></span>
<span class="">  <span class="token property">"stop_reason"</span><span class="token operator">:</span> <span class="token string">"tool_use"</span><span class="token punctuation">,</span></span>
<span class="">  <span class="token property">"role"</span><span class="token operator">:</span> <span class="token string">"assistant"</span><span class="token punctuation">,</span></span>
<span class="">  <span class="token property">"content"</span><span class="token operator">:</span> <span class="token punctuation">[</span></span>
<span class="">    <span class="token punctuation">{</span></span>
<span class="">      <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"text"</span><span class="token punctuation">,</span></span>
<span class="">      <span class="token property">"text"</span><span class="token operator">:</span> <span class="token string">"I'll help you fix the syntax error in your primes.py file. First, let me take a look at the file to identify the issue."</span></span>
<span class="">    <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="">    <span class="token punctuation">{</span></span>
<span class="">      <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"tool_use"</span><span class="token punctuation">,</span></span>
<span class="">      <span class="token property">"id"</span><span class="token operator">:</span> <span class="token string">"toolu_01AbCdEfGhIjKlMnOpQrStU"</span><span class="token punctuation">,</span></span>
<span class="">      <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"str_replace_editor"</span><span class="token punctuation">,</span></span>
<span class="">      <span class="token property">"input"</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="">        <span class="token property">"command"</span><span class="token operator">:</span> <span class="token string">"view"</span><span class="token punctuation">,</span></span>
<span class="">        <span class="token property">"path"</span><span class="token operator">:</span> <span class="token string">"primes.py"</span></span>
<span class="">      <span class="token punctuation">}</span></span>
<span class="">    <span class="token punctuation">}</span></span>
<span class="">  <span class="token punctuation">]</span></span>
<span class=""><span class="token punctuation">}</span></span>
</code></pre></div></div></div>
<p>Your application should then read the file and return its contents to Claude:</p>
<!-- -->
<div class="my-4 px-5 py-4 overflow-hidden rounded-2xl flex gap-3 border border-emerald-500/20 bg-emerald-50/50 dark:border-emerald-500/30 dark:bg-emerald-500/10"><div class="text-sm prose min-w-0 text-emerald-900 dark:text-emerald-200"><p><strong>Line numbers</strong></p><p>In the example above, the <code>view</code> tool result includes file contents with line numbers prepended to each line (e.g., “1: def is_prime(n):”). Line numbers are not required, but they are essential for successfully using the <code>view_range</code> parameter to examine specific sections of files and the <code>insert_line</code> parameter to add content at precise locations.</p></div></div>
<p>Claude will identify the syntax error and use the <code>str_replace</code> command to fix it:</p>
<div class="mt-5 mb-8 not-prose rounded-2xl relative text-gray-50 bg-[#0F1117] dark:bg-codeblock dark:ring-1 dark:ring-gray-800/50 codeblock-dark"><div class="min-w-full relative text-sm leading-6 children:!my-0 children:!shadow-none children:!bg-transparent transition-[height] duration-300 ease-in-out" style="font-variant-ligatures:none;height:auto"><div class="overflow-x-auto h-full p-5 overflow-y-hidden scrollbar-thin scrollbar-thumb-rounded scrollbar-thumb-white/20 dark:scrollbar-thumb-white/20 hover:scrollbar-thumb-white/25 dark:hover:scrollbar-thumb-white/25 active:scrollbar-thumb-white/25 dark:active:scrollbar-thumb-white/25"><pre class="language-json"><code class="language-json"><span class=""><span class="token punctuation">{</span></span>
<span class="">  <span class="token property">"id"</span><span class="token operator">:</span> <span class="token string">"msg_01VwXyZAbCdEfGhIjKlMnO"</span><span class="token punctuation">,</span></span>
<span class="">  <span class="token property">"model"</span><span class="token operator">:</span> <span class="token string">"claude-3-7-sonnet-20250219"</span><span class="token punctuation">,</span></span>
<span class="">  <span class="token property">"stop_reason"</span><span class="token operator">:</span> <span class="token string">"tool_use"</span><span class="token punctuation">,</span></span>
<span class="">  <span class="token property">"role"</span><span class="token operator">:</span> <span class="token string">"assistant"</span><span class="token punctuation">,</span></span>
<span class="">  <span class="token property">"content"</span><span class="token operator">:</span> <span class="token punctuation">[</span></span>
<span class="">    <span class="token punctuation">{</span></span>
<span class="">      <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"text"</span><span class="token punctuation">,</span></span>
<span class="">      <span class="token property">"text"</span><span class="token operator">:</span> <span class="token string">"I found the syntax error in your primes.py file. In the `get_primes` function, there is a missing colon (:) at the end of the for loop line. Let me fix that for you."</span></span>
<span class="">    <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="">    <span class="token punctuation">{</span></span>
<span class="">      <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"tool_use"</span><span class="token punctuation">,</span></span>
<span class="">      <span class="token property">"id"</span><span class="token operator">:</span> <span class="token string">"toolu_01PqRsTuVwXyZAbCdEfGh"</span><span class="token punctuation">,</span></span>
<span class="">      <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"str_replace_editor"</span><span class="token punctuation">,</span></span>
<span class="">      <span class="token property">"input"</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="">        <span class="token property">"command"</span><span class="token operator">:</span> <span class="token string">"str_replace"</span><span class="token punctuation">,</span></span>
<span class="">        <span class="token property">"path"</span><span class="token operator">:</span> <span class="token string">"primes.py"</span><span class="token punctuation">,</span></span>
<span class="">        <span class="token property">"old_str"</span><span class="token operator">:</span> <span class="token string">"    for num in range(2, limit + 1)"</span><span class="token punctuation">,</span></span>
<span class="">        <span class="token property">"new_str"</span><span class="token operator">:</span> <span class="token string">"    for num in range(2, limit + 1):"</span></span>
<span class="">      <span class="token punctuation">}</span></span>
<span class="">    <span class="token punctuation">}</span></span>
<span class="">  <span class="token punctuation">]</span></span>
<span class=""><span class="token punctuation">}</span></span>
</code></pre></div></div></div>
<p>Your application should then make the edit and return the result:</p>
<!-- -->
<p>Finally, Claude will provide a complete explanation of the fix:</p>
<div class="mt-5 mb-8 not-prose rounded-2xl relative text-gray-50 bg-[#0F1117] dark:bg-codeblock dark:ring-1 dark:ring-gray-800/50 codeblock-dark"><div class="min-w-full relative text-sm leading-6 children:!my-0 children:!shadow-none children:!bg-transparent transition-[height] duration-300 ease-in-out" style="font-variant-ligatures:none;height:auto"><div class="overflow-x-auto h-full p-5 overflow-y-hidden scrollbar-thin scrollbar-thumb-rounded scrollbar-thumb-white/20 dark:scrollbar-thumb-white/20 hover:scrollbar-thumb-white/25 dark:hover:scrollbar-thumb-white/25 active:scrollbar-thumb-white/25 dark:active:scrollbar-thumb-white/25"><pre class="language-json"><code class="language-json"><span class=""><span class="token punctuation">{</span></span>
<span class="">  <span class="token property">"id"</span><span class="token operator">:</span> <span class="token string">"msg_01IjKlMnOpQrStUvWxYzAb"</span><span class="token punctuation">,</span></span>
<span class="">  <span class="token property">"model"</span><span class="token operator">:</span> <span class="token string">"claude-3-7-sonnet-20250219"</span><span class="token punctuation">,</span></span>
<span class="">  <span class="token property">"stop_reason"</span><span class="token operator">:</span> <span class="token string">"end_turn"</span><span class="token punctuation">,</span></span>
<span class="">  <span class="token property">"role"</span><span class="token operator">:</span> <span class="token string">"assistant"</span><span class="token punctuation">,</span></span>
<span class="">  <span class="token property">"content"</span><span class="token operator">:</span> <span class="token punctuation">[</span></span>
<span class="">    <span class="token punctuation">{</span></span>
<span class="">      <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"text"</span><span class="token punctuation">,</span></span>
<span class="">      <span class="token property">"text"</span><span class="token operator">:</span> <span class="token string">"I've fixed the syntax error in your primes.py file. The issue was in the `get_primes` function at line 19. There was a missing colon (:) at the end of the for loop line.\n\nHere's what I changed:\n\nFrom:\n```python\nfor num in range(2, limit + 1)\n```\n\nTo:\n```python\nfor num in range(2, limit + 1):\n```\n\nIn Python, a colon is required at the end of statements that start a new code block, such as for loops, if statements, function definitions, etc. Without the colon, Python raises a syntax error because it doesn't know where the code block begins.\n\nYour code should now run correctly. The function will properly generate a list of prime numbers up to the specified limit."</span></span>
<span class="">    <span class="token punctuation">}</span></span>
<span class="">  <span class="token punctuation">]</span></span>
<span class=""><span class="token punctuation">}</span></span>
</code></pre></div></div></div>

<h2 class="flex whitespace-pre-wrap group" id="implement-the-text-editor-tool"><div class="absolute"><a aria-label="Navigate to header" class="-ml-10 flex items-center opacity-0 border-0 group-hover:opacity-100" href="#implement-the-text-editor-tool">​</a></div><span class="cursor-pointer">Implement the text editor tool</span></h2>
<p>The text editor tool is implemented as a schema-less tool, identified by <code>type: "text_editor_20250124"</code>. When using this tool, you don’t need to provide an input schema as with other tools; the schema is built into Claude’s model and can’t be modified.</p>
<div class="ml-3.5 mt-10 mb-6" role="list"><div class="relative flex items-start pb-2" role="listitem"><div class="absolute ml-[-14px] py-2"><div class="w-7 h-7 shrink-0 rounded-lg bg-gray-100 dark:text-white dark:bg-[#26292E] text-sm text-gray-800 font-semibold flex items-center justify-center">1</div></div><div class="w-full overflow-hidden pl-12 pr-px"><p class="mt-2 font-semibold prose dark:prose-invert text-gray-900 dark:text-gray-200">Initialize your editor implementation</p><div><p>Create helper functions to handle file operations like reading, writing, and modifying files. Consider implementing backup functionality to recover from mistakes.</p></div></div></div><div class="relative flex items-start pb-2" role="listitem"><div class="absolute ml-[-14px] py-2"><div class="w-7 h-7 shrink-0 rounded-lg bg-gray-100 dark:text-white dark:bg-[#26292E] text-sm text-gray-800 font-semibold flex items-center justify-center">2</div></div><div class="w-full overflow-hidden pl-12 pr-px"><p class="mt-2 font-semibold prose dark:prose-invert text-gray-900 dark:text-gray-200">Handle editor tool calls</p><div><p>Create a function that processes tool calls from Claude based on the command type:</p><div class="mt-5 mb-8 not-prose rounded-2xl relative text-gray-50 bg-[#0F1117] dark:bg-codeblock dark:ring-1 dark:ring-gray-800/50 codeblock-dark"><div class="min-w-full relative text-sm leading-6 children:!my-0 children:!shadow-none children:!bg-transparent transition-[height] duration-300 ease-in-out" style="font-variant-ligatures:none;height:auto"><div class="overflow-x-auto h-full p-5 overflow-y-hidden scrollbar-thin scrollbar-thumb-rounded scrollbar-thumb-white/20 dark:scrollbar-thumb-white/20 hover:scrollbar-thumb-white/25 dark:hover:scrollbar-thumb-white/25 active:scrollbar-thumb-white/25 dark:active:scrollbar-thumb-white/25"><pre class="language-python"><code class="language-python"><span class=""><span class="token keyword">def</span> <span class="token function">handle_editor_tool</span><span class="token punctuation">(</span>tool_call<span class="token punctuation">)</span><span class="token punctuation">:</span></span>
<span class="">    input_params <span class="token operator">=</span> tool_call<span class="token punctuation">.</span><span class="token builtin">input</span></span>
<span class="">    command <span class="token operator">=</span> input_params<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">'command'</span><span class="token punctuation">,</span> <span class="token string">''</span><span class="token punctuation">)</span></span>
<span class="">    file_path <span class="token operator">=</span> input_params<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">,</span> <span class="token string">''</span><span class="token punctuation">)</span></span>
<!-- -->    <!-- -->
<span class="">    <span class="token keyword">if</span> command <span class="token operator">==</span> <span class="token string">'view'</span><span class="token punctuation">:</span></span>
<span class="">        <span class="token comment"># Read and return file contents</span></span>
<span class="">        <span class="token keyword">pass</span></span>
<span class="">    <span class="token keyword">elif</span> command <span class="token operator">==</span> <span class="token string">'str_replace'</span><span class="token punctuation">:</span></span>
<span class="">        <span class="token comment"># Replace text in file</span></span>
<span class="">        <span class="token keyword">pass</span></span>
<span class="">    <span class="token keyword">elif</span> command <span class="token operator">==</span> <span class="token string">'create'</span><span class="token punctuation">:</span></span>
<span class="">        <span class="token comment"># Create new file</span></span>
<span class="">        <span class="token keyword">pass</span></span>
<span class="">    <span class="token keyword">elif</span> command <span class="token operator">==</span> <span class="token string">'insert'</span><span class="token punctuation">:</span></span>
<span class="">        <span class="token comment"># Insert text at location</span></span>
<span class="">        <span class="token keyword">pass</span></span>
<span class="">    <span class="token keyword">elif</span> command <span class="token operator">==</span> <span class="token string">'undo_edit'</span><span class="token punctuation">:</span></span>
<span class="">        <span class="token comment"># Restore from backup</span></span>
<span class="">        <span class="token keyword">pass</span></span>
</code></pre></div></div></div></div></div></div><div class="relative flex items-start pb-2" role="listitem"><div class="absolute ml-[-14px] py-2"><div class="w-7 h-7 shrink-0 rounded-lg bg-gray-100 dark:text-white dark:bg-[#26292E] text-sm text-gray-800 font-semibold flex items-center justify-center">3</div></div><div class="w-full overflow-hidden pl-12 pr-px"><p class="mt-2 font-semibold prose dark:prose-invert text-gray-900 dark:text-gray-200">Implement security measures</p><div><p>Add validation and security checks:</p><ul>
<li>Validate file paths to prevent directory traversal</li>
<li>Create backups before making changes</li>
<li>Handle errors gracefully</li>
<li>Implement permissions checks</li>
</ul></div></div></div><div class="relative flex items-start pb-2" role="listitem"><div class="absolute ml-[-14px] py-2"><div class="w-7 h-7 shrink-0 rounded-lg bg-gray-100 dark:text-white dark:bg-[#26292E] text-sm text-gray-800 font-semibold flex items-center justify-center">4</div></div><div class="w-full overflow-hidden pl-12 pr-px"><p class="mt-2 font-semibold prose dark:prose-invert text-gray-900 dark:text-gray-200">Process Claude's responses</p><div><p>Extract and handle tool calls from Claude’s responses:</p><div class="mt-5 mb-8 not-prose rounded-2xl relative text-gray-50 bg-[#0F1117] dark:bg-codeblock dark:ring-1 dark:ring-gray-800/50 codeblock-dark"><div class="min-w-full relative text-sm leading-6 children:!my-0 children:!shadow-none children:!bg-transparent transition-[height] duration-300 ease-in-out" style="font-variant-ligatures:none;height:auto"><div class="overflow-x-auto h-full p-5 overflow-y-hidden scrollbar-thin scrollbar-thumb-rounded scrollbar-thumb-white/20 dark:scrollbar-thumb-white/20 hover:scrollbar-thumb-white/25 dark:hover:scrollbar-thumb-white/25 active:scrollbar-thumb-white/25 dark:active:scrollbar-thumb-white/25"><pre class="language-python"><code class="language-python"><span class=""><span class="token comment"># Process tool use in Claude's response</span></span>
<span class=""><span class="token keyword">for</span> content <span class="token keyword">in</span> response<span class="token punctuation">.</span>content<span class="token punctuation">:</span></span>
<span class="">    <span class="token keyword">if</span> content<span class="token punctuation">.</span><span class="token builtin">type</span> <span class="token operator">==</span> <span class="token string">"tool_use"</span><span class="token punctuation">:</span></span>
<span class="">        <span class="token comment"># Execute the tool based on command</span></span>
<span class="">        result <span class="token operator">=</span> handle_editor_tool<span class="token punctuation">(</span>content<span class="token punctuation">)</span></span>
<!-- -->        <!-- -->
<span class="">        <span class="token comment"># Return result to Claude</span></span>
<span class="">        tool_result <span class="token operator">=</span> <span class="token punctuation">{</span></span>
<span class="">            <span class="token string">"type"</span><span class="token punctuation">:</span> <span class="token string">"tool_result"</span><span class="token punctuation">,</span></span>
<span class="">            <span class="token string">"tool_use_id"</span><span class="token punctuation">:</span> content<span class="token punctuation">.</span><span class="token builtin">id</span><span class="token punctuation">,</span></span>
<span class="">            <span class="token string">"content"</span><span class="token punctuation">:</span> result</span>
<span class="">        <span class="token punctuation">}</span></span>
</code></pre></div></div></div></div></div></div></div>
<div class="my-4 px-5 py-4 overflow-hidden rounded-2xl flex gap-3 border border-amber-500/20 bg-amber-50/50 dark:border-amber-500/30 dark:bg-amber-500/10"><div class="text-sm prose min-w-0 text-amber-900 dark:text-amber-200"><p>When implementing the text editor tool, keep in mind:</p><ol>
<li><strong>Security</strong>: The tool has access to your local filesystem, so implement proper security measures.</li>
<li><strong>Backup</strong>: Always create backups before allowing edits to important files.</li>
<li><strong>Validation</strong>: Validate all inputs to prevent unintended changes.</li>
<li><strong>Unique matching</strong>: Make sure replacements match exactly one location to avoid unintended edits.</li>
</ol></div></div>
<h3 class="flex whitespace-pre-wrap group" id="handle-errors"><div class="absolute"><a aria-label="Navigate to header" class="-ml-10 flex items-center opacity-0 border-0 group-hover:opacity-100" href="#handle-errors">​</a></div><span class="cursor-pointer">Handle errors</span></h3>
<p>When using the text editor tool, various errors may occur. Here is guidance on how to handle them:</p>
<div class="[&amp;&gt;div]:border-0 [&amp;&gt;div]:rounded-none [&amp;&gt;div&gt;button]:rounded-none [&amp;&gt;div]:mb-0 overflow-hidden mt-0 mb-3 rounded-xl prose prose-gray dark:prose-invert divide-y divide-inherit border dark:border-gray-800/50"><div class="border-standard rounded-2xl mb-3 overflow-hidden bg-background-light dark:bg-codeblock" role="button"><button aria-controls="file-not-found accordion children" aria-expanded="false" class="relative not-prose flex flex-row items-center content-center w-full py-4 px-5 space-x-2 hover:bg-gray-100 hover:dark:bg-gray-800 rounded-t-xl"><div class="leading-tight text-left"><p class="m-0 font-medium text-gray-900 dark:text-gray-200">File not found</p></div></button><div class="mt-2 mb-4 mx-6 hidden" id="file-not-found accordion children"><p>If Claude tries to view or modify a file that doesn’t exist, return an appropriate error message in the <code>tool_result</code>:</p><div class="mt-5 mb-8 not-prose rounded-2xl relative text-gray-50 bg-[#0F1117] dark:bg-codeblock dark:ring-1 dark:ring-gray-800/50 codeblock-dark"><div class="min-w-full relative text-sm leading-6 children:!my-0 children:!shadow-none children:!bg-transparent transition-[height] duration-300 ease-in-out" style="font-variant-ligatures:none;height:auto"><div class="overflow-x-auto h-full p-5 overflow-y-hidden scrollbar-thin scrollbar-thumb-rounded scrollbar-thumb-white/20 dark:scrollbar-thumb-white/20 hover:scrollbar-thumb-white/25 dark:hover:scrollbar-thumb-white/25 active:scrollbar-thumb-white/25 dark:active:scrollbar-thumb-white/25"><pre class="language-json"><code class="language-json"><span class=""><span class="token punctuation">{</span></span>
<span class="">  <span class="token property">"role"</span><span class="token operator">:</span> <span class="token string">"user"</span><span class="token punctuation">,</span></span>
<span class="">  <span class="token property">"content"</span><span class="token operator">:</span> <span class="token punctuation">[</span></span>
<span class="">    <span class="token punctuation">{</span></span>
<span class="">      <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"tool_result"</span><span class="token punctuation">,</span></span>
<span class="">      <span class="token property">"tool_use_id"</span><span class="token operator">:</span> <span class="token string">"toolu_01A09q90qw90lq917835lq9"</span><span class="token punctuation">,</span></span>
<span class="">      <span class="token property">"content"</span><span class="token operator">:</span> <span class="token string">"Error: File not found"</span><span class="token punctuation">,</span></span>
<span class="">      <span class="token property">"is_error"</span><span class="token operator">:</span> <span class="token boolean">true</span></span>
<span class="">    <span class="token punctuation">}</span></span>
<span class="">  <span class="token punctuation">]</span></span>
<span class=""><span class="token punctuation">}</span></span>
</code></pre></div></div></div></div></div><div class="border-standard rounded-2xl mb-3 overflow-hidden bg-background-light dark:bg-codeblock" role="button"><button aria-controls="multiple-matches-for-replacement accordion children" aria-expanded="false" class="relative not-prose flex flex-row items-center content-center w-full py-4 px-5 space-x-2 hover:bg-gray-100 hover:dark:bg-gray-800 rounded-t-xl"><div class="leading-tight text-left"><p class="m-0 font-medium text-gray-900 dark:text-gray-200">Multiple matches for replacement</p></div></button><div class="mt-2 mb-4 mx-6 hidden" id="multiple-matches-for-replacement accordion children"><p>If Claude’s <code>str_replace</code> command matches multiple locations in the file, return an appropriate error message:</p><div class="mt-5 mb-8 not-prose rounded-2xl relative text-gray-50 bg-[#0F1117] dark:bg-codeblock dark:ring-1 dark:ring-gray-800/50 codeblock-dark"><div class="min-w-full relative text-sm leading-6 children:!my-0 children:!shadow-none children:!bg-transparent transition-[height] duration-300 ease-in-out" style="font-variant-ligatures:none;height:auto"><div class="overflow-x-auto h-full p-5 overflow-y-hidden scrollbar-thin scrollbar-thumb-rounded scrollbar-thumb-white/20 dark:scrollbar-thumb-white/20 hover:scrollbar-thumb-white/25 dark:hover:scrollbar-thumb-white/25 active:scrollbar-thumb-white/25 dark:active:scrollbar-thumb-white/25"><pre class="language-json"><code class="language-json"><span class=""><span class="token punctuation">{</span></span>
<span class="">  <span class="token property">"role"</span><span class="token operator">:</span> <span class="token string">"user"</span><span class="token punctuation">,</span></span>
<span class="">  <span class="token property">"content"</span><span class="token operator">:</span> <span class="token punctuation">[</span></span>
<span class="">    <span class="token punctuation">{</span></span>
<span class="">      <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"tool_result"</span><span class="token punctuation">,</span></span>
<span class="">      <span class="token property">"tool_use_id"</span><span class="token operator">:</span> <span class="token string">"toolu_01A09q90qw90lq917835lq9"</span><span class="token punctuation">,</span></span>
<span class="">      <span class="token property">"content"</span><span class="token operator">:</span> <span class="token string">"Error: Found 3 matches for replacement text. Please provide more context to make a unique match."</span><span class="token punctuation">,</span></span>
<span class="">      <span class="token property">"is_error"</span><span class="token operator">:</span> <span class="token boolean">true</span></span>
<span class="">    <span class="token punctuation">}</span></span>
<span class="">  <span class="token punctuation">]</span></span>
<span class=""><span class="token punctuation">}</span></span>
</code></pre></div></div></div></div></div><div class="border-standard rounded-2xl mb-3 overflow-hidden bg-background-light dark:bg-codeblock" role="button"><button aria-controls="no-matches-for-replacement accordion children" aria-expanded="false" class="relative not-prose flex flex-row items-center content-center w-full py-4 px-5 space-x-2 hover:bg-gray-100 hover:dark:bg-gray-800 rounded-t-xl"><div class="leading-tight text-left"><p class="m-0 font-medium text-gray-900 dark:text-gray-200">No matches for replacement</p></div></button><div class="mt-2 mb-4 mx-6 hidden" id="no-matches-for-replacement accordion children"><p>If Claude’s <code>str_replace</code> command doesn’t match any text in the file, return an appropriate error message:</p><div class="mt-5 mb-8 not-prose rounded-2xl relative text-gray-50 bg-[#0F1117] dark:bg-codeblock dark:ring-1 dark:ring-gray-800/50 codeblock-dark"><div class="min-w-full relative text-sm leading-6 children:!my-0 children:!shadow-none children:!bg-transparent transition-[height] duration-300 ease-in-out" style="font-variant-ligatures:none;height:auto"><div class="overflow-x-auto h-full p-5 overflow-y-hidden scrollbar-thin scrollbar-thumb-rounded scrollbar-thumb-white/20 dark:scrollbar-thumb-white/20 hover:scrollbar-thumb-white/25 dark:hover:scrollbar-thumb-white/25 active:scrollbar-thumb-white/25 dark:active:scrollbar-thumb-white/25"><pre class="language-json"><code class="language-json"><span class=""><span class="token punctuation">{</span></span>
<span class="">  <span class="token property">"role"</span><span class="token operator">:</span> <span class="token string">"user"</span><span class="token punctuation">,</span></span>
<span class="">  <span class="token property">"content"</span><span class="token operator">:</span> <span class="token punctuation">[</span></span>
<span class="">    <span class="token punctuation">{</span></span>
<span class="">      <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"tool_result"</span><span class="token punctuation">,</span></span>
<span class="">      <span class="token property">"tool_use_id"</span><span class="token operator">:</span> <span class="token string">"toolu_01A09q90qw90lq917835lq9"</span><span class="token punctuation">,</span></span>
<span class="">      <span class="token property">"content"</span><span class="token operator">:</span> <span class="token string">"Error: No match found for replacement. Please check your text and try again."</span><span class="token punctuation">,</span></span>
<span class="">      <span class="token property">"is_error"</span><span class="token operator">:</span> <span class="token boolean">true</span></span>
<span class="">    <span class="token punctuation">}</span></span>
<span class="">  <span class="token punctuation">]</span></span>
<span class=""><span class="token punctuation">}</span></span>
</code></pre></div></div></div></div></div><div class="border-standard rounded-2xl mb-3 overflow-hidden bg-background-light dark:bg-codeblock" role="button"><button aria-controls="permission-errors accordion children" aria-expanded="false" class="relative not-prose flex flex-row items-center content-center w-full py-4 px-5 space-x-2 hover:bg-gray-100 hover:dark:bg-gray-800 rounded-t-xl"><div class="leading-tight text-left"><p class="m-0 font-medium text-gray-900 dark:text-gray-200">Permission errors</p></div></button><div class="mt-2 mb-4 mx-6 hidden" id="permission-errors accordion children"><p>If there are permission issues with creating, reading, or modifying files, return an appropriate error message:</p><div class="mt-5 mb-8 not-prose rounded-2xl relative text-gray-50 bg-[#0F1117] dark:bg-codeblock dark:ring-1 dark:ring-gray-800/50 codeblock-dark"><div class="min-w-full relative text-sm leading-6 children:!my-0 children:!shadow-none children:!bg-transparent transition-[height] duration-300 ease-in-out" style="font-variant-ligatures:none;height:auto"><div class="overflow-x-auto h-full p-5 overflow-y-hidden scrollbar-thin scrollbar-thumb-rounded scrollbar-thumb-white/20 dark:scrollbar-thumb-white/20 hover:scrollbar-thumb-white/25 dark:hover:scrollbar-thumb-white/25 active:scrollbar-thumb-white/25 dark:active:scrollbar-thumb-white/25"><pre class="language-json"><code class="language-json"><span class=""><span class="token punctuation">{</span></span>
<span class="">  <span class="token property">"role"</span><span class="token operator">:</span> <span class="token string">"user"</span><span class="token punctuation">,</span></span>
<span class="">  <span class="token property">"content"</span><span class="token operator">:</span> <span class="token punctuation">[</span></span>
<span class="">    <span class="token punctuation">{</span></span>
<span class="">      <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"tool_result"</span><span class="token punctuation">,</span></span>
<span class="">      <span class="token property">"tool_use_id"</span><span class="token operator">:</span> <span class="token string">"toolu_01A09q90qw90lq917835lq9"</span><span class="token punctuation">,</span></span>
<span class="">      <span class="token property">"content"</span><span class="token operator">:</span> <span class="token string">"Error: Permission denied. Cannot write to file."</span><span class="token punctuation">,</span></span>
<span class="">      <span class="token property">"is_error"</span><span class="token operator">:</span> <span class="token boolean">true</span></span>
<span class="">    <span class="token punctuation">}</span></span>
<span class="">  <span class="token punctuation">]</span></span>
<span class=""><span class="token punctuation">}</span></span>
</code></pre></div></div></div></div></div></div>
<h3 class="flex whitespace-pre-wrap group" id="follow-implementation-best-practices"><div class="absolute"><a aria-label="Navigate to header" class="-ml-10 flex items-center opacity-0 border-0 group-hover:opacity-100" href="#follow-implementation-best-practices">​</a></div><span class="cursor-pointer">Follow implementation best practices</span></h3>
<div class="[&amp;&gt;div]:border-0 [&amp;&gt;div]:rounded-none [&amp;&gt;div&gt;button]:rounded-none [&amp;&gt;div]:mb-0 overflow-hidden mt-0 mb-3 rounded-xl prose prose-gray dark:prose-invert divide-y divide-inherit border dark:border-gray-800/50"><div class="border-standard rounded-2xl mb-3 overflow-hidden bg-background-light dark:bg-codeblock" role="button"><button aria-controls="provide-clear-context accordion children" aria-expanded="false" class="relative not-prose flex flex-row items-center content-center w-full py-4 px-5 space-x-2 hover:bg-gray-100 hover:dark:bg-gray-800 rounded-t-xl"><div class="leading-tight text-left"><p class="m-0 font-medium text-gray-900 dark:text-gray-200">Provide clear context</p></div></button><div class="mt-2 mb-4 mx-6 hidden" id="provide-clear-context accordion children"><p>When asking Claude to fix or modify code, be specific about what files need to be examined or what issues need to be addressed. Clear context helps Claude identify the right files and make appropriate changes.</p><p><strong>Less helpful prompt</strong>: “Can you fix my code?”</p><p><strong>Better prompt</strong>: “There’s a syntax error in my primes.py file that prevents it from running. Can you fix it?”</p></div></div><div class="border-standard rounded-2xl mb-3 overflow-hidden bg-background-light dark:bg-codeblock" role="button"><button aria-controls="be-explicit-about-file-paths accordion children" aria-expanded="false" class="relative not-prose flex flex-row items-center content-center w-full py-4 px-5 space-x-2 hover:bg-gray-100 hover:dark:bg-gray-800 rounded-t-xl"><div class="leading-tight text-left"><p class="m-0 font-medium text-gray-900 dark:text-gray-200">Be explicit about file paths</p></div></button><div class="mt-2 mb-4 mx-6 hidden" id="be-explicit-about-file-paths accordion children"><p>Specify file paths clearly when needed, especially if you’re working with multiple files or files in different directories.</p><p><strong>Less helpful prompt</strong>: “Review my helper file”</p><p><strong>Better prompt</strong>: “Can you check my utils/helpers.py file for any performance issues?”</p></div></div><div class="border-standard rounded-2xl mb-3 overflow-hidden bg-background-light dark:bg-codeblock" role="button"><button aria-controls="create-backups-before-editing accordion children" aria-expanded="false" class="relative not-prose flex flex-row items-center content-center w-full py-4 px-5 space-x-2 hover:bg-gray-100 hover:dark:bg-gray-800 rounded-t-xl"><div class="leading-tight text-left"><p class="m-0 font-medium text-gray-900 dark:text-gray-200">Create backups before editing</p></div></button><div class="mt-2 mb-4 mx-6 hidden" id="create-backups-before-editing accordion children"><p>Implement a backup system in your application that creates copies of files before allowing Claude to edit them, especially for important or production code.</p><div class="mt-5 mb-8 not-prose rounded-2xl relative text-gray-50 bg-[#0F1117] dark:bg-codeblock dark:ring-1 dark:ring-gray-800/50 codeblock-dark"><div class="min-w-full relative text-sm leading-6 children:!my-0 children:!shadow-none children:!bg-transparent transition-[height] duration-300 ease-in-out" style="font-variant-ligatures:none;height:auto"><div class="overflow-x-auto h-full p-5 overflow-y-hidden scrollbar-thin scrollbar-thumb-rounded scrollbar-thumb-white/20 dark:scrollbar-thumb-white/20 hover:scrollbar-thumb-white/25 dark:hover:scrollbar-thumb-white/25 active:scrollbar-thumb-white/25 dark:active:scrollbar-thumb-white/25"><pre class="language-python"><code class="language-python"><span class=""><span class="token keyword">def</span> <span class="token function">backup_file</span><span class="token punctuation">(</span>file_path<span class="token punctuation">)</span><span class="token punctuation">:</span></span>
<span class="">    <span class="token triple-quoted-string string">"""Create a backup of a file before editing."""</span></span>
<span class="">    backup_path <span class="token operator">=</span> <span class="token string-interpolation"><span class="token string">f"</span><span class="token interpolation"><span class="token punctuation">{</span>file_path<span class="token punctuation">}</span></span><span class="token string">.backup"</span></span></span>
<span class="">    <span class="token keyword">if</span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>exists<span class="token punctuation">(</span>file_path<span class="token punctuation">)</span><span class="token punctuation">:</span></span>
<span class="">        <span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span>file_path<span class="token punctuation">,</span> <span class="token string">'r'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> src<span class="token punctuation">,</span> <span class="token builtin">open</span><span class="token punctuation">(</span>backup_path<span class="token punctuation">,</span> <span class="token string">'w'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> dst<span class="token punctuation">:</span></span>
<span class="">            dst<span class="token punctuation">.</span>write<span class="token punctuation">(</span>src<span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span></span>
</code></pre></div></div></div></div></div><div class="border-standard rounded-2xl mb-3 overflow-hidden bg-background-light dark:bg-codeblock" role="button"><button aria-controls="handle-unique-text-replacement-carefully accordion children" aria-expanded="false" class="relative not-prose flex flex-row items-center content-center w-full py-4 px-5 space-x-2 hover:bg-gray-100 hover:dark:bg-gray-800 rounded-t-xl"><div class="leading-tight text-left"><p class="m-0 font-medium text-gray-900 dark:text-gray-200">Handle unique text replacement carefully</p></div></button><div class="mt-2 mb-4 mx-6 hidden" id="handle-unique-text-replacement-carefully accordion children"><p>The <code>str_replace</code> command requires an exact match for the text to be replaced. Your application should ensure that there is exactly one match for the old text or provide appropriate error messages.</p><div class="mt-5 mb-8 not-prose rounded-2xl relative text-gray-50 bg-[#0F1117] dark:bg-codeblock dark:ring-1 dark:ring-gray-800/50 codeblock-dark"><div class="min-w-full relative text-sm leading-6 children:!my-0 children:!shadow-none children:!bg-transparent transition-[height] duration-300 ease-in-out" style="font-variant-ligatures:none;height:auto"><div class="overflow-x-auto h-full p-5 overflow-y-hidden scrollbar-thin scrollbar-thumb-rounded scrollbar-thumb-white/20 dark:scrollbar-thumb-white/20 hover:scrollbar-thumb-white/25 dark:hover:scrollbar-thumb-white/25 active:scrollbar-thumb-white/25 dark:active:scrollbar-thumb-white/25"><pre class="language-python"><code class="language-python"><span class=""><span class="token keyword">def</span> <span class="token function">safe_replace</span><span class="token punctuation">(</span>file_path<span class="token punctuation">,</span> old_text<span class="token punctuation">,</span> new_text<span class="token punctuation">)</span><span class="token punctuation">:</span></span>
<span class="">    <span class="token triple-quoted-string string">"""Replace text only if there's exactly one match."""</span></span>
<span class="">    <span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span>file_path<span class="token punctuation">,</span> <span class="token string">'r'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> f<span class="token punctuation">:</span></span>
<span class="">        content <span class="token operator">=</span> f<span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<!-- -->    <!-- -->
<span class="">    count <span class="token operator">=</span> content<span class="token punctuation">.</span>count<span class="token punctuation">(</span>old_text<span class="token punctuation">)</span></span>
<span class="">    <span class="token keyword">if</span> count <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">:</span></span>
<span class="">        <span class="token keyword">return</span> <span class="token string">"Error: No match found"</span></span>
<span class="">    <span class="token keyword">elif</span> count <span class="token operator">&gt;</span> <span class="token number">1</span><span class="token punctuation">:</span></span>
<span class="">        <span class="token keyword">return</span> <span class="token string-interpolation"><span class="token string">f"Error: Found </span><span class="token interpolation"><span class="token punctuation">{</span>count<span class="token punctuation">}</span></span><span class="token string"> matches"</span></span></span>
<span class="">    <span class="token keyword">else</span><span class="token punctuation">:</span></span>
<span class="">        new_content <span class="token operator">=</span> content<span class="token punctuation">.</span>replace<span class="token punctuation">(</span>old_text<span class="token punctuation">,</span> new_text<span class="token punctuation">)</span></span>
<span class="">        <span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span>file_path<span class="token punctuation">,</span> <span class="token string">'w'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> f<span class="token punctuation">:</span></span>
<span class="">            f<span class="token punctuation">.</span>write<span class="token punctuation">(</span>new_content<span class="token punctuation">)</span></span>
<span class="">        <span class="token keyword">return</span> <span class="token string">"Successfully replaced text"</span></span>
</code></pre></div></div></div></div></div><div class="border-standard rounded-2xl mb-3 overflow-hidden bg-background-light dark:bg-codeblock" role="button"><button aria-controls="verify-changes accordion children" aria-expanded="false" class="relative not-prose flex flex-row items-center content-center w-full py-4 px-5 space-x-2 hover:bg-gray-100 hover:dark:bg-gray-800 rounded-t-xl"><div class="leading-tight text-left"><p class="m-0 font-medium text-gray-900 dark:text-gray-200">Verify changes</p></div></button><div class="mt-2 mb-4 mx-6 hidden" id="verify-changes accordion children"><p>After Claude makes changes to a file, verify the changes by running tests or checking that the code still works as expected.</p><div class="mt-5 mb-8 not-prose rounded-2xl relative text-gray-50 bg-[#0F1117] dark:bg-codeblock dark:ring-1 dark:ring-gray-800/50 codeblock-dark"><div class="min-w-full relative text-sm leading-6 children:!my-0 children:!shadow-none children:!bg-transparent transition-[height] duration-300 ease-in-out" style="font-variant-ligatures:none;height:auto"><div class="overflow-x-auto h-full p-5 overflow-y-hidden scrollbar-thin scrollbar-thumb-rounded scrollbar-thumb-white/20 dark:scrollbar-thumb-white/20 hover:scrollbar-thumb-white/25 dark:hover:scrollbar-thumb-white/25 active:scrollbar-thumb-white/25 dark:active:scrollbar-thumb-white/25"><pre class="language-python"><code class="language-python"><span class=""><span class="token keyword">def</span> <span class="token function">verify_changes</span><span class="token punctuation">(</span>file_path<span class="token punctuation">)</span><span class="token punctuation">:</span></span>
<span class="">    <span class="token triple-quoted-string string">"""Run tests or checks after making changes."""</span></span>
<span class="">    <span class="token keyword">try</span><span class="token punctuation">:</span></span>
<span class="">        <span class="token comment"># For Python files, check for syntax errors</span></span>
<span class="">        <span class="token keyword">if</span> file_path<span class="token punctuation">.</span>endswith<span class="token punctuation">(</span><span class="token string">'.py'</span><span class="token punctuation">)</span><span class="token punctuation">:</span></span>
<span class="">            <span class="token keyword">import</span> ast</span>
<span class="">            <span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span>file_path<span class="token punctuation">,</span> <span class="token string">'r'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> f<span class="token punctuation">:</span></span>
<span class="">                ast<span class="token punctuation">.</span>parse<span class="token punctuation">(</span>f<span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="">            <span class="token keyword">return</span> <span class="token string">"Syntax check passed"</span></span>
<span class="">    <span class="token keyword">except</span> Exception <span class="token keyword">as</span> e<span class="token punctuation">:</span></span>
<span class="">        <span class="token keyword">return</span> <span class="token string-interpolation"><span class="token string">f"Verification failed: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token builtin">str</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token string">"</span></span></span>
</code></pre></div></div></div></div></div></div>

<h2 class="flex whitespace-pre-wrap group" id="pricing-and-token-usage"><div class="absolute"><a aria-label="Navigate to header" class="-ml-10 flex items-center opacity-0 border-0 group-hover:opacity-100" href="#pricing-and-token-usage">​</a></div><span class="cursor-pointer">Pricing and token usage</span></h2>
<p>The text editor tool uses the same pricing structure as other tools used with Claude. It follows the standard input and output token pricing based on the Claude model you’re using.</p>
<p>In addition to the base tokens, the following additional input tokens are needed for the text editor tool:</p>
<table><thead><tr><th>Tool</th><th>Additional input tokens</th></tr></thead><tbody><tr><td><code>text_editor_20241022</code> (Claude 3.5 Sonnet)</td><td>700 tokens</td></tr><tr><td><code>text_editor_20250124</code> (Claude 3.7 Sonnet)</td><td>700 tokens</td></tr></tbody></table>
<p>For more detailed information about tool pricing, see <a href="/en/docs/build-with-claude/tool-use#pricing">Tool use pricing</a>.</p>
<h2 class="flex whitespace-pre-wrap group" id="integrate-the-text-editor-tool-with-computer-use"><div class="absolute"><a aria-label="Navigate to header" class="-ml-10 flex items-center opacity-0 border-0 group-hover:opacity-100" href="#integrate-the-text-editor-tool-with-computer-use">​</a></div><span class="cursor-pointer">Integrate the text editor tool with computer use</span></h2>
<p>The text editor tool can be used alongside the <a href="/en/docs/agents-and-tools/computer-use">computer use tool</a> and other Anthropic-defined tools. When combining these tools, you’ll need to:</p>
<ol>
<li>Include the appropriate beta header (if using with computer use)</li>
<li>Match the tool version with the model you’re using</li>
<li>Account for the additional token usage for all tools included in your request</li>
</ol>
<p>For more information about using the text editor tool in a computer use context, see the <a href="/en/docs/agents-and-tools/computer-use">Computer use</a>.</p>
<h2 class="flex whitespace-pre-wrap group" id="change-log"><div class="absolute"><a aria-label="Navigate to header" class="-ml-10 flex items-center opacity-0 border-0 group-hover:opacity-100" href="#change-log">​</a></div><span class="cursor-pointer">Change log</span></h2>
<table><thead><tr><th>Date</th><th>Version</th><th>Changes</th></tr></thead><tbody><tr><td>March 13, 2025</td><td><code>text_editor_20250124</code></td><td>Introduction of standalone Text Editor Tool documentation. This version is optimized for Claude 3.7 Sonnet but has identical capabilities to the previous version.</td></tr><tr><td>October 22, 2024</td><td><code>text_editor_20241022</code></td><td>Initial release of the Text Editor Tool with Claude 3.5 Sonnet. Provides capabilities for viewing, creating, and editing files through the <code>view</code>, <code>create</code>, <code>str_replace</code>, <code>insert</code>, and <code>undo_edit</code> commands.</td></tr></tbody></table>
<h2 class="flex whitespace-pre-wrap group" id="next-steps"><div class="absolute"><a aria-label="Navigate to header" class="-ml-10 flex items-center opacity-0 border-0 group-hover:opacity-100" href="#next-steps">​</a></div><span class="cursor-pointer">Next steps</span></h2>
<p>Here are some ideas for how to use the text editor tool in more convenient and powerful ways:</p>
<ul>
<li><strong>Integrate with your development workflow</strong>: Build the text editor tool into your development tools or IDE</li>
<li><strong>Create a code review system</strong>: Have Claude review your code and make improvements</li>
<li><strong>Build a debugging assistant</strong>: Create a system where Claude can help you diagnose and fix issues in your code</li>
<li><strong>Implement file format conversion</strong>: Let Claude help you convert files from one format to another</li>
<li><strong>Automate documentation</strong>: Set up workflows for Claude to automatically document your code</li>
</ul>
<p>As you build applications with the text editor tool, we’re excited to see how you leverage Claude’s capabilities to enhance your development workflow and productivity.</p>
<div class="not-prose grid gap-x-4 sm:grid-cols-3"><a class="card block not-prose font-normal group relative my-2 ring-2 ring-transparent rounded-2xl bg-white dark:bg-background-dark border border-gray-950/10 dark:border-white/10 overflow-hidden w-full cursor-pointer hover:!border-primary dark:hover:!border-primary-light" href="/en/docs/build-with-claude/tool-use/overview"><div class="px-6 py-5"><div><h2 class="font-semibold text-base text-gray-800 dark:text-white mt-4">Tool use overview</h2><div class="mt-1 font-normal text-sm leading-6 text-gray-600 dark:text-gray-400"><p>Learn how to implement tool workflows for use with Claude.</p></div></div></div></a><a class="card block not-prose font-normal group relative my-2 ring-2 ring-transparent rounded-2xl bg-white dark:bg-background-dark border border-gray-950/10 dark:border-white/10 overflow-hidden w-full cursor-pointer hover:!border-primary dark:hover:!border-primary-light" href="/en/docs/build-with-claude/tool-use/token-efficient-tool-use"><div class="px-6 py-5"><div><h2 class="font-semibold text-base text-gray-800 dark:text-white mt-4">Token-efficient tool use</h2><div class="mt-1 font-normal text-sm leading-6 text-gray-600 dark:text-gray-400"><p>Reduce latency and costs when using tools with Claude 3.7 Sonnet.</p></div></div></div></a><a class="card block not-prose font-normal group relative my-2 ring-2 ring-transparent rounded-2xl bg-white dark:bg-background-dark border border-gray-950/10 dark:border-white/10 overflow-hidden w-full cursor-pointer hover:!border-primary dark:hover:!border-primary-light" href="/en/docs/agents-and-tools/computer-use#understand-anthropic-defined-tools"><div class="px-6 py-5"><div><h2 class="font-semibold text-base text-gray-800 dark:text-white mt-4">Anthropic-defined tools</h2><div class="mt-1 font-normal text-sm leading-6 text-gray-600 dark:text-gray-400"><p>Learn how to use other Anthropic-defined tools such as the computer and bash tools.</p></div></div></div></a></div></div><div class="leading-6 mt-14"><div class="pb-16 w-full"><div class="flex flex-col gap-y-4 xl:flex-col xl:gap-6 min-[1400px]:flex-row md:flex-row md:justify-end"><div class="flex flex-row gap-5 items-center grow justify-between md:justify-start xl:justify-between min-[1400px]:justify-start"><p class="text-sm text-gray-600 dark:text-gray-400">Was this page helpful?</p><div class="flex flex-row gap-3 items-center"><button class="px-3.5 py-2 flex flex-row gap-3 items-center border-standard rounded-xl text-gray-600 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 bg-white/50 dark:bg-codeblock/50 hover:border-gray-400 hover:dark:border-gray-500"><small class="text-sm font-normal leading-4">Yes</small></button><button class="px-3.5 py-2 flex flex-row gap-3 items-center border-standard rounded-xl text-gray-600 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 bg-white/50 dark:bg-codeblock/50 hover:border-gray-400 hover:dark:border-gray-500"><small class="text-sm font-normal leading-4">No</small></button></div></div></div></div><div class="mb-12 px-0.5 flex items-center text-sm font-semibold text-gray-700 dark:text-gray-200"><a class="flex items-center space-x-3 group" href="/en/docs/build-with-claude/tool-use/token-efficient-tool-use"><span class="group-hover:text-gray-900 dark:group-hover:text-white">Token-efficient tool use (beta)</span></a><a class="flex items-center ml-auto space-x-3 group" href="/en/docs/build-with-claude/prompt-caching"><span class="group-hover:text-gray-900 dark:group-hover:text-white">Prompt caching</span></a></div></div></div><div class="z-10 hidden xl:flex pl-10 box-border w-[19rem]" id="table-of-contents"><div class="fixed text-gray-600 text-sm leading-6 w-[16.5rem] overflow-y-auto space-y-2 h-[calc(100%-10rem)]" id="table-of-contents-content"><div class="text-gray-700 dark:text-gray-300 font-medium flex items-center space-x-2"><span>On this page</span></div><ul><li><a class="py-1 block font-medium hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="#before-using-the-text-editor-tool">Before using the text editor tool</a></li><li style="margin-left:1rem"><a class="group flex items-start py-1 whitespace-pre-wrap text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="#use-a-compatible-model">Use a compatible model</a></li><li style="margin-left:1rem"><a class="group flex items-start py-1 whitespace-pre-wrap text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="#assess-your-use-case-fit">Assess your use case fit</a></li><li><a class="py-1 block font-medium hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="#use-the-text-editor-tool">Use the text editor tool</a></li><li style="margin-left:1rem"><a class="group flex items-start py-1 whitespace-pre-wrap text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="#text-editor-tool-commands">Text editor tool commands</a></li><li style="margin-left:2rem"><a class="group flex items-start py-1 whitespace-pre-wrap text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="#view">view</a></li><li style="margin-left:2rem"><a class="group flex items-start py-1 whitespace-pre-wrap text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="#str-replace">str_replace</a></li><li style="margin-left:2rem"><a class="group flex items-start py-1 whitespace-pre-wrap text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="#create">create</a></li><li style="margin-left:2rem"><a class="group flex items-start py-1 whitespace-pre-wrap text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="#insert">insert</a></li><li style="margin-left:2rem"><a class="group flex items-start py-1 whitespace-pre-wrap text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="#undo-edit">undo_edit</a></li><li style="margin-left:1rem"><a class="group flex items-start py-1 whitespace-pre-wrap text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="#example-fixing-a-syntax-error-with-the-text-editor-tool">Example: Fixing a syntax error with the text editor tool</a></li><li><a class="py-1 block font-medium hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="#implement-the-text-editor-tool">Implement the text editor tool</a></li><li style="margin-left:1rem"><a class="group flex items-start py-1 whitespace-pre-wrap text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="#handle-errors">Handle errors</a></li><li style="margin-left:1rem"><a class="group flex items-start py-1 whitespace-pre-wrap text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="#follow-implementation-best-practices">Follow implementation best practices</a></li><li><a class="py-1 block font-medium hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="#pricing-and-token-usage">Pricing and token usage</a></li><li><a class="py-1 block font-medium hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="#integrate-the-text-editor-tool-with-computer-use">Integrate the text editor tool with computer use</a></li><li><a class="py-1 block font-medium hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="#change-log">Change log</a></li><li><a class="py-1 block font-medium hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="#next-steps">Next steps</a></li></ul></div></div></div></div></div></div></main></div></html>