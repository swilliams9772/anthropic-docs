<!DOCTYPE html>
<html class="dark" lang="en"><head><meta charset="utf-8"/><meta content="width=device-width" name="viewport"/><link href="https://mintlify.s3-us-west-1.amazonaws.com/anthropic/_generated/favicon/apple-touch-icon.png?v=3" rel="apple-touch-icon" sizes="180x180" type="image/png"/><link href="https://mintlify.s3-us-west-1.amazonaws.com/anthropic/_generated/favicon/favicon-32x32.png?v=3" rel="icon" sizes="32x32" type="image/png"/><link href="https://mintlify.s3-us-west-1.amazonaws.com/anthropic/_generated/favicon/favicon-16x16.png?v=3" rel="icon" sizes="16x16" type="image/png"/><link href="https://mintlify.s3-us-west-1.amazonaws.com/anthropic/_generated/favicon/favicon.ico?v=3" rel="shortcut icon" type="image/x-icon"/><meta content="https://mintlify.s3-us-west-1.amazonaws.com/anthropic/_generated/favicon/browserconfig.xml?v=3" name="msapplication-config"/><meta content="Anthropic" name="apple-mobile-web-app-title"/><meta content="Anthropic" name="application-name"/><meta content="#0E0E0E" name="msapplication-TileColor"/><meta content="#ffffff" name="theme-color"/><link href="/sitemap.xml" rel="sitemap" type="application/xml"/><meta content="utf-8" name="charset"/><meta content="website" name="og:type"/><meta content="Anthropic" name="og:site_name"/><meta content="summary_large_image" name="twitter:card"/><meta content="Customer support agent - Anthropic" name="og:title"/><meta content="Customer support agent - Anthropic" name="twitter:title"/><meta content="https://mintlify.com/docs/api/og?division=Documentation&amp;mode=light&amp;title=Customer+support+agent&amp;description=This+guide+walks+through+how+to+leverage+Claude%27s+advanced+conversational+capabilities+to+handle+customer+inquiries+in+real+time%2C+providing+24%2F7+support%2C+reducing+wait+times%2C+and+managing+high+support+volumes+with+accurate+responses+and+positive+interactions.&amp;logoLight=https%3A%2F%2Fmintlify.s3.us-west-1.amazonaws.com%2Fanthropic%2Flogo%2Flight.svg&amp;logoDark=https%3A%2F%2Fmintlify.s3.us-west-1.amazonaws.com%2Fanthropic%2Flogo%2Fdark.svg&amp;primaryColor=%230E0E0E&amp;lightColor=%23D4A27F&amp;darkColor=%230E0E0E" name="og:image"/><meta content="https://mintlify.com/docs/api/og?division=Documentation&amp;mode=light&amp;title=Customer+support+agent&amp;description=This+guide+walks+through+how+to+leverage+Claude%27s+advanced+conversational+capabilities+to+handle+customer+inquiries+in+real+time%2C+providing+24%2F7+support%2C+reducing+wait+times%2C+and+managing+high+support+volumes+with+accurate+responses+and+positive+interactions.&amp;logoLight=https%3A%2F%2Fmintlify.s3.us-west-1.amazonaws.com%2Fanthropic%2Flogo%2Flight.svg&amp;logoDark=https%3A%2F%2Fmintlify.s3.us-west-1.amazonaws.com%2Fanthropic%2Flogo%2Fdark.svg&amp;primaryColor=%230E0E0E&amp;lightColor=%23D4A27F&amp;darkColor=%230E0E0E" name="twitter:image"/><meta content="This guide walks through how to leverage Claude's advanced conversational capabilities to handle customer inquiries in real time, providing 24/7 support, reducing wait times, and managing high support volumes with accurate responses and positive interactions." name="og:description"/><meta content="This guide walks through how to leverage Claude's advanced conversational capabilities to handle customer inquiries in real time, providing 24/7 support, reducing wait times, and managing high support volumes with accurate responses and positive interactions." name="description"/><title>Customer support agent - Anthropic</title><meta content="/en/docs/about-claude/use-case-guides/customer-support-chat" name="og:url"/><link href="/en/docs/about-claude/use-case-guides/customer-support-chat" rel="canonical"/><meta content="25" name="next-head-count"/><link crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/katex@0.16.0/dist/katex.min.css" integrity="sha384-Xi8rHCmBmhbuyyhbI88391ZKP2dmfnOl4rT9ZfRI7mLTdk1wblIUnrIq35nqwEvC" rel="stylesheet"/><link as="font" crossorigin="anonymous" data-next-font="size-adjust" href="/_next/static/media/a34f9d1faa5f3315-s.p.woff2" rel="preload" type="font/woff2"/><link as="font" crossorigin="anonymous" data-next-font="size-adjust" href="/_next/static/media/bb3ef058b751a6ad-s.p.woff2" rel="preload" type="font/woff2"/><link as="style" href="/_next/static/css/dc50e134f609f53d.css" rel="preload"/><link data-n-g="" href="/_next/static/css/dc50e134f609f53d.css" rel="stylesheet"/><noscript data-n-css=""></noscript></head><div id="__next"><main class="jsx-4145347147"><div class="relative antialiased text-gray-500 dark:text-gray-400"><div class="z-30 fixed lg:sticky top-0 w-full" id="navbar"><div class="max-w-8xl mx-auto relative"><div class=""><div class="relative"><div class="flex items-center lg:px-12 h-16 min-w-0 mx-4 lg:mx-0"><div class="h-full relative flex-1 flex items-center gap-x-4 min-w-0 border-b border-gray-500/5 dark:border-gray-300/[0.06]"><div class="flex-1 flex items-center gap-x-4"><a href="/"><span class="sr-only">Anthropic<!-- --> home page</span></a><div class="flex items-center gap-x-2"><button aria-expanded="false" aria-haspopup="menu" class="group bg-background-light dark:bg-background-dark disabled:pointer-events-none [&amp;&gt;span]:line-clamp-1 overflow-hidden group outline-none group-hover:text-zinc-950/70 dark:group-hover:text-white/70 text-xs gap-1.5 text-gray-500 dark:text-gray-400 leading-5 font-semibold border border-gray-200 dark:border-gray-800 hover:border-gray-300 dark:hover:border-gray-700 rounded-full py-1 px-3 flex items-center space-x-2 whitespace-nowrap" data-state="closed" id="radix-:R25fcql6:" type="button">English</button></div></div><div class="hidden lg:block mx-px relative flex-1 bg-white dark:bg-gray-900 pointer-events-auto rounded-xl min-w-0"><button class="w-full flex items-center text-sm leading-6 rounded-xl py-1.5 pl-3.5 pr-3 shadow-sm text-gray-400 dark:text-white/50 bg-background-light dark:bg-background-dark dark:brightness-[1.1] dark:ring-1 dark:hover:brightness-[1.25] ring-1 ring-gray-400/20 hover:ring-gray-600/25 dark:ring-gray-600/30 dark:hover:ring-gray-500/30 focus:outline-primary justify-between truncate gap-2 min-w-[43px]" id="search-bar-entry" type="button"><div class="flex items-center gap-3 min-w-[42px]"><div class="truncate min-w-0">Search...</div></div></button></div><div class="flex lg:hidden items-center gap-2"><button class="text-gray-500 w-8 h-8 flex items-center justify-center hover:text-gray-600 dark:text-gray-400 dark:hover:text-gray-300" id="search-bar-entry-mobile" type="button"><span class="sr-only">Search...</span></button></div></div></div><div class="flex items-center h-14 py-4 px-5 lg:hidden"><button class="text-gray-500 hover:text-gray-600 dark:text-gray-400 dark:hover:text-gray-300" type="button"><span class="sr-only">Navigation</span></button><div class="ml-4 flex text-sm leading-6 whitespace-nowrap min-w-0 space-x-3"><div class="flex items-center space-x-3"><span>Use cases</span></div><div class="font-semibold text-gray-900 truncate dark:text-gray-200">Customer support agent</div></div></div></div><div class="hidden lg:flex px-12 h-12"><div class="h-full flex text-sm space-x-6"><a class="group relative h-full flex items-center font-medium text-gray-600 dark:text-gray-400 group-hover:text-gray-800 dark:group-hover:text-gray-300" href="/en/home">Welcome</a><a class="group relative h-full flex items-center text-gray-800 dark:text-gray-200 font-semibold" href="/en/docs/welcome">User Guides</a><a class="group relative h-full flex items-center font-medium text-gray-600 dark:text-gray-400 group-hover:text-gray-800 dark:group-hover:text-gray-300" href="/en/api/getting-started">API Reference</a><a class="group relative h-full flex items-center font-medium text-gray-600 dark:text-gray-400 group-hover:text-gray-800 dark:group-hover:text-gray-300" href="/en/prompt-library/library">Prompt Library</a><a class="group relative h-full flex items-center font-medium text-gray-600 dark:text-gray-400 group-hover:text-gray-800 dark:group-hover:text-gray-300" href="/en/release-notes/overview">Release Notes</a></div></div></div></div></div><div class="max-w-8xl px-4 mx-auto lg:px-8 min-h-screen"><div class="z-20 hidden lg:block fixed bottom-0 right-auto w-[18rem] top-[7.1rem]" id="sidebar"><div class="absolute inset-0 z-10 stable-scrollbar-gutter overflow-auto pr-8 pb-10" id="sidebar-content"><div class="relative lg:text-sm lg:leading-6"><div id="navigation-items"><li class="list-none"><a class="pl-4 group flex items-center lg:text-sm lg:leading-6 mb-5 sm:mb-4 font-medium text-gray-600 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="https://console.anthropic.com/" rel="noreferrer" target="_blank">Developer Console</a></li><li class="list-none"><a class="pl-4 group flex items-center lg:text-sm lg:leading-6 mb-5 sm:mb-4 font-medium text-gray-600 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="https://www.anthropic.com/discord" rel="noreferrer" target="_blank">Developer Discord</a></li><li class="list-none"><a class="pl-4 group flex items-center lg:text-sm lg:leading-6 mb-5 sm:mb-4 font-medium text-gray-600 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="https://support.anthropic.com/" rel="noreferrer" target="_blank">Support</a></li><div class="mt-12 lg:mt-8"><h5 class="pl-4 mb-3.5 lg:mb-2.5 font-semibold text-gray-900 dark:text-gray-200">Get started</h5><ul><li class="scroll-m-4 first:scroll-m-20" id="/en/docs/welcome"><a class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light space-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="/en/docs/welcome" style="padding-left:1rem"><div class="flex-1 flex items-center space-x-2.5"><div>Overview</div></div></a></li><li class="scroll-m-4 first:scroll-m-20" id="/en/docs/initial-setup"><a class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light space-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="/en/docs/initial-setup" style="padding-left:1rem"><div class="flex-1 flex items-center space-x-2.5"><div>Initial setup</div></div></a></li><li class="scroll-m-4 first:scroll-m-20" id="/en/docs/intro-to-claude"><a class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light space-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="/en/docs/intro-to-claude" style="padding-left:1rem"><div class="flex-1 flex items-center space-x-2.5"><div>Intro to Claude</div></div></a></li></ul></div><div class="mt-12 lg:mt-8"><h5 class="pl-4 mb-3.5 lg:mb-2.5 font-semibold text-gray-900 dark:text-gray-200">Learn about Claude</h5><ul><li><div class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light space-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" style="padding-left:1rem"><div>Use cases</div></div><ul><li class="scroll-m-4 first:scroll-m-20" id="/en/docs/about-claude/use-case-guides/overview"><a class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light space-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="/en/docs/about-claude/use-case-guides/overview" style="padding-left:1.75rem"><div class="flex-1 flex items-center space-x-2.5"><div>Overview</div></div></a></li><li class="scroll-m-4 first:scroll-m-20" id="/en/docs/about-claude/use-case-guides/ticket-routing"><a class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light space-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="/en/docs/about-claude/use-case-guides/ticket-routing" style="padding-left:1.75rem"><div class="flex-1 flex items-center space-x-2.5"><div>Ticket routing</div></div></a></li><li class="scroll-m-4 first:scroll-m-20" id="/en/docs/about-claude/use-case-guides/customer-support-chat"><a class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light space-x-3 rounded-xl bg-primary/10 text-primary font-semibold dark:text-primary-light dark:bg-primary-light/10" href="/en/docs/about-claude/use-case-guides/customer-support-chat" style="padding-left:1.75rem"><div class="flex-1 flex items-center space-x-2.5"><div>Customer support agent</div></div></a></li><li class="scroll-m-4 first:scroll-m-20" id="/en/docs/about-claude/use-case-guides/content-moderation"><a class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light space-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="/en/docs/about-claude/use-case-guides/content-moderation" style="padding-left:1.75rem"><div class="flex-1 flex items-center space-x-2.5"><div>Content moderation</div></div></a></li><li class="scroll-m-4 first:scroll-m-20" id="/en/docs/about-claude/use-case-guides/legal-summarization"><a class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light space-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="/en/docs/about-claude/use-case-guides/legal-summarization" style="padding-left:1.75rem"><div class="flex-1 flex items-center space-x-2.5"><div>Legal summarization</div></div></a></li></ul></li><li><div class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light space-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" style="padding-left:1rem"><div>Models &amp; pricing</div></div></li><li class="scroll-m-4 first:scroll-m-20" id="https://trust.anthropic.com/"><a class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light space-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="https://trust.anthropic.com/" style="padding-left:1rem" target="_blank"><div class="flex-1 flex items-center space-x-2.5"><div>Security and compliance</div></div></a></li></ul></div><div class="mt-12 lg:mt-8"><h5 class="pl-4 mb-3.5 lg:mb-2.5 font-semibold text-gray-900 dark:text-gray-200">Build with Claude</h5><ul><li class="scroll-m-4 first:scroll-m-20" id="/en/docs/build-with-claude/define-success"><a class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light space-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="/en/docs/build-with-claude/define-success" style="padding-left:1rem"><div class="flex-1 flex items-center space-x-2.5"><div>Define success criteria</div></div></a></li><li class="scroll-m-4 first:scroll-m-20" id="/en/docs/build-with-claude/develop-tests"><a class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light space-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="/en/docs/build-with-claude/develop-tests" style="padding-left:1rem"><div class="flex-1 flex items-center space-x-2.5"><div>Develop test cases</div></div></a></li><li class="scroll-m-4 first:scroll-m-20" id="/en/docs/build-with-claude/context-windows"><a class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light space-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="/en/docs/build-with-claude/context-windows" style="padding-left:1rem"><div class="flex-1 flex items-center space-x-2.5"><div>Context windows</div></div></a></li><li class="scroll-m-4 first:scroll-m-20" id="/en/docs/build-with-claude/vision"><a class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light space-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="/en/docs/build-with-claude/vision" style="padding-left:1rem"><div class="flex-1 flex items-center space-x-2.5"><div>Vision</div></div></a></li><li><div class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light space-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" style="padding-left:1rem"><div>Prompt engineering</div></div></li><li class="scroll-m-4 first:scroll-m-20" id="/en/docs/build-with-claude/extended-thinking"><a class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light space-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="/en/docs/build-with-claude/extended-thinking" style="padding-left:1rem"><div class="flex-1 flex items-center space-x-2.5"><div>Extended thinking</div></div></a></li><li class="scroll-m-4 first:scroll-m-20" id="/en/docs/build-with-claude/multilingual-support"><a class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light space-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="/en/docs/build-with-claude/multilingual-support" style="padding-left:1rem"><div class="flex-1 flex items-center space-x-2.5"><div>Multilingual support</div></div></a></li><li><div class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light space-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" style="padding-left:1rem"><div>Tool use (function calling)</div></div></li><li class="scroll-m-4 first:scroll-m-20" id="/en/docs/build-with-claude/prompt-caching"><a class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light space-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="/en/docs/build-with-claude/prompt-caching" style="padding-left:1rem"><div class="flex-1 flex items-center space-x-2.5"><div>Prompt caching</div></div></a></li><li class="scroll-m-4 first:scroll-m-20" id="/en/docs/build-with-claude/pdf-support"><a class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light space-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="/en/docs/build-with-claude/pdf-support" style="padding-left:1rem"><div class="flex-1 flex items-center space-x-2.5"><div>PDF support</div></div></a></li><li class="scroll-m-4 first:scroll-m-20" id="/en/docs/build-with-claude/citations"><a class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light space-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="/en/docs/build-with-claude/citations" style="padding-left:1rem"><div class="flex-1 flex items-center space-x-2.5"><div>Citations</div></div></a></li><li class="scroll-m-4 first:scroll-m-20" id="/en/docs/build-with-claude/token-counting"><a class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light space-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="/en/docs/build-with-claude/token-counting" style="padding-left:1rem"><div class="flex-1 flex items-center space-x-2.5"><div>Token counting</div></div></a></li><li class="scroll-m-4 first:scroll-m-20" id="/en/docs/build-with-claude/batch-processing"><a class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light space-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="/en/docs/build-with-claude/batch-processing" style="padding-left:1rem"><div class="flex-1 flex items-center space-x-2.5"><div>Batch processing</div></div></a></li><li class="scroll-m-4 first:scroll-m-20" id="/en/docs/build-with-claude/embeddings"><a class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light space-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="/en/docs/build-with-claude/embeddings" style="padding-left:1rem"><div class="flex-1 flex items-center space-x-2.5"><div>Embeddings</div></div></a></li></ul></div><div class="mt-12 lg:mt-8"><h5 class="pl-4 mb-3.5 lg:mb-2.5 font-semibold text-gray-900 dark:text-gray-200">Agents and tools</h5><ul><li><div class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light space-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" style="padding-left:1rem"><div>Claude Code</div></div></li><li class="scroll-m-4 first:scroll-m-20" id="/en/docs/agents-and-tools/computer-use"><a class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light space-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="/en/docs/agents-and-tools/computer-use" style="padding-left:1rem"><div class="flex-1 flex items-center space-x-2.5"><div>Computer use (beta)</div></div></a></li><li class="scroll-m-4 first:scroll-m-20" id="/en/docs/agents-and-tools/mcp"><a class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light space-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="/en/docs/agents-and-tools/mcp" style="padding-left:1rem"><div class="flex-1 flex items-center space-x-2.5"><div>Model Context Protocol (MCP)</div></div></a></li><li class="scroll-m-4 first:scroll-m-20" id="/en/docs/agents-and-tools/claude-for-sheets"><a class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light space-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="/en/docs/agents-and-tools/claude-for-sheets" style="padding-left:1rem"><div class="flex-1 flex items-center space-x-2.5"><div>Google Sheets add-on</div></div></a></li></ul></div><div class="mt-12 lg:mt-8"><h5 class="pl-4 mb-3.5 lg:mb-2.5 font-semibold text-gray-900 dark:text-gray-200">Test and evaluate</h5><ul><li><div class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light space-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" style="padding-left:1rem"><div>Strengthen guardrails</div></div></li><li class="scroll-m-4 first:scroll-m-20" id="/en/docs/test-and-evaluate/eval-tool"><a class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light space-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="/en/docs/test-and-evaluate/eval-tool" style="padding-left:1rem"><div class="flex-1 flex items-center space-x-2.5"><div>Using the Evaluation Tool</div></div></a></li></ul></div><div class="mt-12 lg:mt-8"><h5 class="pl-4 mb-3.5 lg:mb-2.5 font-semibold text-gray-900 dark:text-gray-200">Administration</h5><ul><li class="scroll-m-4 first:scroll-m-20" id="/en/docs/administration/administration-api"><a class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light space-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="/en/docs/administration/administration-api" style="padding-left:1rem"><div class="flex-1 flex items-center space-x-2.5"><div>Admin API</div></div></a></li></ul></div><div class="mt-12 lg:mt-8"><h5 class="pl-4 mb-3.5 lg:mb-2.5 font-semibold text-gray-900 dark:text-gray-200">Resources</h5><ul><li class="scroll-m-4 first:scroll-m-20" id="/en/docs/resources/glossary"><a class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light space-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="/en/docs/resources/glossary" style="padding-left:1rem"><div class="flex-1 flex items-center space-x-2.5"><div>Glossary</div></div></a></li><li class="scroll-m-4 first:scroll-m-20" id="/en/docs/resources/model-deprecations"><a class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light space-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="/en/docs/resources/model-deprecations" style="padding-left:1rem"><div class="flex-1 flex items-center space-x-2.5"><div>Model deprecations</div></div></a></li><li class="scroll-m-4 first:scroll-m-20" id="https://status.anthropic.com/"><a class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light space-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="https://status.anthropic.com/" style="padding-left:1rem" target="_blank"><div class="flex-1 flex items-center space-x-2.5"><div>System status</div></div></a></li><li class="scroll-m-4 first:scroll-m-20" id="https://assets.anthropic.com/m/61e7d27f8c8f5919/original/Claude-3-Model-Card.pdf"><a class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light space-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="https://assets.anthropic.com/m/61e7d27f8c8f5919/original/Claude-3-Model-Card.pdf" style="padding-left:1rem" target="_blank"><div class="flex-1 flex items-center space-x-2.5"><div>Claude 3 model card</div></div></a></li><li class="scroll-m-4 first:scroll-m-20" id="https://anthropic.com/claude-3-7-sonnet-system-card"><a class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light space-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="https://anthropic.com/claude-3-7-sonnet-system-card" style="padding-left:1rem" target="_blank"><div class="flex-1 flex items-center space-x-2.5"><div>Claude 3.7 system card</div></div></a></li><li class="scroll-m-4 first:scroll-m-20" id="https://github.com/anthropics/anthropic-cookbook"><a class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light space-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="https://github.com/anthropics/anthropic-cookbook" style="padding-left:1rem" target="_blank"><div class="flex-1 flex items-center space-x-2.5"><div>Anthropic Cookbook</div></div></a></li><li class="scroll-m-4 first:scroll-m-20" id="https://github.com/anthropics/courses"><a class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light space-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="https://github.com/anthropics/courses" style="padding-left:1rem" target="_blank"><div class="flex-1 flex items-center space-x-2.5"><div>Anthropic Courses</div></div></a></li><li class="scroll-m-4 first:scroll-m-20" id="/en/docs/resources/api-features"><a class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light space-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="/en/docs/resources/api-features" style="padding-left:1rem"><div class="flex-1 flex items-center space-x-2.5"><div>API features</div></div></a></li></ul></div><div class="mt-12 lg:mt-8"><h5 class="pl-4 mb-3.5 lg:mb-2.5 font-semibold text-gray-900 dark:text-gray-200">Legal center</h5><ul><li class="scroll-m-4 first:scroll-m-20" id="https://www.anthropic.com/legal/privacy"><a class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light space-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="https://www.anthropic.com/legal/privacy" style="padding-left:1rem" target="_blank"><div class="flex-1 flex items-center space-x-2.5"><div>Anthropic Privacy Policy</div></div></a></li></ul></div></div></div></div></div><div class="" id="content-container"><div class="flex flex-row gap-12 box-border w-full pt-40 lg:pt-10"><div class="relative grow box-border flex-col w-full mx-auto px-1 lg:pl-[23.7rem] lg:-ml-12 xl:w-[calc(100%-28rem)]" id="content-area"><div class="relative mt-8 prose prose-gray dark:prose-invert"><h2 class="flex whitespace-pre-wrap group" id="before-building-with-claude"><div class="absolute"><a aria-label="Navigate to header" class="-ml-10 flex items-center opacity-0 border-0 group-hover:opacity-100" href="#before-building-with-claude">​</a></div><span class="cursor-pointer">Before building with Claude</span></h2>
<h3 class="flex whitespace-pre-wrap group" id="decide-whether-to-use-claude-for-support-chat"><div class="absolute"><a aria-label="Navigate to header" class="-ml-10 flex items-center opacity-0 border-0 group-hover:opacity-100" href="#decide-whether-to-use-claude-for-support-chat">​</a></div><span class="cursor-pointer">Decide whether to use Claude for support chat</span></h3>
<p>Here are some key indicators that you should employ an LLM like Claude to automate portions of your customer support process:</p>
<div class="[&amp;&gt;div]:border-0 [&amp;&gt;div]:rounded-none [&amp;&gt;div&gt;button]:rounded-none [&amp;&gt;div]:mb-0 overflow-hidden mt-0 mb-3 rounded-xl prose prose-gray dark:prose-invert divide-y divide-inherit border dark:border-gray-800/50"><div class="border-standard rounded-2xl mb-3 overflow-hidden bg-background-light dark:bg-codeblock" role="button"><button aria-controls="high-volume-of-repetitive-queries accordion children" aria-expanded="false" class="relative not-prose flex flex-row items-center content-center w-full py-4 px-5 space-x-2 hover:bg-gray-100 hover:dark:bg-gray-800 rounded-t-xl"><div class="leading-tight text-left"><p class="m-0 font-medium text-gray-900 dark:text-gray-200">High volume of repetitive queries</p></div></button><div class="mt-2 mb-4 mx-6 hidden" id="high-volume-of-repetitive-queries accordion children"><p>Claude excels at handling a large number of similar questions efficiently, freeing up human agents for more complex issues.</p></div></div><div class="border-standard rounded-2xl mb-3 overflow-hidden bg-background-light dark:bg-codeblock" role="button"><button aria-controls="need-for-quick-information-synthesis accordion children" aria-expanded="false" class="relative not-prose flex flex-row items-center content-center w-full py-4 px-5 space-x-2 hover:bg-gray-100 hover:dark:bg-gray-800 rounded-t-xl"><div class="leading-tight text-left"><p class="m-0 font-medium text-gray-900 dark:text-gray-200">Need for quick information synthesis</p></div></button><div class="mt-2 mb-4 mx-6 hidden" id="need-for-quick-information-synthesis accordion children"><p>Claude can quickly retrieve, process, and combine information from vast knowledge bases, while human agents may need time to research or consult multiple sources.</p></div></div><div class="border-standard rounded-2xl mb-3 overflow-hidden bg-background-light dark:bg-codeblock" role="button"><button aria-controls="24-7-availability-requirement accordion children" aria-expanded="false" class="relative not-prose flex flex-row items-center content-center w-full py-4 px-5 space-x-2 hover:bg-gray-100 hover:dark:bg-gray-800 rounded-t-xl"><div class="leading-tight text-left"><p class="m-0 font-medium text-gray-900 dark:text-gray-200">24/7 availability requirement</p></div></button><div class="mt-2 mb-4 mx-6 hidden" id="24-7-availability-requirement accordion children"><p>Claude can provide round-the-clock support without fatigue, whereas staffing human agents for continuous coverage can be costly and challenging.</p></div></div><div class="border-standard rounded-2xl mb-3 overflow-hidden bg-background-light dark:bg-codeblock" role="button"><button aria-controls="rapid-scaling-during-peak-periods accordion children" aria-expanded="false" class="relative not-prose flex flex-row items-center content-center w-full py-4 px-5 space-x-2 hover:bg-gray-100 hover:dark:bg-gray-800 rounded-t-xl"><div class="leading-tight text-left"><p class="m-0 font-medium text-gray-900 dark:text-gray-200">Rapid scaling during peak periods</p></div></button><div class="mt-2 mb-4 mx-6 hidden" id="rapid-scaling-during-peak-periods accordion children"><p>Claude can handle sudden increases in query volume without the need for hiring and training additional staff.</p></div></div><div class="border-standard rounded-2xl mb-3 overflow-hidden bg-background-light dark:bg-codeblock" role="button"><button aria-controls="consistent-brand-voice accordion children" aria-expanded="false" class="relative not-prose flex flex-row items-center content-center w-full py-4 px-5 space-x-2 hover:bg-gray-100 hover:dark:bg-gray-800 rounded-t-xl"><div class="leading-tight text-left"><p class="m-0 font-medium text-gray-900 dark:text-gray-200">Consistent brand voice</p></div></button><div class="mt-2 mb-4 mx-6 hidden" id="consistent-brand-voice accordion children"><p>You can instruct Claude to consistently represent your brand’s tone and values, whereas human agents may vary in their communication styles.</p></div></div></div>
<p>Some considerations for choosing Claude over other LLMs:</p>
<ul>
<li>You prioritize natural, nuanced conversation: Claude’s sophisticated language understanding allows for more natural, context-aware conversations that feel more human-like than chats with other LLMs.</li>
<li>You often receive complex and open-ended queries: Claude can handle a wide range of topics and inquiries without generating canned responses or requiring extensive programming of permutations of user utterances.</li>
<li>You need scalable multilingual support: Claude’s multilingual capabilities allow it to engage in conversations in over 200 languages without the need for separate chatbots or extensive translation processes for each supported language.</li>
</ul>
<h3 class="flex whitespace-pre-wrap group" id="define-your-ideal-chat-interaction"><div class="absolute"><a aria-label="Navigate to header" class="-ml-10 flex items-center opacity-0 border-0 group-hover:opacity-100" href="#define-your-ideal-chat-interaction">​</a></div><span class="cursor-pointer">Define your ideal chat interaction</span></h3>
<p>Outline an ideal customer interaction to define how and when you expect the customer to interact with Claude. This outline will help to determine the technical requirements of your solution.</p>
<p>Here is an example chat interaction for car insurance customer support:</p>
<ul>
<li><strong>Customer</strong>: Initiates support chat experience<!-- -->
<ul>
<li><strong>Claude</strong>: Warmly greets customer and initiates conversation</li>
</ul>
</li>
<li><strong>Customer</strong>: Asks about insurance for their new electric car<!-- -->
<ul>
<li><strong>Claude</strong>: Provides relevant information about electric vehicle coverage</li>
</ul>
</li>
<li><strong>Customer</strong>: Asks questions related to unique needs for electric vehicle insurances<!-- -->
<ul>
<li><strong>Claude</strong>: Responds with accurate and informative answers and provides links to the sources</li>
</ul>
</li>
<li><strong>Customer</strong>: Asks off-topic questions unrelated to insurance or cars<!-- -->
<ul>
<li><strong>Claude</strong>: Clarifies it does not discuss unrelated topics and steers the user back to car insurance</li>
</ul>
</li>
<li><strong>Customer</strong>: Expresses interest in an insurance quote<!-- -->
<ul>
<li><strong>Claude</strong>: Ask a set of questions to determine the appropriate quote, adapting to their responses</li>
<li><strong>Claude</strong>: Sends a request to use the quote generation API tool along with necessary information collected from the user</li>
<li><strong>Claude</strong>: Receives the response information from the API tool use, synthesizes the information into a natural response, and presents the provided quote to the user</li>
</ul>
</li>
<li><strong>Customer</strong>: Asks follow up questions<!-- -->
<ul>
<li><strong>Claude</strong>: Answers follow up questions as needed</li>
<li><strong>Claude</strong>: Guides the customer to the next steps in the insurance process and closes out the conversation</li>
</ul>
</li>
</ul>
<div class="my-4 px-5 py-4 overflow-hidden rounded-2xl flex gap-3 border border-emerald-500/20 bg-emerald-50/50 dark:border-emerald-500/30 dark:bg-emerald-500/10"><div class="text-sm prose min-w-0 text-emerald-900 dark:text-emerald-200">In the real example that you write for your own use case, you might find it useful to write out the actual words in this interaction so that you can also get a sense of the ideal tone, response length, and level of detail you want Claude to have.</div></div>
<h3 class="flex whitespace-pre-wrap group" id="break-the-interaction-into-unique-tasks"><div class="absolute"><a aria-label="Navigate to header" class="-ml-10 flex items-center opacity-0 border-0 group-hover:opacity-100" href="#break-the-interaction-into-unique-tasks">​</a></div><span class="cursor-pointer">Break the interaction into unique tasks</span></h3>
<p>Customer support chat is a collection of multiple different tasks, from question answering to information retrieval to taking action on requests, wrapped up in a single customer interaction. Before you start building, break down your ideal customer interaction into every task you want Claude to be able to perform. This ensures you can prompt and evaluate Claude for every task, and gives you a good sense of the range of interactions you need to account for when writing test cases.</p>
<div class="my-4 px-5 py-4 overflow-hidden rounded-2xl flex gap-3 border border-emerald-500/20 bg-emerald-50/50 dark:border-emerald-500/30 dark:bg-emerald-500/10"><div class="text-sm prose min-w-0 text-emerald-900 dark:text-emerald-200">Customers sometimes find it helpful to visualize this as an interaction flowchart of possible conversation inflection points depending on user requests.</div></div>
<p>Here are the key tasks associated with the example insurance interaction above:</p>
<ol>
<li>
<p>Greeting and general guidance</p>
<ul>
<li>Warmly greet the customer and initiate conversation</li>
<li>Provide general information about the company and interaction</li>
</ul>
</li>
<li>
<p>Product Information</p>
<ul>
<li>Provide information about electric vehicle coverage
<div class="my-4 px-5 py-4 overflow-hidden rounded-2xl flex gap-3 border border-sky-500/20 bg-sky-50/50 dark:border-sky-500/30 dark:bg-sky-500/10"><div class="text-sm prose min-w-0 text-sky-900 dark:text-sky-200">This will require that Claude have the necessary information in its context, and might imply that a <a href="https://github.com/anthropics/anthropic-cookbook/blob/main/skills/retrieval_augmented_generation/guide.ipynb" rel="noreferrer" target="_blank">RAG integration</a> is necessary.</div></div></li>
<li>Answer questions related to unique electric vehicle insurance needs</li>
<li>Answer follow-up questions about the quote or insurance details</li>
<li>Offer links to sources when appropriate</li>
</ul>
</li>
<li>
<p>Conversation Management</p>
<ul>
<li>Stay on topic (car insurance)</li>
<li>Redirect off-topic questions back to relevant subjects</li>
</ul>
</li>
<li>
<p>Quote Generation</p>
<ul>
<li>Ask appropriate questions to determine quote eligibility</li>
<li>Adapt questions based on customer responses</li>
<li>Submit collected information to quote generation API</li>
<li>Present the provided quote to the customer</li>
</ul>
</li>
</ol>
<h3 class="flex whitespace-pre-wrap group" id="establish-success-criteria"><div class="absolute"><a aria-label="Navigate to header" class="-ml-10 flex items-center opacity-0 border-0 group-hover:opacity-100" href="#establish-success-criteria">​</a></div><span class="cursor-pointer">Establish success criteria</span></h3>
<p>Work with your support team to <a href="https://docs.anthropic.com/en/docs/build-with-claude/define-success" rel="noreferrer" target="_blank">define clear success criteria</a> and write <a href="https://docs.anthropic.com/en/docs/build-with-claude/develop-tests" rel="noreferrer" target="_blank">detailed evaluations</a> with measurable benchmarks and goals.</p>
<p>Here are criteria and benchmarks that can be used to evaluate how successfully Claude performs the defined tasks:</p>
<div class="[&amp;&gt;div]:border-0 [&amp;&gt;div]:rounded-none [&amp;&gt;div&gt;button]:rounded-none [&amp;&gt;div]:mb-0 overflow-hidden mt-0 mb-3 rounded-xl prose prose-gray dark:prose-invert divide-y divide-inherit border dark:border-gray-800/50"><div class="border-standard rounded-2xl mb-3 overflow-hidden bg-background-light dark:bg-codeblock" role="button"><button aria-controls="query-comprehension-accuracy accordion children" aria-expanded="false" class="relative not-prose flex flex-row items-center content-center w-full py-4 px-5 space-x-2 hover:bg-gray-100 hover:dark:bg-gray-800 rounded-t-xl"><div class="leading-tight text-left"><p class="m-0 font-medium text-gray-900 dark:text-gray-200">Query comprehension accuracy</p></div></button><div class="mt-2 mb-4 mx-6 hidden" id="query-comprehension-accuracy accordion children"><p>This metric evaluates how accurately Claude understands customer inquiries across various topics. Measure this by reviewing a sample of conversations and assessing whether Claude has the correct interpretation of customer intent, critical next steps, what successful resolution looks like, and more. Aim for a comprehension accuracy of 95% or higher.</p></div></div><div class="border-standard rounded-2xl mb-3 overflow-hidden bg-background-light dark:bg-codeblock" role="button"><button aria-controls="response-relevance accordion children" aria-expanded="false" class="relative not-prose flex flex-row items-center content-center w-full py-4 px-5 space-x-2 hover:bg-gray-100 hover:dark:bg-gray-800 rounded-t-xl"><div class="leading-tight text-left"><p class="m-0 font-medium text-gray-900 dark:text-gray-200">Response relevance</p></div></button><div class="mt-2 mb-4 mx-6 hidden" id="response-relevance accordion children"><p>This assesses how well Claude’s response addresses the customer’s specific question or issue. Evaluate a set of conversations and rate the relevance of each response (using LLM-based grading for scale). Target a relevance score of 90% or above.</p></div></div><div class="border-standard rounded-2xl mb-3 overflow-hidden bg-background-light dark:bg-codeblock" role="button"><button aria-controls="response-accuracy accordion children" aria-expanded="false" class="relative not-prose flex flex-row items-center content-center w-full py-4 px-5 space-x-2 hover:bg-gray-100 hover:dark:bg-gray-800 rounded-t-xl"><div class="leading-tight text-left"><p class="m-0 font-medium text-gray-900 dark:text-gray-200">Response accuracy</p></div></button><div class="mt-2 mb-4 mx-6 hidden" id="response-accuracy accordion children"><p>Assess the correctness of general company and product information provided to the user, based on the information provided to Claude in context. Target 100% accuracy in this introductory information.</p></div></div><div class="border-standard rounded-2xl mb-3 overflow-hidden bg-background-light dark:bg-codeblock" role="button"><button aria-controls="citation-provision-relevance accordion children" aria-expanded="false" class="relative not-prose flex flex-row items-center content-center w-full py-4 px-5 space-x-2 hover:bg-gray-100 hover:dark:bg-gray-800 rounded-t-xl"><div class="leading-tight text-left"><p class="m-0 font-medium text-gray-900 dark:text-gray-200">Citation provision relevance</p></div></button><div class="mt-2 mb-4 mx-6 hidden" id="citation-provision-relevance accordion children"><p>Track the frequency and relevance of links or sources offered. Target providing relevant sources in 80% of interactions where additional information could be beneficial.</p></div></div><div class="border-standard rounded-2xl mb-3 overflow-hidden bg-background-light dark:bg-codeblock" role="button"><button aria-controls="topic-adherence accordion children" aria-expanded="false" class="relative not-prose flex flex-row items-center content-center w-full py-4 px-5 space-x-2 hover:bg-gray-100 hover:dark:bg-gray-800 rounded-t-xl"><div class="leading-tight text-left"><p class="m-0 font-medium text-gray-900 dark:text-gray-200">Topic adherence</p></div></button><div class="mt-2 mb-4 mx-6 hidden" id="topic-adherence accordion children"><p>Measure how well Claude stays on topic, such as the topic of car insurance in our example implementation. Aim for 95% of responses to be directly related to car insurance or the customer’s specific query.</p></div></div><div class="border-standard rounded-2xl mb-3 overflow-hidden bg-background-light dark:bg-codeblock" role="button"><button aria-controls="content-generation-effectiveness accordion children" aria-expanded="false" class="relative not-prose flex flex-row items-center content-center w-full py-4 px-5 space-x-2 hover:bg-gray-100 hover:dark:bg-gray-800 rounded-t-xl"><div class="leading-tight text-left"><p class="m-0 font-medium text-gray-900 dark:text-gray-200">Content generation effectiveness</p></div></button><div class="mt-2 mb-4 mx-6 hidden" id="content-generation-effectiveness accordion children"><p>Measure how successful Claude is at determining when to generate informational content and how relevant that content is. For example, in our implementation, we would be determining how well Claude understands when to generate a quote and how accurate that quote is. Target 100% accuracy, as this is vital information for a successful customer interaction.</p></div></div><div class="border-standard rounded-2xl mb-3 overflow-hidden bg-background-light dark:bg-codeblock" role="button"><button aria-controls="escalation-efficiency accordion children" aria-expanded="false" class="relative not-prose flex flex-row items-center content-center w-full py-4 px-5 space-x-2 hover:bg-gray-100 hover:dark:bg-gray-800 rounded-t-xl"><div class="leading-tight text-left"><p class="m-0 font-medium text-gray-900 dark:text-gray-200">Escalation efficiency</p></div></button><div class="mt-2 mb-4 mx-6 hidden" id="escalation-efficiency accordion children"><p>This measures Claude’s ability to recognize when a query needs human intervention and escalate appropriately. Track the percentage of correctly escalated conversations versus those that should have been escalated but weren’t. Aim for an escalation accuracy of 95% or higher.</p></div></div></div>
<p>Here are criteria and benchmarks that can be used to evaluate the business impact of employing Claude for support:</p>
<div class="[&amp;&gt;div]:border-0 [&amp;&gt;div]:rounded-none [&amp;&gt;div&gt;button]:rounded-none [&amp;&gt;div]:mb-0 overflow-hidden mt-0 mb-3 rounded-xl prose prose-gray dark:prose-invert divide-y divide-inherit border dark:border-gray-800/50"><div class="border-standard rounded-2xl mb-3 overflow-hidden bg-background-light dark:bg-codeblock" role="button"><button aria-controls="sentiment-maintenance accordion children" aria-expanded="false" class="relative not-prose flex flex-row items-center content-center w-full py-4 px-5 space-x-2 hover:bg-gray-100 hover:dark:bg-gray-800 rounded-t-xl"><div class="leading-tight text-left"><p class="m-0 font-medium text-gray-900 dark:text-gray-200">Sentiment maintenance</p></div></button><div class="mt-2 mb-4 mx-6 hidden" id="sentiment-maintenance accordion children"><p>This assesses Claude’s ability to maintain or improve customer sentiment throughout the conversation. Use sentiment analysis tools to measure sentiment at the beginning and end of each conversation. Aim for maintained or improved sentiment in 90% of interactions.</p></div></div><div class="border-standard rounded-2xl mb-3 overflow-hidden bg-background-light dark:bg-codeblock" role="button"><button aria-controls="deflection-rate accordion children" aria-expanded="false" class="relative not-prose flex flex-row items-center content-center w-full py-4 px-5 space-x-2 hover:bg-gray-100 hover:dark:bg-gray-800 rounded-t-xl"><div class="leading-tight text-left"><p class="m-0 font-medium text-gray-900 dark:text-gray-200">Deflection rate</p></div></button><div class="mt-2 mb-4 mx-6 hidden" id="deflection-rate accordion children"><p>The percentage of customer inquiries successfully handled by the chatbot without human intervention. Typically aim for 70-80% deflection rate, depending on the complexity of inquiries.</p></div></div><div class="border-standard rounded-2xl mb-3 overflow-hidden bg-background-light dark:bg-codeblock" role="button"><button aria-controls="customer-satisfaction-score accordion children" aria-expanded="false" class="relative not-prose flex flex-row items-center content-center w-full py-4 px-5 space-x-2 hover:bg-gray-100 hover:dark:bg-gray-800 rounded-t-xl"><div class="leading-tight text-left"><p class="m-0 font-medium text-gray-900 dark:text-gray-200">Customer satisfaction score</p></div></button><div class="mt-2 mb-4 mx-6 hidden" id="customer-satisfaction-score accordion children"><p>A measure of how satisfied customers are with their chatbot interaction. Usually done through post-interaction surveys. Aim for a CSAT score of 4 out of 5 or higher.</p></div></div><div class="border-standard rounded-2xl mb-3 overflow-hidden bg-background-light dark:bg-codeblock" role="button"><button aria-controls="average-handle-time accordion children" aria-expanded="false" class="relative not-prose flex flex-row items-center content-center w-full py-4 px-5 space-x-2 hover:bg-gray-100 hover:dark:bg-gray-800 rounded-t-xl"><div class="leading-tight text-left"><p class="m-0 font-medium text-gray-900 dark:text-gray-200">Average handle time</p></div></button><div class="mt-2 mb-4 mx-6 hidden" id="average-handle-time accordion children"><p>The average time it takes for the chatbot to resolve an inquiry. This varies widely based on the complexity of issues, but generally, aim for a lower AHT compared to human agents.</p></div></div></div>
<h2 class="flex whitespace-pre-wrap group" id="how-to-implement-claude-as-a-customer-service-agent"><div class="absolute"><a aria-label="Navigate to header" class="-ml-10 flex items-center opacity-0 border-0 group-hover:opacity-100" href="#how-to-implement-claude-as-a-customer-service-agent">​</a></div><span class="cursor-pointer">How to implement Claude as a customer service agent</span></h2>
<h3 class="flex whitespace-pre-wrap group" id="choose-the-right-claude-model"><div class="absolute"><a aria-label="Navigate to header" class="-ml-10 flex items-center opacity-0 border-0 group-hover:opacity-100" href="#choose-the-right-claude-model">​</a></div><span class="cursor-pointer">Choose the right Claude model</span></h3>
<p>The choice of model depends on the trade-offs between cost, accuracy, and response time.</p>
<p>For customer support chat, <code>claude-3-7-sonnet-20250219</code> is well suited to balance intelligence, latency, and cost. However, for instances where you have conversation flow with multiple prompts including RAG, tool use, and/or long-context prompts, <code>claude-3-haiku-20240307</code> may be more suitable to optimize for latency.</p>
<h3 class="flex whitespace-pre-wrap group" id="build-a-strong-prompt"><div class="absolute"><a aria-label="Navigate to header" class="-ml-10 flex items-center opacity-0 border-0 group-hover:opacity-100" href="#build-a-strong-prompt">​</a></div><span class="cursor-pointer">Build a strong prompt</span></h3>
<p>Using Claude for customer support requires Claude having enough direction and context to respond appropriately, while having enough flexibility to handle a wide range of customer inquiries.</p>
<p>Let’s start by writing the elements of a strong prompt, starting with a system prompt:</p>
<div class="mt-5 mb-8 not-prose rounded-2xl relative text-gray-50 bg-[#0F1117] dark:bg-codeblock dark:ring-1 dark:ring-gray-800/50 codeblock-dark"><div class="min-w-full relative text-sm leading-6 children:!my-0 children:!shadow-none children:!bg-transparent transition-[height] duration-300 ease-in-out" style="font-variant-ligatures:none;height:auto"><div class="overflow-x-auto h-full p-5 overflow-y-hidden scrollbar-thin scrollbar-thumb-rounded scrollbar-thumb-white/20 dark:scrollbar-thumb-white/20 hover:scrollbar-thumb-white/25 dark:hover:scrollbar-thumb-white/25 active:scrollbar-thumb-white/25 dark:active:scrollbar-thumb-white/25"><pre class="language-python"><code class="language-python"><span class="">IDENTITY <span class="token operator">=</span> <span class="token string">""</span>"You are Eva<span class="token punctuation">,</span> a friendly <span class="token keyword">and</span> knowledgeable AI assistant <span class="token keyword">for</span> Acme Insurance </span>
<span class="">Company<span class="token punctuation">.</span> Your role <span class="token keyword">is</span> to warmly welcome customers <span class="token keyword">and</span> provide information on </span>
<span class="">Acme's insurance offerings<span class="token punctuation">,</span> which include car insurance <span class="token keyword">and</span> electric car </span>
<span class="">insurance<span class="token punctuation">.</span> You can also <span class="token builtin">help</span> customers get quotes <span class="token keyword">for</span> their insurance needs<span class="token punctuation">.</span><span class="token string">""</span>"</span>
</code></pre></div></div></div>
<div class="my-4 px-5 py-4 overflow-hidden rounded-2xl flex gap-3 border border-emerald-500/20 bg-emerald-50/50 dark:border-emerald-500/30 dark:bg-emerald-500/10"><div class="text-sm prose min-w-0 text-emerald-900 dark:text-emerald-200">While you may be tempted to put all your information inside a system prompt as a way to separate instructions from the user conversation, Claude actually works best with the bulk of its prompt content written inside the first <code>User</code> turn (with the only exception being role prompting). Read more at <a href="https://docs.anthropic.com/en/docs/build-with-claude/prompt-engineering/system-prompts" rel="noreferrer" target="_blank">Giving Claude a role with a system prompt</a>.</div></div>
<p>It’s best to break down complex prompts into subsections and write one part at a time. For each task, you might find greater success by following a step by step process to define the parts of the prompt Claude would need to do the task well. For this car insurance customer support example, we’ll be writing piecemeal all the parts for a prompt starting with the “Greeting and general guidance” task. This also makes debugging your prompt easier as you can more quickly adjust individual parts of the overall prompt.</p>
<p>We’ll put all of these pieces in a file called <code>config.py</code>.</p>
<div class="mt-5 mb-8 not-prose rounded-2xl relative text-gray-50 bg-[#0F1117] dark:bg-codeblock dark:ring-1 dark:ring-gray-800/50 codeblock-dark"><div class="min-w-full relative text-sm leading-6 children:!my-0 children:!shadow-none children:!bg-transparent transition-[height] duration-300 ease-in-out" style="font-variant-ligatures:none;height:auto"><div class="overflow-x-auto h-full p-5 overflow-y-hidden scrollbar-thin scrollbar-thumb-rounded scrollbar-thumb-white/20 dark:scrollbar-thumb-white/20 hover:scrollbar-thumb-white/25 dark:hover:scrollbar-thumb-white/25 active:scrollbar-thumb-white/25 dark:active:scrollbar-thumb-white/25"><pre class="language-python"><code class="language-python"><span class="">STATIC_GREETINGS_AND_GENERAL <span class="token operator">=</span> <span class="token string">""</span>"</span>
<span class=""><span class="token operator">&lt;</span>static_context<span class="token operator">&gt;</span></span>
<span class="">Acme Auto Insurance<span class="token punctuation">:</span> Your Trusted Companion on the Road</span>
<!-- -->
<span class="">About<span class="token punctuation">:</span></span>
<span class="">At Acme Insurance<span class="token punctuation">,</span> we understand that your vehicle <span class="token keyword">is</span> more than just a mode of transportation—it<span class="token string">'s your ticket to life'</span>s adventures<span class="token punctuation">.</span> </span>
<span class="">Since <span class="token number">1985</span><span class="token punctuation">,</span> we've been crafting auto insurance policies that give drivers the confidence to explore<span class="token punctuation">,</span> commute<span class="token punctuation">,</span> <span class="token keyword">and</span> travel <span class="token keyword">with</span> peace of mind<span class="token punctuation">.</span></span>
<span class="">Whether you're navigating city streets <span class="token keyword">or</span> embarking on cross<span class="token operator">-</span>country road trips<span class="token punctuation">,</span> Acme <span class="token keyword">is</span> there to protect you <span class="token keyword">and</span> your vehicle<span class="token punctuation">.</span> </span>
<span class="">Our innovative auto insurance policies are designed to adapt to your unique needs<span class="token punctuation">,</span> covering everything <span class="token keyword">from</span> fender benders to major collisions<span class="token punctuation">.</span></span>
<span class="">With Acme's award<span class="token operator">-</span>winning customer service <span class="token keyword">and</span> swift claim resolution<span class="token punctuation">,</span> you can focus on the joy of driving <span class="token keyword">while</span> we handle the rest<span class="token punctuation">.</span> </span>
<span class="">We<span class="token string">'re not just an insurance provider—we'</span>re your co<span class="token operator">-</span>pilot <span class="token keyword">in</span> life's journeys<span class="token punctuation">.</span></span>
<span class="">Choose Acme Auto Insurance <span class="token keyword">and</span> experience the assurance that comes <span class="token keyword">with</span> superior coverage <span class="token keyword">and</span> genuine care<span class="token punctuation">.</span> Because at Acme<span class="token punctuation">,</span> we don't just </span>
<span class="">insure your car—we fuel your adventures on the <span class="token builtin">open</span> road<span class="token punctuation">.</span></span>
<!-- -->
<span class="">Note<span class="token punctuation">:</span> We also offer specialized coverage <span class="token keyword">for</span> electric vehicles<span class="token punctuation">,</span> ensuring that drivers of <span class="token builtin">all</span> car types can benefit <span class="token keyword">from</span> our protection<span class="token punctuation">.</span></span>
<!-- -->
<span class="">Acme Insurance offers the following products<span class="token punctuation">:</span></span>
<span class=""><span class="token operator">-</span> Car insurance</span>
<span class=""><span class="token operator">-</span> Electric car insurance</span>
<span class=""><span class="token operator">-</span> Two<span class="token operator">-</span>wheeler insurance</span>
<!-- -->
<span class="">Business hours<span class="token punctuation">:</span> Monday<span class="token operator">-</span>Friday<span class="token punctuation">,</span> <span class="token number">9</span> AM <span class="token operator">-</span> <span class="token number">5</span> PM EST</span>
<span class="">Customer service number<span class="token punctuation">:</span> <span class="token number">1</span><span class="token operator">-</span><span class="token number">800</span><span class="token operator">-</span><span class="token number">123</span><span class="token operator">-</span><span class="token number">4567</span></span>
<span class=""><span class="token operator">&lt;</span><span class="token operator">/</span>static_context<span class="token operator">&gt;</span></span>
<span class=""><span class="token string">""</span>"</span>
</code></pre></div></div></div>
<p>We’ll then do the same for our car insurance and electric car insurance information.</p>
<div class="mt-5 mb-8 not-prose rounded-2xl relative text-gray-50 bg-[#0F1117] dark:bg-codeblock dark:ring-1 dark:ring-gray-800/50 codeblock-dark"><div class="min-w-full relative text-sm leading-6 children:!my-0 children:!shadow-none children:!bg-transparent transition-[height] duration-300 ease-in-out" style="font-variant-ligatures:none;height:auto"><div class="overflow-x-auto h-full p-5 overflow-y-hidden scrollbar-thin scrollbar-thumb-rounded scrollbar-thumb-white/20 dark:scrollbar-thumb-white/20 hover:scrollbar-thumb-white/25 dark:hover:scrollbar-thumb-white/25 active:scrollbar-thumb-white/25 dark:active:scrollbar-thumb-white/25"><pre class="language-python"><code class="language-python"><span class="">STATIC_CAR_INSURANCE<span class="token operator">=</span><span class="token string">""</span>"</span>
<span class=""><span class="token operator">&lt;</span>static_context<span class="token operator">&gt;</span></span>
<span class="">Car Insurance Coverage<span class="token punctuation">:</span></span>
<span class="">Acme's car insurance policies typically cover<span class="token punctuation">:</span></span>
<span class=""><span class="token number">1.</span> Liability coverage<span class="token punctuation">:</span> Pays <span class="token keyword">for</span> bodily injury <span class="token keyword">and</span> <span class="token builtin">property</span> damage you cause to others<span class="token punctuation">.</span></span>
<span class=""><span class="token number">2.</span> Collision coverage<span class="token punctuation">:</span> Pays <span class="token keyword">for</span> damage to your car <span class="token keyword">in</span> an accident<span class="token punctuation">.</span></span>
<span class=""><span class="token number">3.</span> Comprehensive coverage<span class="token punctuation">:</span> Pays <span class="token keyword">for</span> damage to your car <span class="token keyword">from</span> non<span class="token operator">-</span>collision incidents<span class="token punctuation">.</span></span>
<span class=""><span class="token number">4.</span> Medical payments coverage<span class="token punctuation">:</span> Pays <span class="token keyword">for</span> medical expenses after an accident<span class="token punctuation">.</span></span>
<span class=""><span class="token number">5.</span> Uninsured<span class="token operator">/</span>underinsured motorist coverage<span class="token punctuation">:</span> Protects you <span class="token keyword">if</span> you're hit by a driver <span class="token keyword">with</span> insufficient insurance<span class="token punctuation">.</span></span>
<!-- -->
<span class="">Optional coverages include<span class="token punctuation">:</span></span>
<span class=""><span class="token operator">-</span> Rental car reimbursement</span>
<span class=""><span class="token operator">-</span> Roadside assistance</span>
<span class=""><span class="token operator">-</span> New car replacement</span>
<span class=""><span class="token operator">&lt;</span><span class="token operator">/</span>static_context<span class="token operator">&gt;</span></span>
<span class=""><span class="token string">""</span>"</span>
<!-- -->
<span class="">STATIC_ELECTRIC_CAR_INSURANCE<span class="token operator">=</span><span class="token string">""</span>"</span>
<span class=""><span class="token operator">&lt;</span>static_context<span class="token operator">&gt;</span></span>
<span class="">Electric Car Insurance<span class="token punctuation">:</span></span>
<span class="">Our specialized electric car insurance goes beyond traditional auto coverage<span class="token punctuation">,</span> </span>
<span class="">offering tailored protection <span class="token keyword">for</span> your high<span class="token operator">-</span>tech investment<span class="token punctuation">.</span> In addition to standard coverages<span class="token punctuation">,</span> we offer<span class="token punctuation">:</span></span>
<span class=""><span class="token operator">-</span> Safeguarding expensive battery systems</span>
<span class=""><span class="token operator">-</span> Covering home charging equipment</span>
<span class=""><span class="token operator">-</span> Adapting to the rapidly evolving world of electric vehicles</span>
<!-- -->
<span class="">Whether you're driving a Rivian<span class="token punctuation">,</span> Nissan Leaf<span class="token punctuation">,</span> Chevrolet Bolt<span class="token punctuation">,</span> </span>
<span class=""><span class="token keyword">or</span> <span class="token builtin">any</span> other electric vehicle<span class="token punctuation">,</span> our knowledgeable agents are ready to craft a policy </span>
<span class="">that gives you the confidence to enjoy every electron<span class="token operator">-</span>powered mile<span class="token punctuation">.</span></span>
<span class=""><span class="token operator">&lt;</span><span class="token operator">/</span>static_context<span class="token operator">&gt;</span></span>
<span class=""><span class="token string">""</span>"</span>
</code></pre></div></div></div>
<p>Now that we have our static content, let’s add at least 4-5 sample “good” interactions to guide Claude’s responses. These examples should be representative of your ideal customer interaction and can include guardrails, tool calls, etc.</p>
<div class="mt-5 mb-8 not-prose rounded-2xl relative text-gray-50 bg-[#0F1117] dark:bg-codeblock dark:ring-1 dark:ring-gray-800/50 codeblock-dark"><div class="min-w-full relative text-sm leading-6 children:!my-0 children:!shadow-none children:!bg-transparent transition-[height] duration-300 ease-in-out" style="font-variant-ligatures:none;height:auto"><div class="overflow-x-auto h-full p-5 overflow-y-hidden scrollbar-thin scrollbar-thumb-rounded scrollbar-thumb-white/20 dark:scrollbar-thumb-white/20 hover:scrollbar-thumb-white/25 dark:hover:scrollbar-thumb-white/25 active:scrollbar-thumb-white/25 dark:active:scrollbar-thumb-white/25"><pre class="language-python"><code class="language-python"><span class="">EXAMPLES<span class="token operator">=</span><span class="token string">""</span>"</span>
<span class="">Here are a few examples of how you can interact <span class="token keyword">with</span> customers<span class="token punctuation">:</span></span>
<!-- -->
<span class=""><span class="token operator">&lt;</span>example <span class="token number">1</span><span class="token operator">&gt;</span></span>
<span class="">H<span class="token punctuation">:</span> Hi<span class="token punctuation">,</span> do you offer commercial insurance <span class="token keyword">for</span> small businesses?</span>
<!-- -->
<span class="">A<span class="token punctuation">:</span> Ah! Unfortunately<span class="token punctuation">,</span> we don't offer commercial insurance at this time<span class="token punctuation">.</span> </span>
<span class="">However<span class="token punctuation">,</span> we do provide a <span class="token builtin">range</span> of personal insurance products including car insurance <span class="token keyword">and</span> electric car insurance<span class="token punctuation">.</span> </span>
<span class="">Would you like to know more about these offerings?</span>
<span class=""><span class="token operator">&lt;</span><span class="token operator">/</span>example <span class="token number">1</span><span class="token operator">&gt;</span></span>
<!-- -->
<span class=""><span class="token operator">&lt;</span>example <span class="token number">2</span><span class="token operator">&gt;</span></span>
<span class="">H<span class="token punctuation">:</span> Hi<span class="token punctuation">,</span> what are your business hours?</span>
<!-- -->
<span class="">A<span class="token punctuation">:</span> Our business hours are Monday to Friday<span class="token punctuation">,</span> <span class="token number">9</span> AM to <span class="token number">5</span> PM EST<span class="token punctuation">.</span> </span>
<span class="">If you have <span class="token builtin">any</span> questions <span class="token keyword">or</span> need assistance<span class="token punctuation">,</span> feel free to reach out during those times<span class="token punctuation">.</span> </span>
<span class="">How <span class="token keyword">else</span> can I assist you today?</span>
<span class=""><span class="token operator">&lt;</span><span class="token operator">/</span>example <span class="token number">2</span><span class="token operator">&gt;</span></span>
<!-- -->
<span class=""><span class="token operator">&lt;</span>example <span class="token number">3</span><span class="token operator">&gt;</span></span>
<span class="">H<span class="token punctuation">:</span> I'm shopping <span class="token keyword">for</span> car insurance<span class="token punctuation">.</span> What does Acme offer?</span>
<!-- -->
<span class="">A<span class="token punctuation">:</span> Great choice! Acme's car insurance policies typically include<span class="token punctuation">:</span></span>
<span class=""><span class="token operator">-</span> Liability coverage<span class="token punctuation">:</span> Protects you <span class="token keyword">if</span> you're at fault <span class="token keyword">in</span> an accident</span>
<span class=""><span class="token operator">-</span> Collision coverage<span class="token punctuation">:</span> Pays <span class="token keyword">for</span> damage to your car <span class="token keyword">in</span> an accident</span>
<span class=""><span class="token operator">-</span> Comprehensive coverage<span class="token punctuation">:</span> Covers non<span class="token operator">-</span>collision incidents like theft <span class="token keyword">or</span> vandalism</span>
<span class=""><span class="token operator">-</span> Medical payments coverage<span class="token punctuation">:</span> Pays <span class="token keyword">for</span> medical expenses after an accident</span>
<span class=""><span class="token operator">-</span> Uninsured<span class="token operator">/</span>underinsured motorist coverage<span class="token punctuation">:</span> Protects you <span class="token keyword">from</span> drivers <span class="token keyword">with</span> insufficient insurance</span>
<!-- -->
<span class="">We also offer optional coverages like rental car reimbursement<span class="token punctuation">,</span> roadside assistance<span class="token punctuation">,</span> <span class="token keyword">and</span> new car replacement<span class="token punctuation">.</span> </span>
<span class="">Would you like more details on <span class="token builtin">any</span> of these coverages<span class="token punctuation">,</span> <span class="token keyword">or</span> do you have specific questions about insuring your vehicle?</span>
<span class=""><span class="token operator">&lt;</span><span class="token operator">/</span>example <span class="token number">3</span><span class="token operator">&gt;</span></span>
<!-- -->
<span class=""><span class="token operator">&lt;</span>example <span class="token number">4</span><span class="token operator">&gt;</span></span>
<span class="">H<span class="token punctuation">:</span> I'd like to hear about your electric car insurance<span class="token punctuation">.</span></span>
<!-- -->
<span class="">A<span class="token punctuation">:</span> Certainly! Our electric car insurance <span class="token keyword">is</span> specially designed to meet the unique needs of electric vehicle owners<span class="token punctuation">.</span> </span>
<span class="">In addition to <span class="token builtin">all</span> the standard coverages we offer <span class="token keyword">for</span> regular cars<span class="token punctuation">,</span> our electric car policies include<span class="token punctuation">:</span></span>
<!-- -->
<span class=""><span class="token operator">-</span> Battery coverage<span class="token punctuation">:</span> Protection against damage <span class="token keyword">or</span> degradation of your vehicle's expensive battery system</span>
<span class=""><span class="token operator">-</span> Tech package<span class="token punctuation">:</span> Covers repairs <span class="token keyword">or</span> replacement of advanced electronics <span class="token keyword">and</span> onboard computer systems</span>
<span class=""><span class="token operator">-</span> Charging station coverage<span class="token punctuation">:</span> Protects both home <span class="token keyword">and</span> portable charging equipment</span>
<span class=""><span class="token operator">-</span> Cybersecurity protection<span class="token punctuation">:</span> Coverage against hacking <span class="token keyword">or</span> digital threats</span>
<span class=""><span class="token operator">-</span> Specialized roadside assistance<span class="token punctuation">:</span> Includes flatbed towing to protect the vehicle's undercarriage</span>
<!-- -->
<span class="">We cover a wide <span class="token builtin">range</span> of electric vehicles<span class="token punctuation">,</span> including popular models <span class="token keyword">from</span> Tesla<span class="token punctuation">,</span> Rivian<span class="token punctuation">,</span> Nissan<span class="token punctuation">,</span> Chevrolet<span class="token punctuation">,</span> <span class="token keyword">and</span> more<span class="token punctuation">.</span> </span>
<span class="">Is there a specific electric vehicle you're looking to insure<span class="token punctuation">,</span> <span class="token keyword">or</span> would you like more details on <span class="token builtin">any</span> of these coverages?</span>
<span class=""><span class="token operator">&lt;</span><span class="token operator">/</span>example <span class="token number">4</span><span class="token operator">&gt;</span></span>
<!-- -->
<span class=""><span class="token operator">&lt;</span>example <span class="token number">5</span><span class="token operator">&gt;</span></span>
<span class="">H<span class="token punctuation">:</span> I'd like to get a quote <span class="token keyword">for</span> my car insurance<span class="token punctuation">.</span></span>
<!-- -->
<span class="">A<span class="token punctuation">:</span> Certainly! I'd be happy to <span class="token builtin">help</span> you get a quote <span class="token keyword">for</span> your car insurance<span class="token punctuation">.</span> </span>
<span class="">To provide you <span class="token keyword">with</span> an accurate quote<span class="token punctuation">,</span> I'll need to collect some information about your vehicle <span class="token keyword">and</span> the primary driver<span class="token punctuation">.</span> </span>
<span class="">Let's start <span class="token keyword">with</span> the basics<span class="token punctuation">:</span></span>
<!-- -->
<span class=""><span class="token number">1.</span> What <span class="token keyword">is</span> the make <span class="token keyword">and</span> model of your vehicle?</span>
<span class=""><span class="token number">2.</span> What year was it manufactured?</span>
<span class=""><span class="token number">3.</span> Approximately how many miles have you driven?</span>
<span class=""><span class="token number">4.</span> What <span class="token keyword">is</span> the age of the primary driver?</span>
<!-- -->
<span class="">Once you provide this information<span class="token punctuation">,</span> I'll use our quoting tool to generate a personalized insurance quote <span class="token keyword">for</span> you<span class="token punctuation">.</span></span>
<span class=""><span class="token operator">&lt;</span><span class="token operator">/</span>example <span class="token number">5</span><span class="token operator">&gt;</span></span>
<span class=""><span class="token string">""</span>"</span>
</code></pre></div></div></div>
<p>You will also want to include any important instructions outlining Do’s and Don’ts for how Claude should interact with the customer.
This may draw from brand guardrails or support policies.</p>
<div class="mt-5 mb-8 not-prose rounded-2xl relative text-gray-50 bg-[#0F1117] dark:bg-codeblock dark:ring-1 dark:ring-gray-800/50 codeblock-dark"><div class="min-w-full relative text-sm leading-6 children:!my-0 children:!shadow-none children:!bg-transparent transition-[height] duration-300 ease-in-out" style="font-variant-ligatures:none;height:auto"><div class="overflow-x-auto h-full p-5 overflow-y-hidden scrollbar-thin scrollbar-thumb-rounded scrollbar-thumb-white/20 dark:scrollbar-thumb-white/20 hover:scrollbar-thumb-white/25 dark:hover:scrollbar-thumb-white/25 active:scrollbar-thumb-white/25 dark:active:scrollbar-thumb-white/25"><pre class="language-python"><code class="language-python"><span class="">ADDITIONAL_GUARDRAILS <span class="token operator">=</span> <span class="token string">""</span>"Please adhere to the following guardrails<span class="token punctuation">:</span></span>
<span class=""><span class="token number">1.</span> Only provide information about insurance types listed <span class="token keyword">in</span> our offerings<span class="token punctuation">.</span></span>
<span class=""><span class="token number">2.</span> If asked about an insurance <span class="token builtin">type</span> we don't offer<span class="token punctuation">,</span> politely state </span>
<span class="">that we don't provide that service<span class="token punctuation">.</span></span>
<span class=""><span class="token number">3.</span> Do <span class="token keyword">not</span> speculate about future product offerings <span class="token keyword">or</span> company plans<span class="token punctuation">.</span></span>
<span class=""><span class="token number">4.</span> Don<span class="token string">'t make promises or enter into agreements it'</span>s <span class="token keyword">not</span> authorized to make<span class="token punctuation">.</span></span>
<span class="">You only provide information <span class="token keyword">and</span> guidance<span class="token punctuation">.</span></span>
<span class=""><span class="token number">5.</span> Do <span class="token keyword">not</span> mention <span class="token builtin">any</span> competitor's products <span class="token keyword">or</span> services<span class="token punctuation">.</span></span>
<span class=""><span class="token string">""</span>"</span>
</code></pre></div></div></div>
<p>Now let’s combine all these sections into a single string to use as our prompt.</p>
<div class="mt-5 mb-8 not-prose rounded-2xl relative text-gray-50 bg-[#0F1117] dark:bg-codeblock dark:ring-1 dark:ring-gray-800/50 codeblock-dark"><div class="min-w-full relative text-sm leading-6 children:!my-0 children:!shadow-none children:!bg-transparent transition-[height] duration-300 ease-in-out" style="font-variant-ligatures:none;height:auto"><div class="overflow-x-auto h-full p-5 overflow-y-hidden scrollbar-thin scrollbar-thumb-rounded scrollbar-thumb-white/20 dark:scrollbar-thumb-white/20 hover:scrollbar-thumb-white/25 dark:hover:scrollbar-thumb-white/25 active:scrollbar-thumb-white/25 dark:active:scrollbar-thumb-white/25"><pre class="language-python"><code class="language-python"><span class="">TASK_SPECIFIC_INSTRUCTIONS <span class="token operator">=</span> <span class="token string">' '</span><span class="token punctuation">.</span>join<span class="token punctuation">(</span><span class="token punctuation">[</span></span>
<span class="">   STATIC_GREETINGS_AND_GENERAL<span class="token punctuation">,</span></span>
<span class="">   STATIC_CAR_INSURANCE<span class="token punctuation">,</span></span>
<span class="">   STATIC_ELECTRIC_CAR_INSURANCE<span class="token punctuation">,</span></span>
<span class="">   EXAMPLES<span class="token punctuation">,</span></span>
<span class="">   ADDITIONAL_GUARDRAILS<span class="token punctuation">,</span></span>
<span class=""><span class="token punctuation">]</span><span class="token punctuation">)</span></span>
</code></pre></div></div></div>
<h3 class="flex whitespace-pre-wrap group" id="add-dynamic-and-agentic-capabilities-with-tool-use"><div class="absolute"><a aria-label="Navigate to header" class="-ml-10 flex items-center opacity-0 border-0 group-hover:opacity-100" href="#add-dynamic-and-agentic-capabilities-with-tool-use">​</a></div><span class="cursor-pointer">Add dynamic and agentic capabilities with tool use</span></h3>
<p>Claude is capable of taking actions and retrieving information dynamically using client-side tool use functionality. Start by listing any external tools or APIs the prompt should utilize.</p>
<p>For this example, we will start with one tool for calculating the quote.</p>
<div class="my-4 px-5 py-4 overflow-hidden rounded-2xl flex gap-3 border border-emerald-500/20 bg-emerald-50/50 dark:border-emerald-500/30 dark:bg-emerald-500/10"><div class="text-sm prose min-w-0 text-emerald-900 dark:text-emerald-200">As a reminder, this tool will not perform the actual calculation, it will just signal to the application that a tool should be used with whatever arguments specified.</div></div>
<p>Example insurance quote calculator:</p>
<div class="mt-5 mb-8 not-prose rounded-2xl relative text-gray-50 bg-[#0F1117] dark:bg-codeblock dark:ring-1 dark:ring-gray-800/50 codeblock-dark"><div class="min-w-full relative text-sm leading-6 children:!my-0 children:!shadow-none children:!bg-transparent transition-[height] duration-300 ease-in-out" style="font-variant-ligatures:none;height:auto"><div class="overflow-x-auto h-full p-5 overflow-y-hidden scrollbar-thin scrollbar-thumb-rounded scrollbar-thumb-white/20 dark:scrollbar-thumb-white/20 hover:scrollbar-thumb-white/25 dark:hover:scrollbar-thumb-white/25 active:scrollbar-thumb-white/25 dark:active:scrollbar-thumb-white/25"><pre class="language-python"><code class="language-python"><span class="">TOOLS <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">{</span></span>
<span class="">  <span class="token string">"name"</span><span class="token punctuation">:</span> <span class="token string">"get_quote"</span><span class="token punctuation">,</span></span>
<span class="">  <span class="token string">"description"</span><span class="token punctuation">:</span> <span class="token string">"Calculate the insurance quote based on user input. Returned value is per month premium."</span><span class="token punctuation">,</span></span>
<span class="">  <span class="token string">"input_schema"</span><span class="token punctuation">:</span> <span class="token punctuation">{</span></span>
<span class="">    <span class="token string">"type"</span><span class="token punctuation">:</span> <span class="token string">"object"</span><span class="token punctuation">,</span></span>
<span class="">    <span class="token string">"properties"</span><span class="token punctuation">:</span> <span class="token punctuation">{</span></span>
<span class="">      <span class="token string">"make"</span><span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token string">"type"</span><span class="token punctuation">:</span> <span class="token string">"string"</span><span class="token punctuation">,</span> <span class="token string">"description"</span><span class="token punctuation">:</span> <span class="token string">"The make of the vehicle."</span><span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="">      <span class="token string">"model"</span><span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token string">"type"</span><span class="token punctuation">:</span> <span class="token string">"string"</span><span class="token punctuation">,</span> <span class="token string">"description"</span><span class="token punctuation">:</span> <span class="token string">"The model of the vehicle."</span><span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="">      <span class="token string">"year"</span><span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token string">"type"</span><span class="token punctuation">:</span> <span class="token string">"integer"</span><span class="token punctuation">,</span> <span class="token string">"description"</span><span class="token punctuation">:</span> <span class="token string">"The year the vehicle was manufactured."</span><span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="">      <span class="token string">"mileage"</span><span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token string">"type"</span><span class="token punctuation">:</span> <span class="token string">"integer"</span><span class="token punctuation">,</span> <span class="token string">"description"</span><span class="token punctuation">:</span> <span class="token string">"The mileage on the vehicle."</span><span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="">      <span class="token string">"driver_age"</span><span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token string">"type"</span><span class="token punctuation">:</span> <span class="token string">"integer"</span><span class="token punctuation">,</span> <span class="token string">"description"</span><span class="token punctuation">:</span> <span class="token string">"The age of the primary driver."</span><span class="token punctuation">}</span></span>
<span class="">    <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="">    <span class="token string">"required"</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">"make"</span><span class="token punctuation">,</span> <span class="token string">"model"</span><span class="token punctuation">,</span> <span class="token string">"year"</span><span class="token punctuation">,</span> <span class="token string">"mileage"</span><span class="token punctuation">,</span> <span class="token string">"driver_age"</span><span class="token punctuation">]</span></span>
<span class="">  <span class="token punctuation">}</span></span>
<span class=""><span class="token punctuation">}</span><span class="token punctuation">]</span></span>
<!-- -->
<span class=""><span class="token keyword">def</span> <span class="token function">get_quote</span><span class="token punctuation">(</span>make<span class="token punctuation">,</span> model<span class="token punctuation">,</span> year<span class="token punctuation">,</span> mileage<span class="token punctuation">,</span> driver_age<span class="token punctuation">)</span><span class="token punctuation">:</span></span>
<span class="">    <span class="token triple-quoted-string string">"""Returns the premium per month in USD"""</span></span>
<span class="">    <span class="token comment"># You can call an http endpoint or a database to get the quote.</span></span>
<span class="">    <span class="token comment"># Here, we simulate a delay of 1 seconds and return a fixed quote of 100.</span></span>
<span class="">    time<span class="token punctuation">.</span>sleep<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span></span>
<span class="">    <span class="token keyword">return</span> <span class="token number">100</span></span>
</code></pre></div></div></div>
<h3 class="flex whitespace-pre-wrap group" id="deploy-your-prompts"><div class="absolute"><a aria-label="Navigate to header" class="-ml-10 flex items-center opacity-0 border-0 group-hover:opacity-100" href="#deploy-your-prompts">​</a></div><span class="cursor-pointer">Deploy your prompts</span></h3>
<p>It’s hard to know how well your prompt works without deploying it in a test production setting and <a href="https://docs.anthropic.com/en/docs/build-with-claude/develop-tests" rel="noreferrer" target="_blank">running evaluations</a> so let’s build a small application using our prompt, the Anthropic SDK, and streamlit for a user interface.</p>
<p>In a file called <code>chatbot.py</code>, start by setting up the ChatBot class, which will encapsulate the interactions with the Anthropic SDK.</p>
<p>The class should have two main methods: <code>generate_message</code> and <code>process_user_input</code>.</p>
<div class="mt-5 mb-8 not-prose rounded-2xl relative text-gray-50 bg-[#0F1117] dark:bg-codeblock dark:ring-1 dark:ring-gray-800/50 codeblock-dark"><div class="min-w-full relative text-sm leading-6 children:!my-0 children:!shadow-none children:!bg-transparent transition-[height] duration-300 ease-in-out" style="font-variant-ligatures:none;height:auto"><div class="overflow-x-auto h-full p-5 overflow-y-hidden scrollbar-thin scrollbar-thumb-rounded scrollbar-thumb-white/20 dark:scrollbar-thumb-white/20 hover:scrollbar-thumb-white/25 dark:hover:scrollbar-thumb-white/25 active:scrollbar-thumb-white/25 dark:active:scrollbar-thumb-white/25"><pre class="language-python"><code class="language-python"><span class=""><span class="token keyword">from</span> anthropic <span class="token keyword">import</span> Anthropic</span>
<span class=""><span class="token keyword">from</span> config <span class="token keyword">import</span> IDENTITY<span class="token punctuation">,</span> TOOLS<span class="token punctuation">,</span> MODEL<span class="token punctuation">,</span> get_quote</span>
<span class=""><span class="token keyword">from</span> dotenv <span class="token keyword">import</span> load_dotenv</span>
<!-- -->
<span class="">load_dotenv<span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<!-- -->
<span class=""><span class="token keyword">class</span> <span class="token class-name">ChatBot</span><span class="token punctuation">:</span></span>
<span class="">   <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> session_state<span class="token punctuation">)</span><span class="token punctuation">:</span></span>
<span class="">       self<span class="token punctuation">.</span>anthropic <span class="token operator">=</span> Anthropic<span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="">       self<span class="token punctuation">.</span>session_state <span class="token operator">=</span> session_state</span>
<!-- -->
<span class="">   <span class="token keyword">def</span> <span class="token function">generate_message</span><span class="token punctuation">(</span></span>
<span class="">       self<span class="token punctuation">,</span></span>
<span class="">       messages<span class="token punctuation">,</span></span>
<span class="">       max_tokens<span class="token punctuation">,</span></span>
<span class="">   <span class="token punctuation">)</span><span class="token punctuation">:</span></span>
<span class="">       <span class="token keyword">try</span><span class="token punctuation">:</span></span>
<span class="">           response <span class="token operator">=</span> self<span class="token punctuation">.</span>anthropic<span class="token punctuation">.</span>messages<span class="token punctuation">.</span>create<span class="token punctuation">(</span></span>
<span class="">               model<span class="token operator">=</span>MODEL<span class="token punctuation">,</span></span>
<span class="">               system<span class="token operator">=</span>IDENTITY<span class="token punctuation">,</span></span>
<span class="">               max_tokens<span class="token operator">=</span>max_tokens<span class="token punctuation">,</span></span>
<span class="">               messages<span class="token operator">=</span>messages<span class="token punctuation">,</span></span>
<span class="">               tools<span class="token operator">=</span>TOOLS<span class="token punctuation">,</span></span>
<span class="">           <span class="token punctuation">)</span></span>
<span class="">           <span class="token keyword">return</span> response</span>
<span class="">       <span class="token keyword">except</span> Exception <span class="token keyword">as</span> e<span class="token punctuation">:</span></span>
<span class="">           <span class="token keyword">return</span> <span class="token punctuation">{</span><span class="token string">"error"</span><span class="token punctuation">:</span> <span class="token builtin">str</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">}</span></span>
<!-- -->
<span class="">   <span class="token keyword">def</span> <span class="token function">process_user_input</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> user_input<span class="token punctuation">)</span><span class="token punctuation">:</span></span>
<span class="">       self<span class="token punctuation">.</span>session_state<span class="token punctuation">.</span>messages<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token string">"role"</span><span class="token punctuation">:</span> <span class="token string">"user"</span><span class="token punctuation">,</span> <span class="token string">"content"</span><span class="token punctuation">:</span> user_input<span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<!-- -->
<span class="">       response_message <span class="token operator">=</span> self<span class="token punctuation">.</span>generate_message<span class="token punctuation">(</span></span>
<span class="">           messages<span class="token operator">=</span>self<span class="token punctuation">.</span>session_state<span class="token punctuation">.</span>messages<span class="token punctuation">,</span></span>
<span class="">           max_tokens<span class="token operator">=</span><span class="token number">2048</span><span class="token punctuation">,</span></span>
<span class="">       <span class="token punctuation">)</span></span>
<!-- -->
<span class="">       <span class="token keyword">if</span> <span class="token string">"error"</span> <span class="token keyword">in</span> response_message<span class="token punctuation">:</span></span>
<span class="">           <span class="token keyword">return</span> <span class="token string-interpolation"><span class="token string">f"An error occurred: </span><span class="token interpolation"><span class="token punctuation">{</span>response_message<span class="token punctuation">[</span><span class="token string">'error'</span><span class="token punctuation">]</span><span class="token punctuation">}</span></span><span class="token string">"</span></span></span>
<!-- -->
<span class="">       <span class="token keyword">if</span> response_message<span class="token punctuation">.</span>content<span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token builtin">type</span> <span class="token operator">==</span> <span class="token string">"tool_use"</span><span class="token punctuation">:</span></span>
<span class="">           tool_use <span class="token operator">=</span> response_message<span class="token punctuation">.</span>content<span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span></span>
<span class="">           func_name <span class="token operator">=</span> tool_use<span class="token punctuation">.</span>name</span>
<span class="">           func_params <span class="token operator">=</span> tool_use<span class="token punctuation">.</span><span class="token builtin">input</span></span>
<span class="">           tool_use_id <span class="token operator">=</span> tool_use<span class="token punctuation">.</span><span class="token builtin">id</span></span>
<!-- -->
<span class="">           result <span class="token operator">=</span> self<span class="token punctuation">.</span>handle_tool_use<span class="token punctuation">(</span>func_name<span class="token punctuation">,</span> func_params<span class="token punctuation">)</span></span>
<span class="">           self<span class="token punctuation">.</span>session_state<span class="token punctuation">.</span>messages<span class="token punctuation">.</span>append<span class="token punctuation">(</span></span>
<span class="">               <span class="token punctuation">{</span><span class="token string">"role"</span><span class="token punctuation">:</span> <span class="token string">"assistant"</span><span class="token punctuation">,</span> <span class="token string">"content"</span><span class="token punctuation">:</span> response_message<span class="token punctuation">.</span>content<span class="token punctuation">}</span></span>
<span class="">           <span class="token punctuation">)</span></span>
<span class="">           self<span class="token punctuation">.</span>session_state<span class="token punctuation">.</span>messages<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token punctuation">{</span></span>
<span class="">               <span class="token string">"role"</span><span class="token punctuation">:</span> <span class="token string">"user"</span><span class="token punctuation">,</span></span>
<span class="">               <span class="token string">"content"</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span></span>
<span class="">                   <span class="token string">"type"</span><span class="token punctuation">:</span> <span class="token string">"tool_result"</span><span class="token punctuation">,</span></span>
<span class="">                   <span class="token string">"tool_use_id"</span><span class="token punctuation">:</span> tool_use_id<span class="token punctuation">,</span></span>
<span class="">                   <span class="token string">"content"</span><span class="token punctuation">:</span> <span class="token string-interpolation"><span class="token string">f"</span><span class="token interpolation"><span class="token punctuation">{</span>result<span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">,</span></span>
<span class="">               <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span></span>
<span class="">           <span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<!-- -->
<span class="">           follow_up_response <span class="token operator">=</span> self<span class="token punctuation">.</span>generate_message<span class="token punctuation">(</span></span>
<span class="">               messages<span class="token operator">=</span>self<span class="token punctuation">.</span>session_state<span class="token punctuation">.</span>messages<span class="token punctuation">,</span></span>
<span class="">               max_tokens<span class="token operator">=</span><span class="token number">2048</span><span class="token punctuation">,</span></span>
<span class="">           <span class="token punctuation">)</span></span>
<!-- -->
<span class="">           <span class="token keyword">if</span> <span class="token string">"error"</span> <span class="token keyword">in</span> follow_up_response<span class="token punctuation">:</span></span>
<span class="">               <span class="token keyword">return</span> <span class="token string-interpolation"><span class="token string">f"An error occurred: </span><span class="token interpolation"><span class="token punctuation">{</span>follow_up_response<span class="token punctuation">[</span><span class="token string">'error'</span><span class="token punctuation">]</span><span class="token punctuation">}</span></span><span class="token string">"</span></span></span>
<!-- -->
<span class="">           response_text <span class="token operator">=</span> follow_up_response<span class="token punctuation">.</span>content<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>text</span>
<span class="">           self<span class="token punctuation">.</span>session_state<span class="token punctuation">.</span>messages<span class="token punctuation">.</span>append<span class="token punctuation">(</span></span>
<span class="">               <span class="token punctuation">{</span><span class="token string">"role"</span><span class="token punctuation">:</span> <span class="token string">"assistant"</span><span class="token punctuation">,</span> <span class="token string">"content"</span><span class="token punctuation">:</span> response_text<span class="token punctuation">}</span></span>
<span class="">           <span class="token punctuation">)</span></span>
<span class="">           <span class="token keyword">return</span> response_text</span>
<!-- -->      <!-- -->
<span class="">       <span class="token keyword">elif</span> response_message<span class="token punctuation">.</span>content<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token builtin">type</span> <span class="token operator">==</span> <span class="token string">"text"</span><span class="token punctuation">:</span></span>
<span class="">           response_text <span class="token operator">=</span> response_message<span class="token punctuation">.</span>content<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>text</span>
<span class="">           self<span class="token punctuation">.</span>session_state<span class="token punctuation">.</span>messages<span class="token punctuation">.</span>append<span class="token punctuation">(</span></span>
<span class="">               <span class="token punctuation">{</span><span class="token string">"role"</span><span class="token punctuation">:</span> <span class="token string">"assistant"</span><span class="token punctuation">,</span> <span class="token string">"content"</span><span class="token punctuation">:</span> response_text<span class="token punctuation">}</span></span>
<span class="">           <span class="token punctuation">)</span></span>
<span class="">           <span class="token keyword">return</span> response_text</span>
<!-- -->      <!-- -->
<span class="">       <span class="token keyword">else</span><span class="token punctuation">:</span></span>
<span class="">           <span class="token keyword">raise</span> Exception<span class="token punctuation">(</span><span class="token string">"An error occurred: Unexpected response type"</span><span class="token punctuation">)</span></span>
<!-- -->
<span class="">   <span class="token keyword">def</span> <span class="token function">handle_tool_use</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> func_name<span class="token punctuation">,</span> func_params<span class="token punctuation">)</span><span class="token punctuation">:</span></span>
<span class="">       <span class="token keyword">if</span> func_name <span class="token operator">==</span> <span class="token string">"get_quote"</span><span class="token punctuation">:</span></span>
<span class="">           premium <span class="token operator">=</span> get_quote<span class="token punctuation">(</span><span class="token operator">**</span>func_params<span class="token punctuation">)</span></span>
<span class="">           <span class="token keyword">return</span> <span class="token string-interpolation"><span class="token string">f"Quote generated: $</span><span class="token interpolation"><span class="token punctuation">{</span>premium<span class="token punctuation">:</span><span class="token format-spec">.2f</span><span class="token punctuation">}</span></span><span class="token string"> per month"</span></span></span>
<!-- -->      <!-- -->
<span class="">       <span class="token keyword">raise</span> Exception<span class="token punctuation">(</span><span class="token string">"An unexpected tool was used"</span><span class="token punctuation">)</span></span>
</code></pre></div></div></div>
<h3 class="flex whitespace-pre-wrap group" id="build-your-user-interface"><div class="absolute"><a aria-label="Navigate to header" class="-ml-10 flex items-center opacity-0 border-0 group-hover:opacity-100" href="#build-your-user-interface">​</a></div><span class="cursor-pointer">Build your user interface</span></h3>
<p>Test deploying this code with Streamlit using a main method. This <code>main()</code> function sets up a Streamlit-based chat interface.</p>
<p>We’ll do this in a file called <code>app.py</code></p>
<div class="mt-5 mb-8 not-prose rounded-2xl relative text-gray-50 bg-[#0F1117] dark:bg-codeblock dark:ring-1 dark:ring-gray-800/50 codeblock-dark"><div class="min-w-full relative text-sm leading-6 children:!my-0 children:!shadow-none children:!bg-transparent transition-[height] duration-300 ease-in-out" style="font-variant-ligatures:none;height:auto"><div class="overflow-x-auto h-full p-5 overflow-y-hidden scrollbar-thin scrollbar-thumb-rounded scrollbar-thumb-white/20 dark:scrollbar-thumb-white/20 hover:scrollbar-thumb-white/25 dark:hover:scrollbar-thumb-white/25 active:scrollbar-thumb-white/25 dark:active:scrollbar-thumb-white/25"><pre class="language-python"><code class="language-python"><span class=""><span class="token keyword">import</span> streamlit <span class="token keyword">as</span> st</span>
<span class=""><span class="token keyword">from</span> chatbot <span class="token keyword">import</span> ChatBot</span>
<span class=""><span class="token keyword">from</span> config <span class="token keyword">import</span> TASK_SPECIFIC_INSTRUCTIONS</span>
<!-- -->
<span class=""><span class="token keyword">def</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span></span>
<span class="">   st<span class="token punctuation">.</span>title<span class="token punctuation">(</span><span class="token string">"Chat with Eva, Acme Insurance Company's Assistant🤖"</span><span class="token punctuation">)</span></span>
<!-- -->
<span class="">   <span class="token keyword">if</span> <span class="token string">"messages"</span> <span class="token keyword">not</span> <span class="token keyword">in</span> st<span class="token punctuation">.</span>session_state<span class="token punctuation">:</span></span>
<span class="">       st<span class="token punctuation">.</span>session_state<span class="token punctuation">.</span>messages <span class="token operator">=</span> <span class="token punctuation">[</span></span>
<span class="">           <span class="token punctuation">{</span><span class="token string">'role'</span><span class="token punctuation">:</span> <span class="token string">"user"</span><span class="token punctuation">,</span> <span class="token string">"content"</span><span class="token punctuation">:</span> TASK_SPECIFIC_INSTRUCTIONS<span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="">           <span class="token punctuation">{</span><span class="token string">'role'</span><span class="token punctuation">:</span> <span class="token string">"assistant"</span><span class="token punctuation">,</span> <span class="token string">"content"</span><span class="token punctuation">:</span> <span class="token string">"Understood"</span><span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="">       <span class="token punctuation">]</span></span>
<!-- -->
<span class="">   chatbot <span class="token operator">=</span> ChatBot<span class="token punctuation">(</span>st<span class="token punctuation">.</span>session_state<span class="token punctuation">)</span></span>
<!-- -->
<span class="">   <span class="token comment"># Display user and assistant messages skipping the first two</span></span>
<span class="">   <span class="token keyword">for</span> message <span class="token keyword">in</span> st<span class="token punctuation">.</span>session_state<span class="token punctuation">.</span>messages<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">:</span><span class="token punctuation">]</span><span class="token punctuation">:</span></span>
<span class="">       <span class="token comment"># ignore tool use blocks</span></span>
<span class="">       <span class="token keyword">if</span> <span class="token builtin">isinstance</span><span class="token punctuation">(</span>message<span class="token punctuation">[</span><span class="token string">"content"</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token builtin">str</span><span class="token punctuation">)</span><span class="token punctuation">:</span></span>
<span class="">           <span class="token keyword">with</span> st<span class="token punctuation">.</span>chat_message<span class="token punctuation">(</span>message<span class="token punctuation">[</span><span class="token string">"role"</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">:</span></span>
<span class="">               st<span class="token punctuation">.</span>markdown<span class="token punctuation">(</span>message<span class="token punctuation">[</span><span class="token string">"content"</span><span class="token punctuation">]</span><span class="token punctuation">)</span></span>
<!-- -->
<span class="">   <span class="token keyword">if</span> user_msg <span class="token operator">:=</span> st<span class="token punctuation">.</span>chat_input<span class="token punctuation">(</span><span class="token string">"Type your message here..."</span><span class="token punctuation">)</span><span class="token punctuation">:</span></span>
<span class="">       st<span class="token punctuation">.</span>chat_message<span class="token punctuation">(</span><span class="token string">"user"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>markdown<span class="token punctuation">(</span>user_msg<span class="token punctuation">)</span></span>
<!-- -->
<span class="">       <span class="token keyword">with</span> st<span class="token punctuation">.</span>chat_message<span class="token punctuation">(</span><span class="token string">"assistant"</span><span class="token punctuation">)</span><span class="token punctuation">:</span></span>
<span class="">           <span class="token keyword">with</span> st<span class="token punctuation">.</span>spinner<span class="token punctuation">(</span><span class="token string">"Eva is thinking..."</span><span class="token punctuation">)</span><span class="token punctuation">:</span></span>
<span class="">               response_placeholder <span class="token operator">=</span> st<span class="token punctuation">.</span>empty<span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="">               full_response <span class="token operator">=</span> chatbot<span class="token punctuation">.</span>process_user_input<span class="token punctuation">(</span>user_msg<span class="token punctuation">)</span></span>
<span class="">               response_placeholder<span class="token punctuation">.</span>markdown<span class="token punctuation">(</span>full_response<span class="token punctuation">)</span></span>
<!-- -->
<span class=""><span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">"__main__"</span><span class="token punctuation">:</span></span>
<span class="">   main<span class="token punctuation">(</span><span class="token punctuation">)</span></span>
</code></pre></div></div></div>
<p>Run the program with:</p>
<div class="mt-5 mb-8 not-prose rounded-2xl relative text-gray-50 bg-[#0F1117] dark:bg-codeblock dark:ring-1 dark:ring-gray-800/50 codeblock-dark"><div class="min-w-full relative text-sm leading-6 children:!my-0 children:!shadow-none children:!bg-transparent transition-[height] duration-300 ease-in-out" style="font-variant-ligatures:none;height:auto"><div class="overflow-x-auto h-full p-5 overflow-y-hidden scrollbar-thin scrollbar-thumb-rounded scrollbar-thumb-white/20 dark:scrollbar-thumb-white/20 hover:scrollbar-thumb-white/25 dark:hover:scrollbar-thumb-white/25 active:scrollbar-thumb-white/25 dark:active:scrollbar-thumb-white/25"><pre class="language-plaintext"><code><span class="">streamlit run app.py</span>
</code></pre></div></div></div>
<h3 class="flex whitespace-pre-wrap group" id="evaluate-your-prompts"><div class="absolute"><a aria-label="Navigate to header" class="-ml-10 flex items-center opacity-0 border-0 group-hover:opacity-100" href="#evaluate-your-prompts">​</a></div><span class="cursor-pointer">Evaluate your prompts</span></h3>
<p>Prompting often requires testing and optimization for it to be production ready. To determine the readiness of your solution, evaluate the chatbot performance using a systematic process combining quantitative and qualitative methods. Creating a <a href="https://docs.anthropic.com/en/docs/build-with-claude/develop-tests#building-evals-and-test-cases" rel="noreferrer" target="_blank">strong empirical evaluation</a> based on your defined success criteria will allow you to optimize your prompts.</p>
<div class="my-4 px-5 py-4 overflow-hidden rounded-2xl flex gap-3 border border-emerald-500/20 bg-emerald-50/50 dark:border-emerald-500/30 dark:bg-emerald-500/10"><div class="text-sm prose min-w-0 text-emerald-900 dark:text-emerald-200">The <a href="https://console.anthropic.com/dashboard" rel="noreferrer" target="_blank">Anthropic Console</a> now features an Evaluation tool that allows you to test your prompts under various scenarios.</div></div>
<h3 class="flex whitespace-pre-wrap group" id="improve-performance"><div class="absolute"><a aria-label="Navigate to header" class="-ml-10 flex items-center opacity-0 border-0 group-hover:opacity-100" href="#improve-performance">​</a></div><span class="cursor-pointer">Improve performance</span></h3>
<p>In complex scenarios, it may be helpful to consider additional strategies to improve performance beyond standard <a href="https://docs.anthropic.com/en/docs/build-with-claude/prompt-engineering/overview" rel="noreferrer" target="_blank">prompt engineering techniques</a> &amp; <a href="https://docs.anthropic.com/en/docs/test-and-evaluate/strengthen-guardrails/reduce-hallucinations" rel="noreferrer" target="_blank">guardrail implementation strategies</a>. Here are some common scenarios:</p>
<h4 class="flex whitespace-pre-wrap group" id="reduce-long-context-latency-with-rag"><div class="absolute"><a aria-label="Navigate to header" class="-ml-10 flex items-center opacity-0 border-0 group-hover:opacity-100" href="#reduce-long-context-latency-with-rag">​</a></div><span class="cursor-pointer">Reduce long context latency with RAG</span></h4>
<p>When dealing with large amounts of static and dynamic context, including all information in the prompt can lead to high costs, slower response times, and reaching context window limits. In this scenario, implementing Retrieval Augmented Generation (RAG) techniques can significantly improve performance and efficiency.</p>
<p>By using <a href="https://docs.anthropic.com/en/docs/build-with-claude/embeddings" rel="noreferrer" target="_blank">embedding models like Voyage</a> to convert information into vector representations, you can create a more scalable and responsive system. This approach allows for dynamic retrieval of relevant information based on the current query, rather than including all possible context in every prompt.</p>
<p>Implementing RAG for support use cases <a href="https://github.com/anthropics/anthropic-cookbook/blob/82675c124e1344639b2a875aa9d3ae854709cd83/skills/classification/guide.ipynb" rel="noreferrer" target="_blank">RAG recipe</a> has been shown to increase accuracy, reduce response times, and reduce API costs in systems with extensive context requirements.</p>
<h4 class="flex whitespace-pre-wrap group" id="integrate-real-time-data-with-tool-use"><div class="absolute"><a aria-label="Navigate to header" class="-ml-10 flex items-center opacity-0 border-0 group-hover:opacity-100" href="#integrate-real-time-data-with-tool-use">​</a></div><span class="cursor-pointer">Integrate real-time data with tool use</span></h4>
<p>When dealing with queries that require real-time information, such as account balances or policy details, embedding-based RAG approaches are not sufficient. Instead, you can leverage tool use to significantly enhance your chatbot’s ability to provide accurate, real-time responses. For example, you can use tool use to look up customer information, retrieve order details, and cancel orders on behalf of the customer.</p>
<p>This approach, <a href="https://github.com/anthropics/anthropic-cookbook/blob/main/tool_use/customer_service_agent.ipynb" rel="noreferrer" target="_blank">outlined in our tool use: customer service agent recipe</a>, allows you to seamlessly integrate live data into your Claude’s responses and provide a more personalized and efficient customer experience.</p>
<h4 class="flex whitespace-pre-wrap group" id="strengthen-input-and-output-guardrails"><div class="absolute"><a aria-label="Navigate to header" class="-ml-10 flex items-center opacity-0 border-0 group-hover:opacity-100" href="#strengthen-input-and-output-guardrails">​</a></div><span class="cursor-pointer">Strengthen input and output guardrails</span></h4>
<p>When deploying a chatbot, especially in customer service scenarios, it’s crucial to prevent risks associated with misuse, out-of-scope queries, and inappropriate responses. While Claude is inherently resilient to such scenarios, here are additional steps to strengthen your chatbot guardrails:</p>
<ul>
<li><a href="https://docs.anthropic.com/en/docs/test-and-evaluate/strengthen-guardrails/reduce-hallucinations" rel="noreferrer" target="_blank">Reduce hallucination</a>: Implement fact-checking mechanisms and <a href="https://github.com/anthropics/anthropic-cookbook/blob/main/misc/using_citations.ipynb" rel="noreferrer" target="_blank">citations</a> to ground responses in provided information.</li>
<li>Cross-check information: Verify that the agent’s responses align with your company’s policies and known facts.</li>
<li>Avoid contractual commitments: Ensure the agent doesn’t make promises or enter into agreements it’s not authorized to make.</li>
<li><a href="https://docs.anthropic.com/en/docs/test-and-evaluate/strengthen-guardrails/mitigate-jailbreaks" rel="noreferrer" target="_blank">Mitigate jailbreaks</a>: Use methods like harmlessness screens and input validation to prevent users from exploiting model vulnerabilities, aiming to generate inappropriate content.</li>
<li>Avoid mentioning competitors: Implement a competitor mention filter to maintain brand focus and not mention any competitor’s products or services.</li>
<li><a href="https://docs.anthropic.com/en/docs/test-and-evaluate/strengthen-guardrails/keep-claude-in-character" rel="noreferrer" target="_blank">Keep Claude in character</a>: Prevent Claude from changing their style of context, even during long, complex interactions.</li>
<li>Remove Personally Identifiable Information (PII): Unless explicitly required and authorized, strip out any PII from responses.</li>
</ul>
<h4 class="flex whitespace-pre-wrap group" id="reduce-perceived-response-time-with-streaming"><div class="absolute"><a aria-label="Navigate to header" class="-ml-10 flex items-center opacity-0 border-0 group-hover:opacity-100" href="#reduce-perceived-response-time-with-streaming">​</a></div><span class="cursor-pointer">Reduce perceived response time with streaming</span></h4>
<p>When dealing with potentially lengthy responses, implementing streaming can significantly improve user engagement and satisfaction. In this scenario, users receive the answer progressively instead of waiting for the entire response to be generated.</p>
<p>Here is how to implement streaming:</p>
<ol>
<li>Use the <a href="https://docs.anthropic.com/en/api/messages-streaming" rel="noreferrer" target="_blank">Anthropic Streaming API</a> to support streaming responses.</li>
<li>Set up your frontend to handle incoming chunks of text.</li>
<li>Display each chunk as it arrives, simulating real-time typing.</li>
<li>Implement a mechanism to save the full response, allowing users to view it if they navigate away and return.</li>
</ol>
<p>In some cases, streaming enables the use of more advanced models with higher base latencies, as the progressive display mitigates the impact of longer processing times.</p>
<h4 class="flex whitespace-pre-wrap group" id="scale-your-chatbot"><div class="absolute"><a aria-label="Navigate to header" class="-ml-10 flex items-center opacity-0 border-0 group-hover:opacity-100" href="#scale-your-chatbot">​</a></div><span class="cursor-pointer">Scale your Chatbot</span></h4>
<p>As the complexity of your Chatbot grows, your application architecture can evolve to match. Before you add further layers to your architecture, consider the following less exhaustive options:</p>
<ul>
<li>Ensure that you are making the most out of your prompts and optimizing through prompt engineering. Use our <a href="https://docs.anthropic.com/en/docs/build-with-claude/prompt-engineering/overview" rel="noreferrer" target="_blank">prompt engineering guides</a> to write the most effective prompts.</li>
<li>Add additional <a href="https://docs.anthropic.com/en/docs/build-with-claude/tool-use" rel="noreferrer" target="_blank">tools</a> to the prompt (which can include <a href="https://docs.anthropic.com/en/docs/build-with-claude/prompt-engineering/chain-prompts" rel="noreferrer" target="_blank">prompt chains</a>) and see if you can achieve the functionality required.</li>
</ul>
<p>If your Chatbot handles incredibly varied tasks, you may want to consider adding a <a href="https://github.com/anthropics/anthropic-cookbook/blob/main/skills/classification/guide.ipynb" rel="noreferrer" target="_blank">separate intent classifier</a> to route the initial customer query. For the existing application, this would involve creating a decision tree that would route customer queries through the classifier and then to specialized conversations (with their own set of tools and system prompts). Note, this method requires an additional call to Claude that can increase latency.</p>
<h3 class="flex whitespace-pre-wrap group" id="integrate-claude-into-your-support-workflow"><div class="absolute"><a aria-label="Navigate to header" class="-ml-10 flex items-center opacity-0 border-0 group-hover:opacity-100" href="#integrate-claude-into-your-support-workflow">​</a></div><span class="cursor-pointer">Integrate Claude into your support workflow</span></h3>
<p>While our examples have focused on Python functions callable within a Streamlit environment, deploying Claude for real-time support chatbot requires an API service.</p>
<p>Here’s how you can approach this:</p>
<ol>
<li>
<p>Create an API wrapper: Develop a simple API wrapper around your classification function. For example, you can use Flask API or Fast API to wrap your code into a HTTP Service. Your HTTP service could accept the user input and return the Assistant response in its entirety. Thus, your service could have the following characteristics:</p>
<ul>
<li>Server-Sent Events (SSE): SSE allows for real-time streaming of responses from the server to the client. This is crucial for providing a smooth, interactive experience when working with LLMs.</li>
<li>Caching: Implementing caching can significantly improve response times and reduce unnecessary API calls.</li>
<li>Context retention: Maintaining context when a user navigates away and returns is important for continuity in conversations.</li>
</ul>
</li>
<li>
<p>Build a web interface: Implement a user-friendly web UI for interacting with the Claude-powered agent.</p>
</li>
</ol>
<div class="not-prose grid gap-x-4 sm:grid-cols-2"><a class="card block not-prose font-normal group relative my-2 ring-2 ring-transparent rounded-2xl bg-white dark:bg-background-dark border border-gray-950/10 dark:border-white/10 overflow-hidden w-full cursor-pointer hover:!border-primary dark:hover:!border-primary-light" href="https://github.com/anthropics/anthropic-cookbook/blob/main/skills/retrieval_augmented_generation/guide.ipynb" rel="noreferrer" target="_blank"><div class="px-6 py-5"><div><h2 class="font-semibold text-base text-gray-800 dark:text-white mt-4">Retrieval Augmented Generation (RAG) cookbook</h2><div class="mt-1 font-normal text-sm leading-6 text-gray-600 dark:text-gray-400"><p>Visit our RAG cookbook recipe for more example code and detailed guidance.</p></div></div></div></a><a class="card block not-prose font-normal group relative my-2 ring-2 ring-transparent rounded-2xl bg-white dark:bg-background-dark border border-gray-950/10 dark:border-white/10 overflow-hidden w-full cursor-pointer hover:!border-primary dark:hover:!border-primary-light" href="https://github.com/anthropics/anthropic-cookbook/blob/main/misc/using_citations.ipynb" rel="noreferrer" target="_blank"><div class="px-6 py-5"><div><h2 class="font-semibold text-base text-gray-800 dark:text-white mt-4">Citations cookbook</h2><div class="mt-1 font-normal text-sm leading-6 text-gray-600 dark:text-gray-400"><p>Explore our Citations cookbook recipe for how to ensure accuracy and explainability of information.</p></div></div></div></a></div></div><div class="leading-6 mt-14"><div class="pb-16 w-full"><div class="flex flex-col gap-y-4 xl:flex-col xl:gap-6 min-[1400px]:flex-row md:flex-row md:justify-end"><div class="flex flex-row gap-5 items-center grow justify-between md:justify-start xl:justify-between min-[1400px]:justify-start"><p class="text-sm text-gray-600 dark:text-gray-400">Was this page helpful?</p><div class="flex flex-row gap-3 items-center"><button class="px-3.5 py-2 flex flex-row gap-3 items-center border-standard rounded-xl text-gray-600 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 bg-white/50 dark:bg-codeblock/50 hover:border-gray-400 hover:dark:border-gray-500"><small class="text-sm font-normal leading-4">Yes</small></button><button class="px-3.5 py-2 flex flex-row gap-3 items-center border-standard rounded-xl text-gray-600 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 bg-white/50 dark:bg-codeblock/50 hover:border-gray-400 hover:dark:border-gray-500"><small class="text-sm font-normal leading-4">No</small></button></div></div></div></div><div class="mb-12 px-0.5 flex items-center text-sm font-semibold text-gray-700 dark:text-gray-200"><a class="flex items-center space-x-3 group" href="/en/docs/about-claude/use-case-guides/ticket-routing"><span class="group-hover:text-gray-900 dark:group-hover:text-white">Ticket routing</span></a><a class="flex items-center ml-auto space-x-3 group" href="/en/docs/about-claude/use-case-guides/content-moderation"><span class="group-hover:text-gray-900 dark:group-hover:text-white">Content moderation</span></a></div></div></div><div class="z-10 hidden xl:flex pl-10 box-border w-[19rem]" id="table-of-contents"><div class="fixed text-gray-600 text-sm leading-6 w-[16.5rem] overflow-y-auto space-y-2 h-[calc(100%-10rem)]" id="table-of-contents-content"><div class="text-gray-700 dark:text-gray-300 font-medium flex items-center space-x-2"><span>On this page</span></div><ul><li><a class="py-1 block font-medium hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="#before-building-with-claude">Before building with Claude</a></li><li style="margin-left:1rem"><a class="group flex items-start py-1 whitespace-pre-wrap text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="#decide-whether-to-use-claude-for-support-chat">Decide whether to use Claude for support chat</a></li><li style="margin-left:1rem"><a class="group flex items-start py-1 whitespace-pre-wrap text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="#define-your-ideal-chat-interaction">Define your ideal chat interaction</a></li><li style="margin-left:1rem"><a class="group flex items-start py-1 whitespace-pre-wrap text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="#break-the-interaction-into-unique-tasks">Break the interaction into unique tasks</a></li><li style="margin-left:1rem"><a class="group flex items-start py-1 whitespace-pre-wrap text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="#establish-success-criteria">Establish success criteria</a></li><li><a class="py-1 block font-medium hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="#how-to-implement-claude-as-a-customer-service-agent">How to implement Claude as a customer service agent</a></li><li style="margin-left:1rem"><a class="group flex items-start py-1 whitespace-pre-wrap text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="#choose-the-right-claude-model">Choose the right Claude model</a></li><li style="margin-left:1rem"><a class="group flex items-start py-1 whitespace-pre-wrap text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="#build-a-strong-prompt">Build a strong prompt</a></li><li style="margin-left:1rem"><a class="group flex items-start py-1 whitespace-pre-wrap text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="#add-dynamic-and-agentic-capabilities-with-tool-use">Add dynamic and agentic capabilities with tool use</a></li><li style="margin-left:1rem"><a class="group flex items-start py-1 whitespace-pre-wrap text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="#deploy-your-prompts">Deploy your prompts</a></li><li style="margin-left:1rem"><a class="group flex items-start py-1 whitespace-pre-wrap text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="#build-your-user-interface">Build your user interface</a></li><li style="margin-left:1rem"><a class="group flex items-start py-1 whitespace-pre-wrap text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="#evaluate-your-prompts">Evaluate your prompts</a></li><li style="margin-left:1rem"><a class="group flex items-start py-1 whitespace-pre-wrap text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="#improve-performance">Improve performance</a></li><li style="margin-left:2rem"><a class="group flex items-start py-1 whitespace-pre-wrap text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="#reduce-long-context-latency-with-rag">Reduce long context latency with RAG</a></li><li style="margin-left:2rem"><a class="group flex items-start py-1 whitespace-pre-wrap text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="#integrate-real-time-data-with-tool-use">Integrate real-time data with tool use</a></li><li style="margin-left:2rem"><a class="group flex items-start py-1 whitespace-pre-wrap text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="#strengthen-input-and-output-guardrails">Strengthen input and output guardrails</a></li><li style="margin-left:2rem"><a class="group flex items-start py-1 whitespace-pre-wrap text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="#reduce-perceived-response-time-with-streaming">Reduce perceived response time with streaming</a></li><li style="margin-left:2rem"><a class="group flex items-start py-1 whitespace-pre-wrap text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="#scale-your-chatbot">Scale your Chatbot</a></li><li style="margin-left:1rem"><a class="group flex items-start py-1 whitespace-pre-wrap text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="#integrate-claude-into-your-support-workflow">Integrate Claude into your support workflow</a></li></ul></div></div></div></div></div></div></main></div></html>